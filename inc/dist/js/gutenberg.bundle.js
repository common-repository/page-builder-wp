!function(t){"use strict";var e={cacheElements(){if(void 0===wp.data)return!1;const{subscribe:e}=wp.data;var c=this;c.cache={},c.cache.$gutenberg=t("#editor"),c.cache.$switchMode=t('<div id="wpc-switch-mode"><span class="wpc-switch-mode-button">'+wpc_gutenberg_localize.edit_wpc+"</span></div>"),c.cache.$switchModeButton=c.cache.$switchMode.find(".wpc-switch-mode-button"),c.bindEvents(),e((function(){setTimeout((function(){c.buildPanel()}),1)}))},buildPanel(){const{dispatch:e,select:c}=wp.data;var i=this;i.cache.$gutenberg.find("#wpc-switch-mode").length||i.cache.$gutenberg.find(".edit-post-header-toolbar").append(i.cache.$switchMode),i.cache.$switchModeButton.on("click",(function(i){if(i.preventDefault(),"auto-draft"===c("core/editor").getCurrentPost().status)return c("core/editor").getEditedPostAttribute("title")||e("core/editor").editPost({title:"WP Composer #"+t("#post_ID").val()}),e("core/editor").savePost(),setTimeout((function(){c("core/editor").isSavingPost()&&(location.href=wpc_gutenberg_localize.editLink)}),1e3),!1;location.href=wpc_gutenberg_localize.editLink}))},bindEvents(){this.cache.$switchModeButton.on("click",(function(){wp.data.dispatch("core/editor").savePost()}))},init(){this.cacheElements()}};t((function(){e.init()}))}(jQuery);