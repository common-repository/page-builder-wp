!function(e){"use strict";var t,i,a,o=null;function n(t){if(t.origin===wpc_localize.my_url){if("process_cancel"===t.data)return s(),!1;try{var i=t.data;wpc.tools.isValidJSON(i)&&(i=JSON.parse(i)).hasOwnProperty("my")&&(a=i,e.ajax({url:wpc_localize.rest_url+"actions",type:"POST",dataType:"json",data:{data:{command:"wpc_global_settings",key:"my",val:a}},success:function(t){wpc_localize.my_info=a,"ai"===o&&(e(document).find("#context-menu-layer").trigger("mousedown"),setTimeout((function(){wpc_ai.el.trigger("click")}),100)),"cloud"===o&&e(document).find('[data-action="my_cloud"]').trigger("click"),wpc.ui.myUser.init(),s()}}))}catch(t){wpc.tools.notify(t,"error",e(document).find(".wpc-action-connect").parent(),!1,5e3)}var a}}function s(){null!=t&&(t.close(),window.removeEventListener("message",n)),clearInterval(i),clearInterval(a)}function c(){new Date-window._popupOpenedTime>6e5&&s()}jQuery((function(e){e(document).on("click",".wpc-action-connect",(function(r){o=e(this).data("connect-product"),s(),setTimeout((function(){var e=wpc_localize.my_url+"/connect/?state=1&webdata="+wpc_localize.my_web_data;t=window.open(e,"_blank","width=900,height=750,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no"),window.addEventListener("message",n),i=setInterval(c,1e4),window._popupOpenedTime=new Date,null===t&&alert("Pop-up blocked. Please allow pop-ups for this site."),a=setInterval((function(){t&&t.closed&&s()}),1e3)}),100)}))}))}(jQuery),function(e){"use strict";"undefined"==typeof wpc&&(window.wpc={}),e().extend(wpc.control,{init:function(){wpc.tmce.preInt=e.extend(!0,{},wp.editor.getDefaultSettings()),this.controls()},controls:function(){var t,i=0,a=null;wpc.helpers.icons.version(),e(document).on("click",".add-new-row-cont .add-new-row, .wpc-blank-create-new-row",(function(t){e(this).hasClass("add-new-row")&&e(this).addClass("loadrow wpc-i-spin"),e(this).hasClass("wpc-blank-create-new-row")&&e(this).prepend('<i class="wpc-i-spinner wpc-i-spin"></i>'),wpc.ui.rowManager.add(),t.stopPropagation()})),e(document).on("click",".row-control-cont i",(function(t){switch(e(this).data("action")){case"expcoll":var i=e(this),a=i.closest(".wpc-row"),o="";a.children(".wpc-column").children(".col-inner").toggle(),i.hasClass("collapsed")?(a.removeClass("collapsed"),i.removeClass("collapsed"),o="nocollapsed"):(a.addClass("collapsed"),i.addClass("collapsed"),o="collapsed"),void 0!==t.originalEvent&&("save"!=a.data("save_coll_exp")||i.hasClass("do_not_call")||wpc.ui.rowManager.set.collexp(a,o),i.removeClass("do_not_call"));break;case"clone":wpc.data.info.frontend=!1,e(this).closest(".wpc-inner-row").length?wpc.ui.itemManager.clone(e(this).closest(".has_row_inner").attr("id")):wpc.ui.rowManager.clone(e(this).closest(".wpc-row").attr("id"));break;case"edit":wpc.ui.rowManager.edit(e(this).closest(".wpc-row").attr("id"));break;case"remove":var n=e(this).closest(".wpc-row").attr("id");e.confirm({title:wpc_localize.js_strings.row_delete_q,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){wpc.ui.rowManager.remove(n)},rejectAction:function(){return wpc.ui.frontendEditor.onCustomizer&&wp.customize.previewer.send("wpc-frontend-event","failed"),!1}});break;case"setlabel":var s=e(this).closest(".row-control-cont").find(".wpc_row_label"),c=e(this).closest(".row-control-cont").find(".row_label_editor");e(this).closest(".row-control-cont").find(".wpc_row_label_cont").addClass("edit_label_show"),c.val(s.text()).trigger("change").trigger("focus")}})),e(document).on("click",".wpc_row_label",(function(t){var i=e(this).closest(".row-control-cont").find(".wpc_row_label"),a=e(this).closest(".row-control-cont").find(".row_label_editor");e(this).closest(".row-control-cont").find(".wpc_row_label_cont").addClass("edit_label_show"),a.val(i.text()).trigger("change").trigger("focus")})),e(document).on("click",".wpc_update_row_label:not(.edit_from_fronteditor)",(function(t){var i=e(this).closest(".wpc_row_label_cont"),a=i.find("input").eq(0);a.val()!=e(this).closest(".row-control-cont").find(".wpc_row_label").text()&&(wpc.ui.rowManager.set.label(a),i.find(".wpc_row_label").text(a.val())),i.removeClass("edit_label_show")})),e(document).on("click",".wpc_row_set_label_cont",(function(t){e(this).addClass("edit_label_show").find(".row_label_editor").val(e(this).find(".hidden_label_text").text()).trigger("change").trigger("focus")})),e(document).on("click",".edit_from_fronteditor",(function(t){var i=e(this),a=e(this).closest(".wpc_row_label_cont").find("input").eq(0);if(a.val()!==e(".hidden_label_text").text()){var o={job:"set_label",label:a.val(),postID:wpc.ui.post.id,rowID:wpc.ui.items.row,rowIndex:wpc.data.base.getIndex(wpc.ui.items.row)};wpc.ui.rowManager.set.action(i,o,"set_label"),e(".hidden_label_text").text(a.val())}t.stopPropagation(),i.closest(".wpc_row_set_label_cont").removeClass("edit_label_show")})),e(document).on("click",".wpc_row_label_cancel",(function(t){t.stopPropagation(),e(".edit_label_show").removeClass("edit_label_show")})),e(document).on("click",".cols-row.row-handle",(function(t){var i=e(this).parent();e(this).addClass("on-pick"),e(".columns-picker").remove(),wpc.ui.colManager.renderPicker(i),"save"==i.closest(".wpc-row").data("save_coll_exp")&&i.children(".expcoll-row.collapsed").addClass("do_not_call"),i.children(".expcoll-row.collapsed").trigger("click"),t.stopPropagation()})),e(document).on("click",".close-col-picker",(function(t){e(this).hide(),e(this).closest(".row-control-cont").find(".cols-row.row-handle").removeClass("on-pick"),e(this).parent().fadeOut(100,(function(){e(this).remove()}))})),e(document).on("click",".columns-picker .col-options i",(function(t){e(".col-options i").removeClass("selected-col");var i={cells:e(this).data("cells"),colNum:e(this).data("col-number"),rowID:e(this).closest(".wpc-row").attr("id")};wpc.ui.colManager.switcher(i)})),e(document).on("click",".apply-custom-col",(function(t){var i=wpc.ui.colManager.calculate(e(this).prev().val());i&&(i.rowID=e(this).closest(".wpc-row").attr("id"),wpc.ui.colManager.switcher(i))})),e(document).on("click",".col-prop span",(function(){var t=e(this).data("action"),i=e(this).closest(".wpc_node_column").attr("id"),a=wpc.data.base.getParentIds(i);switch(t){case"add":wpc.ui.picker.load(),e(this).closest(".wpc-row").removeClass("collapsed").find(".col-inner").show(),e(this).closest(".wpc-row").find(".row-control-cont i.expcoll-row").removeClass("collapsed");break;case"edit":wpc.ui.colManager.edit(i);break;case"remove":e.confirm({title:wpc_localize.js_strings.are_u_sure,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){wpc.ui.colManager.remove(a.col_ID)},rejectAction:function(){return wpc.ui.frontendEditor.onCustomizer&&wp.customize.previewer.send("wpc-frontend-event","failed"),!1}})}})),e(document).on("click",".popup-close, .wpc-editor-close",(function(){return e(this).hasClass("popup-close")?(wpc.ui.changeEvent(),!1):wpc.ui.frontendEditor.backendEditorActive?(wpc.ui.builder.close(),!1):wpc.ui.settings.isDirty?(e.confirm({title:wpc_localize.js_strings.need_save,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"",acceptAction:function(){wpc.ui.notify.show(),wpc.data.save(!1,!!wpc.ui.frontendEditor.onCustomizer),wpc.ui.builder.unload()},rejectAction:function(){wpc.helpers.liveEditor.needRestore=!0,wpc.ui.builder.unload()}}),!1):void wpc.ui.builder.unload()})),e(document).on("click",".wpc-popup-expand",(function(){wpc.ui.builder.position.set.fullscreen(e(".wpc-popup-fullscreen").data("opposite-mode"))})),e(document).on("click",".popup-save",(function(e){wpc.ui.notify.show(),wpc.data.base.doUpdateRestorableData=!0,wpc.data.save(!0)})),e(document).on("click",".wpc_enable_wpc_btn",(function(e){wpc.ui.builder.enable(wpc.ui.post.id)})),e(document).on("click",".wpc-popup-template",(function(e){wpc.tools.isOnline()&&wpc_hub.template.load()})),e(document).on("click",".wpc-template-header-close",(function(e){wpc_hub.template.close()})),e(document).on("click",".field-switch-handle:not(.gradient-box-handle):not(.addons-cb):not(.wpc-app-switch-handle)",(function(t){var i=e(this),a=e(this).prev(),o=i.parent(),n=e(this).closest(".wpc-editor-form").attr("data-item-id");i.toggleClass("checked"),i.hasClass("checked")?(a.prop("checked",!0),o.find(".iam-hidden").val("yes").trigger("change"),i.next("[name=use_img_ig_filter]").length&&(i.closest(".wpc-editor-control").next().fadeIn(100),wpc.helpers.generateImageFilters(i.closest(".wpc-editor-control")),wp.customize.previewer.send("live-setImageFilter",{id:n,data:i.closest(".wpc-editor-control").next().find(".primary-value").val(),action:!0})),i.next("[name=fullwidth]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeOut(300),i.next("[name=hover_effect]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeIn(300),i.next("[name=is_thumb]").length&&i.closest(".wpc-editor-control").next().fadeIn(300),i.next("[name=use_icon]").length&&i.closest(".wpc-editor-control").removeClass("no-border").nextAll().slice(0,2).fadeIn(300),i.next("[name=videobg], [name=parallax]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeIn(300),i.next("[name*=bg_control_only]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,6).removeClass("force_hideme").fadeIn(100),i.next("[name=use_sticky]").length&&i.closest(".wpc-editor-control").next().fadeIn(300),i.next("[name=feature_box_btn]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,4).fadeIn(300),i.next("[name=feature_box_social_link]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,5).fadeIn(300),i.next("[name=col_is_block]").length&&wpc.ui.colManager.set(wpc.ui.settings.id,"block"),i.next("[name=cup_icon]").length&&i.closest(".wpc-editor-control").next().fadeIn(300),i.next("[name=map_custom_marker]").length&&i.closest(".wpc-editor-control").next().show().find(".wpc_r_img:checked").trigger("change"),i.next("[name=img_overlay]").length&&i.closest(".wpc-editor-control").next().fadeIn(300),i.next("[name=is_readmore]").length&&i.closest(".wpc-editor-control").next().fadeIn(300),"row_disable"==i.next().attr("name")&&(wpc.ui.rowManager.refreshAfterEdit=!0),i.next("[name=form_recaptcha]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeIn(300),i.next("[name=shapedivider]").length&&(i.closest(".wpc-editor-control").nextAll().slice(0,1).fadeIn(300),wp.customize.previewer.send("live-setShapeDivider",{id:n,data:wpc.ui.shapeDivider.config,type:"row",state:!1,shapes:wpc.tools.getShape(wpc.ui.shapeDivider.config),action:!1}),wpc.ui.shapeDivider.isActive=!wpc.ui.shapeDivider.isActive),i.next("[name=event_all_day]").length&&wpc.helpers.eventCalendar.initDatePicker()):(a.prop("checked",!1),o.parent().find(".iam-hidden").val("no").trigger("change"),i.next("[name=use_img_ig_filter]").length&&(i.closest(".wpc-editor-control").next().fadeOut(100),wpc.helpers.generateImageFilters(i.closest(".wpc-editor-control"),!0),wp.customize.previewer.send("live-setImageFilter",{id:n,data:i.closest(".wpc-editor-control").next().find(".primary-value").val(),action:!1})),i.next("[name=fullwidth]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeIn(300),i.next("[name=hover_effect]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeOut(300),i.next("[name=is_thumb]").length&&i.closest(".wpc-editor-control").next().fadeOut(300),i.next("[name=use_icon]").length&&i.closest(".wpc-editor-control").addClass("no-border").nextAll().slice(0,2).fadeOut(300),i.next("[name=videobg], [name=parallax]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeOut(300),i.next("[name*=bg_control_only]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,6).addClass("force_hideme"),i.next("[name=feature_box_btn]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,4).fadeOut(300),i.next("[name=feature_box_social_link]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,5).fadeOut(300),i.next("[name=col_is_block]").length&&wpc.ui.colManager.set(wpc.ui.settings.id,"default"),i.next("[name=cup_icon]").length&&i.closest(".wpc-editor-control").next().fadeOut(300),i.next("[name=map_custom_marker]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,7).fadeOut(300),i.next("[name=img_overlay]").length&&i.closest(".wpc-editor-control").next().fadeOut(300),i.next("[name=is_readmore]").length&&i.closest(".wpc-editor-control").next().fadeOut(300),"row_disable"==i.next().attr("name")&&(wpc.ui.rowManager.refreshAfterEdit=!0),i.next("[name=form_recaptcha]").length&&i.closest(".wpc-editor-control").nextAll().slice(0,2).fadeOut(300),i.next("[name=use_sticky]").length&&i.closest(".wpc-editor-control").next().fadeOut(300),i.next("[name=shapedivider]").length&&(i.closest(".wpc-editor-control").nextAll().slice(0,1).fadeOut(300),wp.customize.previewer.send("live-setShapeDivider",{id:n,data:null,type:"row",action:!0}),wpc.ui.shapeDivider.isActive=!wpc.ui.shapeDivider.isActive),i.next("[name=event_all_day]").length&&wpc.helpers.eventCalendar.initDatePicker())})),e(document).on("click",".item-type-title.add-new-item",(function(e){wpc.ui.picker.load()})),e(document).on("click",".items-box-close",(function(){wpc.ui.picker.close()})),e(document).on("click",".wpc-item ul.wpc-controls li.edit",(function(t){wpc.ui.settings.load(e(this).closest("[data-item-type]").attr("id"))})),e(document).on("click",".wpc-item ul.wpc-controls li.clone",(function(t){wpc.data.info.frontend=!1,wpc.ui.itemManager.clone(e(this).closest(".wpc-item").attr("id"))})),e(document).on("click",".wpc-item ul.wpc-controls li.delete",(function(t){var i=e(this);e.confirm({title:wpc_localize.js_strings.are_u_sure,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){wpc.ui.itemManager.remove(i.closest(".wpc-item").attr("id"))},rejectAction:function(){return wpc.ui.frontendEditor.onCustomizer&&wp.customize.previewer.send("wpc-frontend-event","failed"),!1}})})),e(document).on("click","ul.tabs-cont li",(function(t){e(this).addClass("checked").siblings().removeClass("checked"),e("#content"+e(this).data("tab_id")).show().siblings(".stt-section").hide()})),e(document).on("click",".items-categories li",(function(t){var i=e(this).data("cat"),a=e(this).closest(".wpc-popup-content").find("li.wpc-element-item:not(.exception)");i=i.split("-"),a.hide(),e(".wpc-popup-search-field").val(""),e(".__clear_item_search, .wpc-popup-search-no-item").remove(),e(this).addClass("active").siblings().removeClass("active"),"all"==i[1]?a.fadeIn(200):"fav"==i[1]?e.each(wpc.ui.picker.favorites.items,(function(t,i){e('.wpc-element-item[data-item-type="'+i+'"]').fadeIn(200)})):a.hide().filter((function(){return e(this).data("cat").split(",").map((function(e){return e.trim()})).includes(i[1])})).fadeIn(200)})),e(".wpc-popup-search-field").keyup(_.debounce((function(){var t=!1,i=e(".wpc-popup-search-field").val();e(".__clear_item_search, .wpc-popup-search-no-item").remove(),""!==i?e(".wpc-popup-search").append('<span class="wpc-i-no __clear_item_search"></span>'):e(".__clear_item_search, .wpc-popup-search-no-item").remove(),e(".wpc-element-item").show(),e(".item-desc-cont .cpdes strong").each((function(){var a=e(this).closest(".wpc-element-item");e(this).text().toLowerCase().indexOf(i.toLowerCase())>=0?(t=!0,a.show()):a.hide()})),t||""===i||e(".wpc-components-list").prepend('<span class="wpc-popup-search-no-item">'+wpc_localize.js_strings.no_item+"</span>")}),300)),e(document).on("click",".__clear_item_search",(function(t){return e(".wpc-popup-search-field").val("").trigger("keyup"),!1})),e(document).on("click",".tabs-label",(function(t){var i=e(this),a=i.closest(".wpc-item").data("item-type"),o=i.data("tab_id");"typeTAB"==a&&(i.addClass("tab-active").siblings().removeClass("tab-active"),i.closest(".wpc-views-tabs-wrap").find(".wpc-views-section[data-tab_cont_id="+o+"]").addClass("wpc-section-active").siblings().removeClass("wpc-section-active")),"typeAccordion"==a&&(i.hasClass("tab-active")?(i.parent().find(".tabs-label").removeClass("tab-active"),i.parent().find(".wpc-views-section").removeClass("wpc-section-active")):(i.parent().find(".tabs-label").removeClass("tab-active"),i.parent().find(".wpc-views-section").removeClass("wpc-section-active"),i.addClass("tab-active"),i.next().find(".wpc-views-section[data-tab_cont_id="+o+"]").addClass("wpc-section-active")))})),e(document).on("dblclick",".tabs-label",(function(t){wpc.ui.settings.load(e(this).data("tab_id"))})),e(document).on("click",".wpc-opt-media.media-picker, .media-holder, .media-holder-add",(function(i){i.preventDefault();var a=e(this).closest(".wpc-field-content").find("[data-media-type]").data("media-type");"image"==a&&(e(this).hasClass("multiple_image")?wpc.ui.loadmedia(t,a,e(this),!1,!1,!0):wpc.ui.loadmedia(t,a,e(this),!0,!0)),"video"!=a&&"audio"!=a||wpc.ui.loadmedia(t,a,e("#"+a+"-url"),e("span."+a+"-holder"))})),e(document).on("click",".single-media-preview span.si-close",(function(t){t.preventDefault(),e(this).closest(".wpc-field-content").find("input.primary-value").val("").trigger("change"),e(this).closest(".single-media-preview").find("span.media-holder").html("").removeClass("has_item_inside"),e(this).closest(".field-media-picker").nextAll().slice(0,4).length&&e(this).closest(".field-media-picker").nextAll().slice(0,4).hasClass("field-image-filters")&&wpc.helpers.generateImageFilters(e(this).closest(".field-media-picker").nextAll().slice(0,3)[2],!0)})),e(document).on("click","span.img-del",(function(t){t.stopPropagation();var i=e(this).data("img-id"),a=e(this).closest(".wpc-field-content").find("#mlt-img-url"),o=function(e,t,i){i=i||",";for(var a=e.split(i),o=0;o<a.length;o++)if(a[o]==t)return a.splice(o,1),a.join(i);return a}(a.val(),i,",");a.val(o).trigger("change"),""==a.val()?(e(this).closest(".all-img-list").removeClass("has_item_inside"),e(".wpc_media_editor_note").hide()):e(".wpc_media_editor_note").show(),e(this).parent().fadeOut(500,(function(){this.remove()}))})),e(document).on("change",'.field-select-param[name="size"]',(function(t){var i=e(this),a=i.closest(".wpc-param-row").next();"custom"==i.val()?a.fadeIn(300):a.fadeOut(300)})),e(document).on("change keydown","select.wpc-animate-speed, select.wpc-animate-effect, input.wpc-animate-delay",(function(t){var i=wpc.ui.editorManager.form.find(".wpc-animation-app"),a=i.find("#wpc-animate-preview"),o=i.find(".wpc-animate-effect"),n=i.find(".wpc-animate-delay"),s=i.find(".wpc-animate-speed");a.removeAttr("class"),void 0!==t.keyCode&&13!==t.keyCode||(""!==n.val()?a.css({"animation-delay":n.val()+"ms"}):a.css({"animation-delay":""}),""!==s.val()?a.css({"animation-duration":s.val()}):a.css({"animation-duration":""}),""!==o.val()&&a.attr({class:""}).attr({class:"wpc-animate-preview animated "+this.value}),wpc.ui.frontendEditor.onCustomizer&&wpc.ui.editor.active&&wp.customize.previewer.send("live-setAnimation",{id:e(t.target).closest(".wpc-editor-form").attr("data-item-id"),animationData:{effect:null==o.val()||""==o.val()?"fadeIn":o.val(),speed:null==s.val()||""==s.val()?"1s":s.val(),delay:null==n.val()||""==n.val()?100:n.val()}}))})),e(document).on("click",".wpc-select_group-field-wrp .buttons li",(function(t){var i=e(this);return i.addClass("active").siblings().removeClass("active"),i.closest(".wpc-field-content").find("input").val(i.data("value")),e(t.target).hasClass("field_on_set")||e(this).hasClass("field_on_set")||(i.closest(".wpc-field-content").find("input").trigger("change"),t.preventDefault()),!1})),e(document).on("focus",".wpc-corners-pos input",(function(t){e(this).parent().find(".quantity-nav").hide()})),e(document).on("blur",".wpc-corners-pos input",(function(t){e(this).parent().find(".quantity-nav").show()})),e(document).on("click",".quantity-up, .quantity-down",(function(t){var i=e(this),a=i.closest(".option__input_markup").length?i.closest(".option__input_markup").find(".option-input"):i.closest(".wpc-input-qtt-cont").find("input"),o=a.val().replace(/[0-9]/g,""),n=parseInt(a.val()),s=n,c=a.attr("min"),r=a.attr("max");!0===isNaN(n)&&(n=0),i.hasClass("quantity-up")&&(s=n>=r?n:n+1),i.hasClass("quantity-down")&&(s=n<=c?n:n-1),"number"!==a.attr("type")&&(s+=o),a.val(s),a.trigger("change"),a.hasClass("option-input")?"scroll-effect"===wpc.tools.getActiveTab("advanced")&&wpc.ui.scrollEffects.app.modifyInput(a):"number"!==a.attr("type")&&wpc.helpers.inputValidations(a)})),e(document).on("keypress",".field-number input[type=number]",(function(t){46==t.which&&(46!=t.which||""!=e(this).val())&&-1==e(this).val().indexOf(".")||45==t.which&&-1==e(this).val().indexOf("-")||!(t.which<48||t.which>57)||t.preventDefault()})),e(document).on("input change",".field-number input[type=number]",(function(t){var i=e(this),a=i.val(),o=i.closest(".wpc-field-content").find("input[type=hidden]"),n=a+i.closest(".wpc-field-content").find(".the-units li.active").text();if(o.val(n),e(t.target).hasClass("field_on_set")||e(this).hasClass("field_on_set"))return!1;o.trigger("change")})),e(document).on("click",".field-number ul li",(function(t){var i=e(this);i.parent().find(".active").removeClass("active"),i.addClass("active");var a=i.closest(".wpc-field-content").find("input[type=hidden]"),o=a.val().replace(/[^0-9\.]/g,"");if(""!==o&&(o+=this.innerHTML),a.val(o),e(t.target).hasClass("field_on_set")||e(this).hasClass("field_on_set"))return!1;a.trigger("change")})),e(document).on("keyup dblclick",".wpc-corners-wrp input[data-css-corners]",_.debounce(wpc.helpers.inputValidations,500)),e(document).on("click",".wpc-corners-wrp .m-f-u-li-link",(function(t){if(e(this).hasClass("active"))e(this).removeClass("active");else{e(this).addClass("active");var i=e(this).closest(".wpc-corners-wrp").find("input[data-css-corners]"),a="";i.each((function(){""!==this.value&&""===a&&(a=this.value)})),i.val(a).trigger("change")}})),e(document).on("change",".border-prop .wpc-css-color-param, .wpc-border-style",(function(t){var i=e(this),a=i.val(),o=i.closest(".wpc-field-content").find("input[data-css-corners-value]"),n=o.val().split("|");void 0!==n[0]&&""!=n[0]||(n[0]="2px 2px 2px 2px"),void 0===n[1]&&(n[1]="solid"),void 0===n[2]&&(n[2]="#cacaca"),i.hasClass("wpc-border-style")&&(o.val(n[0]+"|"+a+"|"+n[2]),e(t.target).hasClass("field_on_set")&&e(this).hasClass("field_on_set")||o.trigger("change")),i.hasClass("wpc-css-color-param")&&(o.val(n[0]+"|"+n[1]+"|"+a),e(t.target).hasClass("field_on_set")&&e(this).hasClass("field_on_set")||o.trigger("change"))})),e(document).on("click",".button.link",(function(t){wpc.ui.loadWpLink(e(this))})),e(document).on("click",".wpc-fonts-picker .f-m-launcher, .wpc-fonts-picker .no-fonts-found",(function(e){wpc.ui.picker.fontManager.open(),e.preventDefault()})),e(document).on("focus",".wpc-css-font-family-param",(function(t){var i=e(this),a=e(this).parent().find(".wpc-fonts-list");if(a.html("").show(),"object"==typeof wpcFontsData.wpc_fonts&&Object.keys(wpcFontsData.wpc_fonts).length>0){for(var o in wpcfonts.fonts_callback(wpcFontsData.wpc_fonts),wpcFontsData.wpc_fonts)(o=decodeURIComponent(o))==this.value?a.append("<li style=\"background: #228ED6;font-family: '"+o+"'\">"+o+"</li>"):a.append("<li style=\"font-family: '"+o+"'\">"+o+"</li>");a.find("li").on("click",(function(){i.val(this.innerHTML).change()}))}else a.append('<li class="no-fonts-found">No fonts in list<br />Click here to add new font</li>')})),e(document).on("blur",".wpc-css-font-family-param",(function(t){setTimeout((function(e){e.hide()}),200,e(this).parent().find(".wpc-fonts-list"))})),e(document).on("click",".wpc-style-group-nav li",(function(t){var i=e(this),a=i.data("tab");i.addClass("active").siblings().removeClass("active"),i.closest(".item-edit-control").find("[data-group]").closest(".wpc-param-row").fadeOut(50),i.closest(".item-edit-control").find("[data-group="+a+"]").closest(".wpc-param-row:not(.force_hideme)").fadeIn(100),i.closest(".wpc_absolute_fixed").length&&!wpc.helpers.responsiveHandler.state&&e(".simplebar-content-wrapper").scrollTo(".tabs-cont",200,{offset:{top:-50},easing:"easeOutQuart"})})),e(document).on("change",'.itm-type-typeSeparator .wpc-param-row .field-select-param[name="type"]',(function(t){var i=e(this),a=i.val().split("-");i.closest("#content0").find(".field-text, .field-icon").fadeOut(50),i.closest("#content0").next().find('li[data-tab="sep-icon"], li[data-tab="sep-text"]').hide(),void 0!==a[1]&&(i.closest("#content0").next().find('li[data-tab="sep-'+a[1]+'"]').show(),i.closest("#content0").find(".wpc-editor-control.field-"+a[1]).fadeIn(300))})),e(document).on("change",'.field-select-param[name="media_type"]',(function(t){var i=e(this),a=i.closest(".wpc-param-row").nextAll().slice(0,7);e(a).fadeOut(50),"icon"==i.val()&&e(a[6]).fadeIn(300),"image"==i.val()&&(e(a.slice(0,6)).fadeIn(300),"custom"!=e(a[1]).find(":selected").val()&&e(a[2]).hide(),"yes"!=e(a[3]).find(".primary-value").val()&&e(a[4]).hide())})),e(document).on("change",".wpc_r_img",(function(t){var i=e(this).val(),a=e(this).closest(".wpc-field-content").find(".iam-hidden");e(this).closest(".field-radio-images-cnt").find(".wpc_r_img").not(this).prop("checked",!1),a.val(i).trigger("change")})),e(document).on("change",'[name="map_marker_template"]',(function(t){var i=e(this),a=i.val(),o=i.closest(".wpc-param-row").nextAll().slice(0,6);e(o).hide(),"style_02"==a&&e(o[5]).fadeIn(300),"style_01"==a&&(e(o.slice(0,5)).fadeIn(300),"custom"!=e(o[3]).find(":selected").val()&&e(o[4]).hide())})),e(document).on("change",'.wpc-param-row .field-select-param[data-action="onclickaction"]',(function(t){var i=e(this),a=i.val();i.closest("#content0").find("[data-gallery-group]").closest(".wpc-editor-control").fadeOut(50),i.closest("#content0").find('[data-gallery-group="'+a+'"]').closest(".wpc-editor-control").fadeIn(50)})),e(document).on("change",'.wpc-param-row .field-select-param[name="lightbox_style"]',(function(t){var i=e(this),a=i.closest("#content0").find('.field-select-param[name="prettyphoto_theme"]').closest(".wpc-field-content");"prettyphoto"==i.val()?a.removeClass("is-disabled"):a.addClass("is-disabled")})),e(document).on("click",".wpc-group-controls",(function(t){if(e(t.target).hasClass("delete")||e(t.target).hasClass("wpc-i-close"))return i=e(this).closest(".wpc-group-row"),e.confirm({title:wpc_localize.js_strings.are_u_sure,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){i.remove(),wpc.helpers.liveEditor.applyChanges(),wpc.ui.isDirtyStatus(!0)},rejectAction:function(){return!1}}),!1;var i,a=e(this).closest(".wpc-group-row"),o=a.parent();if(a.hasClass("active"))a.removeClass("active");else{o.find(".wpc-group-row.active").removeClass("active"),a.addClass("active");var n=e(this).position().top;o.closest(".wpc-popup-content-cont").stop(!0,!1).animate({scrollTop:parseInt(n)},10)}})),e(document).on("click",".wpc-menu-group-controls",(function(t){var i=e(this).closest(".wpc-menu-each-row"),a=i.parent();if(i.hasClass("active"))i.removeClass("active");else{a.find(".wpc-menu-each-row.active").removeClass("active"),i.addClass("active");var o=e(this).position().top;a.closest(".wpc-popup-content-cont").stop(!0,!1).animate({scrollTop:parseInt(o)},10)}})),e(document).on("click",".wpc-add-group",(function(t){var i=e(this);template.elements.fieldsMapper(0,wpc.ui.settings.id,"group-panel",wpc.ui.settings.type,!0),wpc.ui.editorManager.addNew=i,wpc.ui.editorManager.init()})),e(document).on("propertychange keyup input cut paste",'.wpc-group-body input.primary-value[data-field-pos="1"], .wpc-group-body textarea.primary-value[data-field-pos="1"]',(function(t){e(this).closest(".wpc-editor-control").parent().prev().find("li.group-label").text(wpc.tools.truncateGroupLabel(e(this).val()))})),e(document).on("change",'.field-select-param[name*="sc_type-"]',(function(t){var i=e(this);i.closest(".wpc-editor-control").parent().prev().find("li.group-label").text(i.find("option:selected").text())})),e(document).on("change",".editor-themes",(function(t){if(void 0===t.originalEvent)return!1;var i=e(this),a=i.parent().next().hasClass("field-codeeditor")?i.parent().next():i.parent().next().find(".field-codeeditor");a=a.data("CodeMirrorInstance");try{localStorage.setItem("wpc-editor-theme",i.val())}catch(t){}a.codemirror.setOption("theme",i.val()),setTimeout((function(){a.codemirror.refresh(),a.codemirror.focus()}),100)})),e(document).on("change",'.field-select-param[name="list_shape"]',(function(t){var i=e(this),a=i.closest(".wpc-editor-control").prev().find(".wpc-group-rows");"list_shape_icon"==i.val()?(a.find(".wpc-param-row.field-icon").show(),a.find(".wpc-group-controls").first().trigger("click").find(".field-icon").first().trigger("focus")):a.find(".wpc-param-row.field-icon").hide()})),e(document).on("click",".add-tabs",(function(t){wpc.ui.tabManager.add(e(this).closest(".wpc-item[data-item-type]").attr("id"))})),e(document).on("click",".wpc-section-active",(function(t){var i=e(t.target),a=e(this).closest(".wpc-item[data-item-type]").data("key-base");if((i.hasClass("add-new-item")||i.hasClass("no-item-in"))&&wpc.ui.picker.load(),i.hasClass("edit-tab")&&wpc.ui.settings.load(e(this).closest("[data-tab_cont_id]").data("tab_cont_id")),i.hasClass("delete-tab"))return function(t,i){e.confirm({title:wpc_localize.js_strings.are_u_sure,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){wpc.ui.settings.keyBase=i,wpc.ui.tabManager.remove(t.closest(".wpc-views-section").data("tab_cont_id"))},rejectAction:function(){return!1}})}(i,a),!1})),e(document).on("change",'.wpc-param-row .field-select-param[name="tabstyle"]',(function(t){var i=e(this),a=i.val();i.closest("#content0").find(".field-select-param:not([name=tabstyle]):not([name=default])").closest(".wpc-param-row").fadeOut(50),i.closest("#content0").find('.field-select-param[name*="'+a+'"]').closest(".wpc-param-row").fadeIn(200)})),e(document).on("change",".bg-style-select",(function(t){var i=e(this).val()+".png";e(".bg-style-preview").hide().html('<img class="bg-type-img" src="'+wpc_localize.backend_asset_dir+"img/preview/angled_edges/"+i+'" height="87" width="240">').fadeIn(500)})),e(document).on("click","ul.wpc_dropdown-list li",(function(t){wpc.ui.frontendEditor.onCustomizer?(wpc.ui.builder.preview.switch(e(this)),(wpc.ui.items.onEdit||wpc.ui.settings.isCustomEdit)&&e(".wpc-editor-close").trigger("click")):wpc.ui.builder.preview.start(e(this))})),e(document).on("click",".wpc-exit-builder",(function(e){if(void 0!==e.originalEvent){if(null!==wpc.ui.post.returnURL||null!=wpc.ui.post.returnURL)return"backToCutomizerPanel"==wpc.ui.post.returnURL?(wpc.ui.frontendEditor.onCustomizer=!1,wpc.ui.builder.preview.stop(),wpc.ui.builder.unload(),wp.customize.previewer.send("wpc-frontend-event","set_editor_off")):window.location=wpc.ui.post.returnURL,!1;wpc.ui.builder.preview.destroy()}wpc.ui.builder.preview.stop()})),e(document).on("click","#global-backend-editor .wpc-button-flat",(function(t){var i=e(t.target);if(i.hasClass("global-backup")&&wpc.data.base.backup(i),i.hasClass("global-restore")&&e("#wpc-json-restore").trigger("click"),i.hasClass("global-reset"))return e.confirm({title:wpc_localize.js_strings.reset_settings,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){wpc.data.base.reset(i)},rejectAction:function(){return!1}}),!1})),e(document).on("change",".wpc-layout-selector",(function(t){e(this).closest(".wpc-field-content").find(".iam-hidden").val(e(this).val()).trigger("change")})),e(document).on("change","#wpc-json-restore",(function(e){window.File&&window.FileReader&&window.FileList&&window.Blob?wpc.data.base.restore(e):alert(wpc_localize.js_strings.browser_API_err)})),e(document).on("click",".preset-create-now",(function(t){var i=e(this).hasClass("template-create-now")?"templateManager":"presetManager",a=e(this).closest(".preset-create").find(".preset-title").val();if(!a)return!1;wpc.ui[i].add(e(this),a)})),e(document).on("click",".preset-action i.preset-apply",(function(t){var i=e(this).hasClass("template-apply-now")?"templateManager":"presetManager",a=e(this).closest(".the-preset").data("preset-id");wpc.ui[i].apply(e(this),a)})),e(document).on("click",".preset-action i.preset-upload",(function(t){var i=e(this).hasClass("template-upload-now")?"templateManager":"presetManager",a=e(this).closest(".the-preset").data("preset-id");wpc.ui[i].upload(e(this),a)})),e(document).on("click",".preset-action i.preset-delete",(function(t){var i=e(this),a=e(this).hasClass("template-remove-now")?"templateManager":"presetManager",o=i.closest(".the-preset").data("preset-id");return e.confirm({title:wpc_localize.js_strings["templateManager"===a?"template_del_q":"preset_del_q"],acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){wpc.ui[a].remove(i,o)},rejectAction:function(){return!1}}),!1})),e(document).on("click",".wpc_post_type + label",(function(t){var i=e(this),a=i.prev();a.prop("checked")?a.prop("checked",!1).change():a.prop("checked",!0).change(),setTimeout((function(){var e=i.closest(".wpc-field-content").find(".wpc_post_type:checked").map((function(){return this.value})).get().join(",");i.closest(".wpc-field-content").find('input[name="post_type"]').val("").val(e).trigger("change")}),100)})),e(document).on("click",".mltple-img-itm",(function(){if(e(this).hasClass("broken"))return!1;wpc.ui.wpMediaMetaEditor.load(e(this).attr("id"))})),e(document).on("click",".update_media_meta",(function(){null!=e(this).data("media_id")&&(e(this).prepend('<i class="wpc-i-spinner wpc-i-spin"></i>'),wpc.ui.wpMediaMetaEditor.update(e(this).data("media_id")))})),e(document).on("click",".meta_editor_close",(function(){e(this).closest(".meta_editor_ov").fadeOut(100,(function(){e(this).remove()}))})),e(document).on("click",".mce_search_post",(function(){if(""==e(".mce_search_keyword").val()||"none"==e(".mce_post_type").val())return!1;wpc.helpers.posts.search({post_type:e(".mce_post_type").val(),keyword:e(".mce_search_keyword").val(),editor_id:e(".mce_editor_ov").data("id")})})),e(document).on("click",".mce_editor_close",(function(){e(this).closest(".mce_editor_ov").fadeOut(100,(function(){e(this).remove()}))})),e(document).on("click",".wpc-popup-undo-redo",(function(t){var i=e(this).data("action");e(this).addClass("load_data"),wpc.data.base.histories[i]()})),e(document).on("click",".copy_me, .copy_el_id",(function(t){try{var i=e(this).closest(".wpc-field-content").find(".is-disabled_ready_copy");e(this).hasClass("copy_el_id")&&(e(this).parent().append('<input class="temp_for_copy" value="'+e(".the_el_id").text()+'" type="text">'),i=e(".temp_for_copy")),i.select(),document.execCommand("copy"),e(".temp_for_copy").remove(),wpc.tools.notify(wpc_localize.js_strings.id_copied,"success"),i.blur()}catch(e){console.log("Oops, unable to copy!")}})),e(document).on("click",".wpc_autocomplete-remove",(function(t){var i,a=e(this).closest(".wpc_autocomplete").find(".primary-value.woo-product-list"),o=e(this).closest(".wpc_data");i=function(e,t,i){i=i||",";for(var a=e.split(i),o=0;o<a.length;o++)if(a[o]==t)return a.splice(o,1),a.join(i);return a}(a.val(),o.data("value"),","),a.val(i).trigger("change"),o.fadeOut(200,(function(){this.remove(),wpc.helpers.wooCommerceSupport.reloadPanels(a)}))})),e(document).on("change",".wpc-editor-form input:not(.sc_link_field):not([data-self-previewer]):not([data-selector]):not([data-live-preview]):not([name=custom_size]), .wpc-editor-form textarea:not(.shapedividerdata):not([data-self-previewer]):not([data-selector]):not(.field-codeeditor), .wpc-editor-form select",(function(t){if(e(t.target).hasClass("field_on_set")||e(this).hasClass("field_on_set"))return!1;if(wpc.ui.settings.global)return!1;if(wpc.ui.editorManager.addNew)return!1;if(e(t.target).closest("#wpc_shapedivider").length)return!1;if(void 0!==e(t.target).attr("name")&&wpc.ui.editor.active){if(-1!==e.inArray(e(t.target).attr("name"),wpc.helpers.liveEditor.elementExceptions)||-1!==e.inArray(wpc.helpers.liveEditor.elementType,wpc.helpers.liveEditor.elementExceptions))return!1;var i,a,o,n=e(t.target).attr("name"),s=!1;if(-1!==n.indexOf("|")&&(i=n.split("|")[0],a=n.split("|")[1],o=e(t.target).val()),e(t.target).closest(".field-switch").length&&(i=a=o="wpc_switch"),void 0===i||void 0!==e(t.target).data("type")&&"css"!==e(t.target).data("type")||void 0===e(t.target).data("type"))return void 0!==e(t.target).data("field")&&"field-color"==e(t.target).data("field")||wpc.helpers.liveEditor.applyChanges(),!1;if(-1!==n.indexOf("|background-image")||-1!==n.indexOf("|bg_control_only")){var c=e(t.target).closest(".wpc-editor-control").nextAll().slice(0,6),r=["none","no-repeat","center center","scroll","cover","normal"];-1!==n.indexOf("|background-image")&&(c=e(t.target).closest(".wpc-editor-control").prev().nextAll().slice(0,6)),s=[],e.each(c,(function(t,i){var a=e(i).find(".primary-value").val();""==a&&(a=r[t]),s.push(a)})),wpc.helpers.liveEditor.applyChanges()}wp.customize.previewer.send("live-preview",{id:e(t.target).closest(".wpc-editor-form").attr("data-item-id"),rowID:wpc.ui.items.row,className:i,cssAttr:a,style:o,bgProp:s,controlType:!1,inlineCss:!0,additionalCssProperty:!!e(t.target).attr("data-add-css-property")&&e(t.target).attr("data-add-css-property"),additionalCssRelation:!!e(t.target).attr("data-add-css-relation")&&e(t.target).attr("data-add-css-relation"),type:wpc.helpers.liveEditor.elementType,dataType:e(t.target).attr("data-type"),device:wpc.helpers.responsiveHandler.mode})}})),e(document).on("propertychange keyup input cut paste",".wpc-editor-form input:not([data-group]):not([name=custom_size]):not([data-live-preview]):not([data-self-previewer]), .wpc-editor-form textarea:not([data-group]):not([data-self-previewer])",(function(t){var i=e(t.target),a=i.val(),o=void 0!==i.data("none-support"),n=i.data("type")?i.data("type"):i.data("live-editor"),s=i.attr("name"),c=i.closest(".wpc-editor-form").attr("data-item-id");if(i.hasClass("direct_send")&&wpc.helpers.liveEditor.sendTyping({id:c,selector:i.data("selector"),text:a,noneSpt:o,type:".live_editor_lists"==i.data("selector")?"lists":"input"}),wpc.helpers.liveEditor.keyConnector.hasOwnProperty(n)&&!i.hasClass("direct_send")){var r=wpc.helpers.liveEditor.keyConnector[n].find((e=>e.name===s));"object"==typeof r&&r.name==s&&(i.addClass("direct_send").attr("data-selector",r.selector),wpc.helpers.liveEditor.sendTyping({id:c,selector:r.selector,text:a,type:".live_editor_lists"==r.selector?"lists":"input"}))}})),e(document).on("change",".wpc-editor-form input[data-live-preview]",(function(t){var i=e(t.target).data("live-preview");wp.customize.previewer.send("live-preview",{id:e(t.target).closest(".wpc-editor-form").attr("data-item-id"),rowID:wpc.ui.items.row,className:i.split("|")[0],cssAttr:i.split("|")[1],style:e(t.target).val(),unit:void 0!==i.split("|")[2]&&i.split("|")[2],bgProp:!1,controlType:!1,inlineCss:!0,additionalCssProperty:!1,additionalCssRelation:!1,type:wpc.helpers.liveEditor.elementType,device:wpc.helpers.responsiveHandler.mode})})),e(document).on("change cut paste",'[name="map_url"], [name=".wpc_maps_styles|map_styles"], .wpc-css-color-param[data-field="field-color"], [name="vid_url"]',(function(e){wpc.ui.editor.active&&void 0!==e.originalEvent&&setTimeout((function(){wpc.helpers.liveEditor.applyChanges()}),300)})),e(document).on("propertychange keyup input cut paste",".wpc-group-body [data-group]",(function(t){if(e(t.target).hasClass("field-texteditor-content"))return!1;var i=e(t.target),a=i.val(),o=i.data("selector"),n=wpc.ui.settings.groupNotChanged?wpc.tools.getItemGroupIndex(wpc.ui.editorManager.form,i.closest(".wpc-group-row")):i.closest(".wpc-group-row").data("group-id"),s=wpc.ui.settings.id;wpc.helpers.liveEditor.sendTyping({id:s,groupID:n,selector:o,text:a,type:"group"})})),e(document).on("propertychange keyup input cut paste",".tabeditor",(function(t){var i=e(t.target),a=i.val(),o=i.closest(".item-edit-control").find(".hidden-field").find(".primary-value").val(),n=i.data("tabs-type");wpc.helpers.liveEditor.sendTyping({id:o,text:a,tabType:n,type:"tabeditor"})})),e(document).on("click",".wpc_css_responsive_item",(function(t){var i=e(t.target),a=e(".wpc_css_responsive_item.in_use").data("mode"),o=wpc.helpers.responsiveHandler.serializeArrayByType("css");if(i.hasClass("in_use"))return!1;wpc.helpers.responsiveHandler.cssData[a]=o,e(".wpc_css_responsive_item").removeClass("in_use"),i.addClass("in_use"),wpc.helpers.responsiveHandler.switch(i.data("mode"))})),e(document).on("click",".wpc-popup-add-item",(function(e){wp.customize.previewer.send("wpc-frontend-event",{job:"openItemPicker"})})),e(document).on("click",".wpc-popup-switch-theme",(function(t){wpc.ui.builder.theme.set(e(this))})),e(document).on("click",".wpc-popup-navigator",(function(t){wp.customize.previewer.send("wpc-frontend-event",{job:"closeItemPicker"}),e(".wpc-navigator, .wpc-popup-navigator").toggleClass("nav_on_show"),wpc.navigator.state||wpc.navigator.render()})),e(document).on("click",".wpc_workspace_node .workspace_node_content > .node_toggle_handle, .node_row > .workspace_node_content",(function(t){var i=e(this).closest(".wpc_workspace_node"),a=e("> .wpc_tree_view_toggle",i);i.toggleClass("wpc_tree_view_active"),a.slideToggle(10),void 0!==a.data("inner_of")&&e("> .wpc_tree_view_toggle",a).slideToggle(10),t.stopPropagation()})),e(document).on("click",".workspace_node_content",(function(t){var o=e(this).find(".workspace_node_label");1==++i?a=setTimeout((function(){wpc.navigator.action.focus(o.data("node_id")),i=0}),200):(clearTimeout(a),wpc.navigator.action.open(o.data("node_id")),i=0)})).on("dblclick",(function(e){e.preventDefault()})),e(document).on("mouseenter mouseleave",".workspace_node_content",(function(t){e(".workspace_node_label").removeClass("item_node_highlighted"),wp.customize.previewer.send("wpc-frontend-navigator-event",{job:"elementHoverAct",state:t.type,id:e(this).find(".workspace_node_label").data("node_id")})})),e(document).on("mousedown",".wpc-resizable-handle",(function(e){var t=wpc.ui.settings.box().offset();t.width=wpc.ui.settings.box().width(),t.height=wpc.ui.settings.box().height(),wpc.ui.settings.box().css(t).removeClass("normal_position")})),e(document).on("mouseenter",".mtips:not(.right-menu-item)",(function(t){var i=e(this).find(".mt-mes"),a=i.width(),o=i.offset().left;a+o>e(".wpc-popup-content").width()&&i.offset({left:e(this).offset().left-a+5}),o<=a&&i.offset({left:e(this).offset().left+5})})),e(document).on("click","#wpc_shapedivider input, #wpc_shapedivider button",(function(e){e.preventDefault()})),e(document).on("change",'.field-select-param[name="event_source"]',(function(t){wpc.helpers.eventCalendar.switchSource(e(this).val())})),e(document).on("click",".wpc_custom_date_clear",(function(t){e(this).closest(".wpc-field-content").find(".primary-value, .field-date-picker").val("").trigger("change")})),e.each(wpc_localize.hotkeys,(function(t,i){var a=null,o=i.key,n=!1;i.hasOwnProperty("preventDefault")&&(n=!0),i.hasOwnProperty("target")&&(a=i.target),e(document).on("keydown",a,o,(function(e){n&&(e.preventDefault(),e.stopImmediatePropagation()),wpc.helpers.hotkeys(e.data.keys)}))})),e(document).on("click",".wpc-ks-close",(function(e){wpc.helpers.keyboardShortcuts.close()})),e(document).on("change",'[name="global_panel_width"]',(function(t){wpc.ui.editor.resize(e(this).val())})),e(document).on("click",".wpc-item-fav",(function(t){var i=e(this),a="add",o=i.parent().data("item-type");i.hasClass("in_fav")&&(a="remove"),i.parent().append('<div class="el_loader_cont"><div class="el_loader"></div></div>'),wpc.ui.picker.favorites[a](o)})),e(document).on("change cut paste",'[name="custom_size"]',(function(t){var i="",a="",o=e(this).val().toLowerCase(),n=e(this).closest(".wpc-param-row").parent().find(".image-holder").data("image-size");if(void 0!==n&&o.indexOf("x")){if((o=o.split("x").map((e=>parseInt(e))))[0]>n.width&&(i="width ("+o[0]+")"),o[1]>n.height&&(a=i?" & height ("+o[1]+")":"height ("+o[1]+")"),i||a)return e.confirm({title:wpc_localize.js_strings.resize_image_error_1+" "+i+a+" "+wpc_localize.js_strings.resize_image_error_2+" (width: "+n.width+", height: "+n.height+")",acceptTitle:"OK",rejectTitle:"",acceptBtnCol:"confirm-red",acceptAction:function(){return e.confirm.hide(),!1}}),!1;wpc.helpers.liveEditor.applyChanges()}})),e(document).on("click",".wpc-image-filter-item",(function(t){t.preventDefault();var i=e(this).find(".wpc-ui-form-attach-image-filter-content"),a=e(this).closest(".wpc-editor-form").attr("data-item-id"),o=e(this).data("filter-name");e(this).parent().find(".wpc-ui-form-attach-image-filter-content").removeClass("wpc-ui-form-attach-image-filter-content-active"),i.addClass("wpc-ui-form-attach-image-filter-content-active"),e(this).closest(".wpc-field-content").find(".primary-value").val(o).trigger("change"),wp.customize.previewer.send("live-setImageFilter",{id:a,data:e(this).closest(".wpc-field-content").find(".primary-value").val(),action:!0})})),e(document).on("mousemove",".wpc_click_fx",(function(t){t.preventDefault();var i=t.offsetX,a=t.offsetY;e(this).css({"--mouse-x":i+"px","--mouse-y":a+"px"})})),e(document).on("mousemove",".wpc_click_fx *",(function(e){e.stopPropagation()})),e(document).on("click",".pcr-custom-clear",(function(t){e(this).closest(".pcr-app").prev(".wpc-css-color-param").removeAttr("style").val("rgba(255, 255, 255, 0)").trigger("change"),e(this).parent().find(".pcr-result").val("rgba(255, 255, 255, 0)").trigger("change")})),e(document).on("mouseenter mousemove mouseleave",".wpc_absolute_fixed .wpc_donuts_fixed_menu, .wpc_absolute_fixed .wpc-style-group-nav",(function(t){"mouseenter"!=t.type&&"mousemove"!=t.type||e(this).closest(".wpc-style-group-cont").addClass("__on_hover"),"mouseleave"==t.type&&e(this).closest(".wpc-style-group-cont").removeClass("__on_hover")})),e(document).on("click",".wpc_cloud_presets_load",(function(e){wpc.ui.presetManager.loadCloud()})),e(document).on("click",".wpc-my-user",(function(t){e("body").hasClass("my_info_box_opened")||wpc.ui.myUser.getProducts(),e("body").toggleClass("my_info_box_opened")})),e(document).on("click",".wpc_my_settings",(function(e){window.open(wpc_localize.my_url+"/main")})),e(document).on("click",".wpc_success_msg_close",(function(t){e(this).parent().remove()})),e(document).on("click",".wpc_pro_upgrade_button",(function(t){e(".wpc_pro_popup").addClass("is_pricing_box"),e(".wpc_pro_popup_content").html(e(".wpc_pricing_table_cont").children().clone())})),e(document).on("click",".wpc_pro_popup_close",(function(t){e(".wpc_pro_popup_layer").remove()})),e(document).on("click",".wpc-pricing-button",(function(t){window.open(e(this).data("href"),"_blank")})),wpc.helpers.postTypeList_reInit()}}),jQuery((function(e){wpc.control.init()}))}(jQuery),function(e){"use strict";"undefined"==typeof wpc&&(window.wpc={}),e().extend(wpc.data,{save:function(t,i,a){var o=wpc.ui.items.onEdit,n=wpc.data.base.maindata,s=null;if(wpc.ui.settings.isChanged=!0,a||wpc.data.base.histories.store(n),wpc.ui.settings.isCustomEdit){var c={},r=e(".item-editor-form-"+wpc.ui.settings.id);e.each(r.serializeArray(),(function(e,t){var i=wpc.tools.escapeSelector(t.name);r.find("[name="+i+"][data-encode]").length&&(t.value=wpc.tools.base64.encode(t.value)),c[t.name]=t.value})),("tabsEDITOR"==wpc.ui.settings.type||"accordionsEDITOR"==wpc.ui.settings.type)&&(wpc.data.base.getItemBase(wpc.ui.settings.subID)[wpc.data.base.getIndex(wpc.ui.settings.subID)]=c,wpc.ui.tabManager.apply(wpc.ui.settings.id,c)),"globalEDITOR"==wpc.ui.settings.type&&(n.global.config=c)}else if(!0===o){c={};var l,p=[];r=e(".item-editor-form-"+wpc.ui.settings.id),e.each(r.serializeArray(),(function(e,t){var i=wpc.tools.escapeSelector(t.name);if(r.find("[name="+i+"][data-type]").length){var a=r.find("[name="+i+"][data-type]").data("type");-1==p.indexOf(a)&&p.push(a)}else c[t.name]=t.value})),null!=p&&p.length&&(e.each(r.find("[data-type]"),(function(){var t=e(this).data("type");if("group"===t)return!0;if(-1!==e.inArray(t,p)){var i=e(this).val();e(this).hasClass("field-texteditor-content")&&(i=tinymce.get(e(this).attr("id")).getContent()),e(this).attr("data-encode")&&(i=wpc.tools.base64.encode(i)),i&&(c.hasOwnProperty(t)||(c[t]={}),c[t][e(this).attr("name")]=i),i=""}})),wpc.ui.settings.groupMode&&(l=wpc.tools.getItemGroupData(r),c.group=l.group)),s=wpc.data.base.get(wpc.ui.settings.id),c.css=wpc.helpers.responsiveHandler.prepareToSave(c),s.data.config=c}if(wpc.data.update(wpc.data.readyToSave(n),"saveOnEdit"),a||wpc.ui.isDirtyStatus(!1),wpc.ui.items.onEdit||wpc.ui.settings.isCustomEdit){if(t)return!0;i||wpc.ui.settings.done()}},update:function(t,i){var a={route:"data",data:{postID:wpc.ui.post.id,base:t,command:"saveData",action:i,isGlobal:wpc.ui.settings.global}};"saveOnEdit"==i&&wpc.ui.frontendEditor.onCustomizer&&(a.data.itemMainData=!!wpc.ui.frontendEditor.afterEdit&&wpc.ui.frontendEditor.afterEdit,wp.customize.previewer.send("wpc-frontend-event","set_preloader_on")),wpc.data.base.maindata=wpc.data.base.load(t),wpc.tools.connect(a,(function(a){if(a){if(wpc.data.base.doUpdateRestorableData&&wpc.data.base.setRestorableData(),wpc.ui.notify.hide(),"undo"==i||"redo"==i)return wpc.data.base.histories.getFrontendState=!0,wp.customize.previewer.refresh(),!1;if(wpc.ui.frontendEditor.onCustomizer)if("addNewItem"!=i&&"addNewColumn"!=i&&"columnSetTemplateOnly"!=i&&"moveItem"!=i&&"clone"!=i&&"removeColumn"!=i&&"removeTab"!=i||(wpc.ui.frontendEditor.createRow=!1,wpc.ui.frontendEditor.updateData(),wpc.navigator.render()),("order"==i&&"undefined"==wpc.ui.items.onEdit&&"undefined"==wpc.ui.settings.isCustomEdit||"order"==i&&!wpc.ui.items.onEdit&&!wpc.ui.settings.isCustomEdit||"removeItem"==i)&&(wpc.data.base.histories.globalState=!0,wpc.ui.frontendEditor.updateData(),wpc.data.orderData||wpc.navigator.render()),"addTab"!=i&&"removeTab"!=i||!wpc.ui.editor.active||"typeTAB"!=wpc.ui.settings.type&&"typeAccordion"!=wpc.ui.settings.type||wpc.helpers.generateDefaultTabs(wpc.ui.settings.id),wpc.ui.editor.active&&(wpc.ui.frontendEditor.afterEdit=wpc.data.base.get(wpc.ui.settings.id,!1,!0,wpc.ui.post.id)),"tabsEDITOR"!=wpc.ui.settings.type&&"accordionsEDITOR"!=wpc.ui.settings.type||wpc.navigator.render(),"saveOnEdit"==i){if(wpc.ui.settings.global)return wp.customize.previewer.refresh(),!1;try{if(a.hasOwnProperty("markup")){var o=JSON.parse(a.markup);Array.isArray(o)?(wpc.ui.isDirtyStatus(!1),wp.customize.previewer.send("wpc-frontend-event","failed")):wp.customize.previewer.send("wpc-frontend-event",{job:"apply",data:a,base:wpc.data.base.load(t)})}a.hasOwnProperty("original_type")&&"tab"===a.original_type&&wpc.navigator.render()}catch(e){}wpc_localize.supported_plugins.length&&-1!==e.inArray(wpc.ui.settings.type,wpc_localize.supported_plugins)&&wp.customize.previewer.refresh(),wpc.ui.rowManager.refreshAfterEdit&&(wp.customize.previewer.refresh(),wpc.ui.rowManager.refreshAfterEdit=!1)}else wpc.ui.frontendEditor.updateData();wpc.ui.settings.groupMode&&wpc.ui.settings.groupNotChanged&&(wpc.ui.settings.groupNotChanged=!1,wpc.ui.editorManager.form.find(".wpc-group-rows").removeClass("empty_group")),!wpc.helpers.liveEditor.onPreview&&wpc.ui.editor.active&&wpc.tools.notify(wpc_localize.js_strings.settings_saved,"success"),wpc.helpers.liveEditor.onPreview=!1,wp.customize.previewer.send("live-previewReset"),wpc.data.orderData&&(wp.customize.previewer.send("wpc-frontend-event",{job:"elementOrder",props:wpc.data.orderData}),wpc.data.orderData=!1),"itemDisableUpdate"==i&&(wp.customize.previewer.send("wpc-frontend-event",{job:"itemDisableUpdate",data:wpc.ui.frontendEditor.info,base:wpc.data.base.maindata}),wpc.navigator.render(),wpc.ui.frontendEditor.info=null)}}))},singleSave:function(e){wpc.data.base.histories.store(wpc.data.base.maindata),wpc.data.base.maindata=e.newData,"liveEdit"==e.inlineEditorData.type&&wpc.ui.editor.active&&wpc.ui.settings.isDirty&&e.itemID===wpc.ui.settings.id&&wpc.data.base.setRestorableData(!1,e.itemID);var t={route:"data",data:{postID:e.postID,base:wpc.data.readyToSave(e.newData),command:"saveData",itemMainData:!!e.applyChanges&&e.database,action:e.action}};wpc.tools.connect(t,(function(t){if(t)try{if(t.hasOwnProperty("markup")&&e.applyChanges){var i={job:"apply",data:t,base:wpc.data.base.maindata};wp.customize.previewer.send("wpc-frontend-event",i),wpc.ui.notify.hide()}}catch(e){}}))},itemElementUpdate:function(t){var i=e.extend(!0,{},wpc.data.base.maindata),a=i.builder[t.database.rowIndex].row_cols[t.database.columnIndex].items[t.database.itemIndex],o=a.config,n=t.inlineEditorData;switch(n.hasOwnProperty("extractHTML")&&(n.content=wpc.tools.extractHtml(n.content)),n.hasOwnProperty("escapeHTML")&&(n.content=wpc.tools.removeHtmlTags(n.content)),n.hasOwnProperty("encode")&&(n.content=wpc.tools.base64.encode(n.content)),n.type){case"liveEdit":if("object"==typeof n.key){var s=n.key.group,c=n.key.index,r=n.key.key;if(null==o[s]||null==o[s][c]){var l,p=[],d=e.extend(!0,{},wpc.ui.wpc_maps.maps[n.key.itemType].template["group-panel"]);o[s]=[];try{l=d.itemfields,d=d.defaultvalue,e.each(l,(function(t,i){-1!==e.inArray(i.type,wpc_localize.editor_field_to_encode)&&p.push(i.name)})),e.each(d,(function(t,i){for(var a in i)-1!==e.inArray(a,p)&&(d[t][a]=wpc.tools.base64.encode(d[t][a]));d[t].id=wpc.tools.makeHash(),o[s].push(d[t])}))}catch(e){return!1}}o[s][c][r]=n.content}else null==o.general&&(o.general={}),o.general[n.key]=n.content;break;case"copyStyles":o.css=n.content;break;case"applyPreset":a.config=n.content}n.hasOwnProperty("applyChanges")&&(t.applyChanges=n.applyChanges),n.hasOwnProperty("notifyMessage")&&wpc.ui.notify.show(n.notifyMessage),t.newData=i,wpc.data.singleSave(t)},clone:function(t,i){wpc.data.base.histories.store(wpc.data.base.maindata);var a=[],o=[],n=[],s="",c=null,r=null;!function(t){var l,p=wpc.data.base.getItemType(t);function d(t,i){var o=wpc.tools.makeHash(),n=null,c=wpc.data.base.get(t);(n=e.extend(!0,{},c.data)).id=o,a.push({id:{old:t,new:o}}),i&&(n.inner_of=i.newParentID,a.push({"data-inner_of":{old:i.oldParentID,new:i.newParentID}})),c.path.splice(c.index+1,0,n),s=wpc.data.base.getRowIds(c.path);var l=wpc.data.base.getAllItemsInRow(o);c.path.sort((function(e,t){return l.indexOf(e.id)<l.indexOf(t.id)?-1:1})),n=wpc.data.base.get(o);var p=wpc.data.base.getColumnInRow(o);e.each(p.cols,(function(t,i){var o=wpc.tools.makeHash(),s=wpc.data.base.getItemInColumn(i),c=wpc.data.base.getIndex(i);n.colBase[c].id=o,a.push({id:{old:i,new:o}}),e.each(s.items,(function(e,t){if(wpc.data.base.isChildOfTab(t))return!0;w(t,!0)}))})),wpc.data.base.maindata=n.base,i||(r=o)}function w(t,i){var s,r,l=wpc.tools.makeHash(),p=null,w=t,u=wpc.data.base.get(t);i?u.data.id=l:((p=e.extend(!0,{},u.data)).id=l,u.path.splice(u.index+1,0,p)),p=wpc.data.base.get(l),a.push({id:{old:w,new:l}}),"typeTAB"!=(s=wpc.ui.itemManager.get(l,"type"))&&"typeAccordion"!=s||(r=wpc.data.base.getItemKeyBase(l),e.each(wpc.data.base.getItemTabs(t),(function(t,o){var s=wpc.tools.makeHash();e.each(wpc.data.base.getChildOfTab(o),(function(t,c){var r=wpc.tools.makeHash();if(i)p.path[wpc.data.base.getIndex(c)].id=r,p.path[wpc.data.base.getIndex(c)].childOf=s;else{var l=wpc.data.base.get(c),d=e.extend(!0,{},l.data);d.id=r,d.childOf=s,p.path.splice(p.path.length,0,d)}a.push({id:{old:c,new:r}}),a.push({"data-parent_id":{old:o,new:s}}),i||n.push(r)})),p.data[r][wpc.data.base.getIndex(o)].id=s,a.push({id:{old:o,new:s}}),a.push({"data-tab_id":{old:o,new:s}}),a.push({"data-tab_cont_id":{old:o,new:s}}),a.push({"aria-controls":{old:o,new:s}})}))),"rowInner"==s&&(i?o.push({id:wpc.data.base.getInnerRow(w),props:{oldParentID:w,newParentID:l}}):d(wpc.data.base.getInnerRow(w),{oldParentID:w,newParentID:l})),wpc.data.base.maindata=p.base,i||(c=l)}"row"==p&&d(t),"item"==p&&w(t),Array.isArray(o)&&o.length&&e.each(o,(function(e,t){d(t.id,t.props)})),"row"==p&&(l=r,wpc.data.base.maindata.builder.sort((function(e,t){return s.indexOf(e.id)<s.indexOf(t.id)?-1:1})),Array.isArray(o)&&o.length&&wpc.data.base.maindata.builder.reverse()),"item"==p&&(l=c,"rowInner"==wpc.ui.itemManager.get(l,"type")&&wpc.data.base.maindata.builder.reverse());var u={route:"data",data:{postID:wpc.ui.post.id,base:wpc.data.readyToSave(wpc.data.base.maindata),itemMainData:wpc.data.base.get(l,!1,!0),markupOnly:!0,command:"saveData",isGlobal:!1}};Array.isArray(n)&&n.length&&(u.data.addItems=[],e.each(n,(function(e,t){var i=wpc.data.base.get(t,!1,!0);i.columnID=wpc.data.base.getParentIds(t,!1,!0)[1],u.data.addItems.push(i)}))),"item"==p&&("rowInner"==wpc.ui.itemManager.get(l,"type")&&(u.data.itemMainData.isRowInner=wpc.data.base.getInnerRow(l)),null!==wpc.data.cloneToCopyData&&(wpc.data.cloneToCopyData.indexes=wpc.data.base.getIndexes(l,!1,!0),wpc.data.cloneToCopyData.source=l)),wpc.tools.connect(u,(function(e){if(e)try{i({data:e,replacer:a,copyData:null!==wpc.data.cloneToCopyData?wpc.data.cloneToCopyData:null})}catch(e){}}))}(t)},reOrderData:function(t,i,a,o,n,s){var c,r=wpc.data.base.maindata,l=null;if("row"!=a&&"column"!=a&&"item"!=a||wpc.data.base.histories.store(r),"row"==a&&r.builder.sort((function(e,i){return t.indexOf(e.id)<t.indexOf(i.id)?-1:1})),"column"==a){var p,d=s?i.closest(".wpc_node_row").data("navigator-id"):i.closest(".wpc_node_row").attr("id"),w=wpc.data.base.get(d),u=[];e.each(t,(function(e,t){var i=wpc.data.base.getColumnCell(t);null==i&&(i="1-1"),u.push(i)})),p=u.join("_").toString(),e("#"+d).find(".cols-row.row-handle").data("col-type",p),w.data.col_mode=p,w.data.row_cols.sort((function(e,i){return t.indexOf(e.id)<t.indexOf(i.id)?-1:1}))}if("item"==a){var m=s?i.data("navigator-id"):i.attr("id"),f=wpc.data.base.get(m);if(o){var _,h,g=n.indexes.old.itemIndex,v=n.indexes.new.itemIndex,b=s?"child_of":"tab-parent";if(_=n.isSameRow?n.indexes.old.rowIndex:n.indexes.new.rowIndex,h=n.isSameCol?n.indexes.old.colIndex:n.indexes.new.colIndex,n.moveIntoTab)i.attr("data-"+b,n.moveIntoTab.parentID).data(b,n.moveIntoTab.parentID),f.data.childOf=n.moveIntoTab.parentID;else if(n.fromTabs&&(delete f.data.childOf,i.data(b,null).removeAttr("data-"+b)),!n.isSameCol&&("typeTAB"==n.itemType||"typeAccordion"==n.itemType)){var y=s?".node_item":".wpc-item",k=i.find(y+"[data-"+b+"]");e.each(k,(function(){var t=s?e(this).data("navigator-id"):e(this).attr("id"),i=wpc.data.base.getIndex(t),a=n.indexes.order.indexOf(t);n.isSameRow&&f.colBase[h].items.splice(a,0,f.path.splice(i,1)[0]),n.isSameRow||f.rowBase[_].row_cols[h].items.splice(a,0,f.path.splice(i,1)[0])}))}n.isSameRow||(f.rowBase[_].row_cols[h].items.splice(v,0,f.path.splice(g,1)[0]),l=f.rowBase[_].row_cols[h].items),n.isSameRow&&!n.isSameCol&&(f.colBase[h].items.splice(v,0,f.path.splice(g,1)[0]),l=f.colBase[h].items),n.isSameRow&&n.isSameCol&&(f.path.splice(v,0,f.path.splice(g,1)[0]),l=f.path)}else l=f.path;l.sort((function(e,i){return t.indexOf(e.id)<t.indexOf(i.id)?-1:1}))}if("gallery"==a||"wooproduct"==a||"wooproductcategories"==a)return"gallery"==a&&(c=i.closest(".wpc-field-content").find("#mlt-img-url")),"wooproduct"==a&&(c=i.closest(".wpc-field-content").find(".woo-product-list")),c.val(t).trigger("change"),!1;if("group"==a)return wpc.ui.isDirtyStatus(!0),wpc.helpers.liveEditor.applyChanges(),i.find(".field-texteditor-content").length&&(i.find(".field-texteditor-content").removeClass("wp_editor_initialized"),wpc.helpers.tinymce_reInit(i.find(".field-texteditor-content"))),!1;if("tab"==a){var x=s?i.closest(".node_item").data("navigator-id"):i.closest(".wpc-item").attr("id"),C=wpc.data.base.getItemKeyBase(x);wpc.data.base.get(x).data[C].sort((function(e,i){return t.indexOf(e.id)<t.indexOf(i.id)?-1:1}))}wpc.data.orderData={orderType:a,order:t,id:s?i.data("navigator-id"):i.attr("id")},wpc.data.update(wpc.data.readyToSave(r),"order"),wpc.ui.addMoreControl()},getMainData:function(){var e={route:"data",data:{command:"wpc_get_post_data",postID:wpc.ui.post.id}};wpc.tools.connect(e,(function(e){e&&(wpc.data.base.maindata=wpc.data.base.load(e))}))},readyToSave:function(e){return wpc.tools.base64.encode(JSON.stringify(e))},getDefaultItemValue(e,t,i){try{var a,o=t.attr("name"),n=wpc.data.base.getDataByKey(e,"config",wpc.ui.settings.type);return t.closest(".wpc-group-body").length&&n[t.data("type")][o],a=n[wpc.ui.settings.type.toLowerCase()][o],i&&(a=wpc.tools.base64.decode(a)),a}catch(e){return""}},base:{restorableData:{},doUpdateRestorableData:!1,maindata:{},load:function(e){try{var t=wpc.tools.base64.decode(e);return t=JSON.parse(t)}catch(e){return{}}},get:function(e,t,i,a){e=e.toString();var o,n,s=t?JSON.parse(JSON.stringify(this.maindata)):this.maindata,c=this.getPath(s.builder,e),r=this.getItemType(c,!0);return o=this.getIndexes(e,c),n=this.getDataByPath(c,!0),i?{rowIndex:o.rowIndex,columnIndex:o.columnIndex,itemIndex:o.itemIndex,index:this.getIndex(e,c),postID:a||wpc.ui.post.id,id:e,type:r}:{base:s,rowIndex:o.rowIndex,columnIndex:o.columnIndex,itemIndex:o.itemIndex,index:this.getIndex(e,c),data:n.data,path:n.base,length:null==n.base?null:n.base.length,rowBase:s.builder,colBase:null==s.builder[o.rowIndex]?null:s.builder[o.rowIndex].row_cols,type:r}},add:function(e,t,i,a,o){i=i||"path",a=a||0;var n=this.get(e);o&&(n[i]=n[i][n.index][o]),n[i].splice(n[i].length,a,t)},remove:function(e){var t=this.get(e);t.path.splice(t.index,1)},move:function(e,t,i){var a=this.get(e),o=this.get(t),n=o.path[o.index][i],s=n.length;n.splice(s,0,a.data)},update:function(e,t,i){var a=this.get(e);a.path[a.index][t]=i},updateData:function(e,t){var i=this.get(e);i.path[i.index]=t},getItemBase:function(e){return this.get(e).path},getPath:function(e,t,i){try{var a;if("object"!=typeof e)return;for(var o in e)if(e.hasOwnProperty(o)){var n=i,s=e[o];if(a=i?i+"."+o:o,s===t&&"id"===o)return a;"object"!=typeof s&&(a=n);var c=this.getPath(s,t,a);if(c)return c.replace(".id","")}}catch(e){return!1}},getPaths:function(e,t,i){try{var a;if("object"!=typeof e)return;for(var o in e)if(e.hasOwnProperty(o)){var n=i,s=e[o];if(a=i?i+"^"+o:o,s===t)return a;"object"!=typeof s&&(a=n);var c=this.getPaths(s,t,a);if(c)return c}}catch(e){return!1}},deepSearchByKey:function(e,t,i,a=[]){if(null!=e)if(Array.isArray(e))for(let o of e)this.deepSearchByKey(o,t,i,a);else if("object"==typeof e)for(let o of Object.keys(e))o==t&&e[o]==i?a.push(e.id):this.deepSearchByKey(e[o],t,i,a);return a},getIndex:function(e,t){e=e.toString();var i=t||this.getPath(this.maindata.builder,e);if(i)return i.includes(".")?(i.split("."),parseInt(i[i.length-1])):parseInt(i)},getIndexes:function(e,t,i){e=e.toString();var a=t||this.getPath(this.maindata.builder,e),o={rowIndex:null,columnIndex:null,itemIndex:null};if(a)for(var n=a.split("."),s=0;s<n.length;++s)0!==s&&2!==s&&4!==s||(o[0===s?"rowIndex":2===s?"columnIndex":4===s?"itemIndex":""]=parseInt(n[s]));return i?Object.values(o):o},getParentIds:function(e,t,i){e=e.toString();var a=t||this.getPath(this.maindata.builder,e),o={row_ID:null,col_ID:null,item_ID:null};if(a)for(var n,s=a.split("."),c=0;c<s.length;++c)0!==c&&2!==c&&4!==c||(n=s.slice(0,c+1).join("."),o[0===c?"row_ID":2===c?"col_ID":4===c?"item_ID":""]=this.getDataByPath(n).id);return i?Object.values(o):o},getItemType:function(e,t){var i,a,o;return t?i=e:(e=e.toString(),i=this.getPath(this.maindata.builder,e)),null!=i&&((a=i.split(".")).splice(-1),"items"===(o=a[a.length-1])?"item":"row_cols"===o?"column":"tabs"===o||"accordions"===o?"tab":0===a.length?"row":o)},getDataByPath:function(e,t,i){if(null==e)return this.maindata.global;var a=e.split("."),o=a[a.length-1],n=i||this.maindata.builder;t&&a.splice(-1);for(var s=0;s<a.length;++s){if(null==n[a[s]])return;n=n[a[s]]}return t?{base:n,data:n[o]}:n},getDataByKey:function(e,t,i){var a="";if("tabsEDITOR"==i||"accordionsEDITOR"==i){var o=this.getPath(this.maindata.builder,wpc.ui.settings.subID.toString());a=this.getDataByPath(o)}else if("globalEDITOR"==i)a=null==this.maindata.global?{}:this.maindata.global[t];else if("rowEDITOR"==i){var n=this.getIndex(e);a=this.maindata.builder[n][t]}else if("columnEDITOR"==i)a=this.get(e).data[t];else if("mainDATA"==i)a=this.maindata;else{var s=this.get(e);a=s.data[t],"group"==t&&(a=s.data.config[t])}return a},getItemData:function(e){return this.get(e).data},getItemKeyBase:function(e){var t=this.get(e);return t.data.hasOwnProperty("tabs")?"tabs":t.data.hasOwnProperty("accordions")?"accordions":null},getRowIds:function(t){var i=t||this.maindata.builder,a=[];return e.each(i,(function(e,t){a.push(t.id)})),a},getColumnInRow:function(t){var i=this.get(t),a=[];return e.each(i.colBase,(function(e,t){a.push(t.id)})),{cols:a,length:i.colBase.length}},getItemInColumn:function(t){var i=this.get(t),a=[];return e.each(i.path[i.index].items,(function(e,t){a.push(t.id)})),{items:a,length:i.path[i.index].items.length}},getAllItemsInRow:function(t){t=t.toString();var i=this,a=this.getColumnInRow(t),o=[];return e.each(a.cols,(function(e,t){o=o.concat(i.getItemInColumn(t).items)})),o},getColumnCell:function(e,t){var i,a,o,n=this.get(e);return a=(o=(i=(i=n.rowBase[n.rowIndex].col_mode).split(/\s*_\s*/))[n.index].split("-"))[0]/o[1]*100,a=Number.parseFloat(a).toFixed(3),t?parseFloat(a):i[n.index]},isInnerRow:function(e){var t=this.get(e);return!(!t.data.hasOwnProperty("inner_of")||""===t.data.inner_of)},isItemOfInnerRow:function(e){var t=this.getParentIds(e);return""!==this.getDataByKey(t.row_ID,"inner_of")},getInnerRowParentID:function(e){var t=this.get(e);return!(!t.data.hasOwnProperty("inner_of")||""===t.data.inner_of)&&t.data.inner_of},getInnerRowItems:function(e){var t=this.get(e),i=this.deepSearchByKey(t.path[t.index],"type","rowInner");if(Array.isArray(i)&&i.length){var a=[];for(let e=0;e<i.length;e++){var o=this.deepSearchByKey(this.maindata.builder,"inner_of",i[e]);Array.isArray(o)&&o.length&&a.push(o.join(""))}return a}return[]},getInnerRow:function(e){e=e.toString();var t=this.get(e),i=this.deepSearchByKey(t.rowBase,"inner_of",e);return Array.isArray(i)&&i.length?i.length>1?[]:i[0]:[]},getItemTabs:function(e){var t=this.get(e),i=this.getItemKeyBase(e);return t.data[i].map((function(e){return e.id}))},getChildOfTab:function(e){e=e.toString();var t=this.get(e);return this.deepSearchByKey(t.rowBase[t.rowIndex],"childOf",e)},getChildItems:function(t){var i=this,a=this.get(t),o=this.getItemKeyBase(t),n=[];return null!==o&&0!==a.data[o].length&&e.each(a.data[o],(function(e,t){var o=i.deepSearchByKey(a.rowBase[a.rowIndex],"childOf",t.id);Array.isArray(o)&&o.length&&(n=n.concat(o))})),n},isChildOfTab:function(e){var t=this.get(e);return!(!t.data.hasOwnProperty("childOf")||""==t.data.childID)},length:function(e){return e.length},backup:function(e){this.action(e,"backup")},restore:function(t){var i=this,a=new FileReader;a.onload=function(t){var a;try{a=JSON.parse(t.target.result),i.action(e(".wpc-button-flat.global-restore"),"restore",wpc.data.readyToSave(a))}catch(e){alert(wpc_localize.js_strings.json_parse_err)}},a.readAsText(t.target.files[0])},reset:function(e){wp.customize.previewer.send("wpc-frontend-event","set_preloader_on"),this.action(e,"reset")},action:function(t,i,a){t.addClass("wpc-no-icon").prepend('<i class="wpc-i-spinner wpc-i-spin"></i>');var o={route:"data",data:{command:i,id:wpc.ui.post.id,postTitle:wpc.ui.post.title,action:i,ajaxurl:wpc_localize.rest_url+"backup",data:a||null}};function n(t,i,a,o){e.confirm({title:wpc_localize.js_strings[t],acceptTitle:a||"OK",rejectTitle:"",acceptBtnCol:"confirm-"+(o||"blue"),acceptAction:function(){"reload_refresh_front"==i&&(s(),wp.customize.previewer.refresh())},rejectAction:function(){return!1}})}function s(){wpc.ui.settings.done(),wpc.ui.builder.load()}wpc.tools.connect(o,(function(e){if(t.removeClass("wpc-no-icon").find(".wpc-i-spinner").remove(),e){if(e.status.indexOf("/backup/")>=0)return window.location=e.status,!1;if("restore_done"==e.status)return n("backup_ok","reload_refresh_front","Continue","blue"),!1;if("reset_done"==e.status){if(wpc.ui.items.silent_reset)return s(),wpc.ui.items.silent_reset=!1,!1;setTimeout((function(){return n("builder_resetted","reload_refresh_front","Continue","blue"),!1}),500)}if("update_opt_done"==e.status)return wpc.ui.frontendEditor.reActivate=!0,wpc.tools.generateWpcSessionUrl(wpc.ui.post.id),!1;if("no_data"==e.status||"backup_err"==e.status)return n(e.status,!1,!1,"red"),!1}}))},histories:{globalState:!1,temp:{undo:[],redo:[]},getFrontendState:!1,state:function(){this.getFrontendState=!1,e(".wpc-popup-undo, .wpc-popup-redo").removeClass("load_data"),0==this.temp.undo.length?e(".wpc-popup-undo").addClass("is_empty"):e(".wpc-popup-undo").removeClass("is_empty"),0==this.temp.redo.length?e(".wpc-popup-redo").addClass("is_empty"):e(".wpc-popup-redo").removeClass("is_empty")},setTimes:function(){var e,t=new Date;return e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" - "+e},store:function(e){var t=this.setTimes();this.globalState=!1,this.temp.undo.length==wpc_localize.undo_limit&&this.temp.undo.shift(),this.temp.undo.push({time:t,data:wpc.data.readyToSave(e)}),this.state()},undo:function(){var e=wpc.data.readyToSave(wpc.data.base.maindata),t=this.temp.undo[this.temp.undo.length-1];wpc.data.update(t.data,"undo"),this.temp.redo.push({time:this.setTimes(),data:e}),this.temp.undo.splice(-1,1)},redo:function(){var e=wpc.data.readyToSave(wpc.data.base.maindata),t=this.temp.redo[this.temp.redo.length-1];wpc.data.update(t.data,"redo"),this.temp.undo.push({time:this.setTimes(),data:e}),this.temp.redo.splice(-1,1)},load:function(){this.globalState||(this.temp.undo=[],this.temp.redo=[],this.state()),this.globalState=!1},callBack:function(){this.state(),this.globalState=!0,wpc.ui.editor.active&&wpc.ui.settings.done(),wpc.ui.frontendEditor.backendEditorActive&&wpc.ui.builder.close(),e(".nav_on_show").length&&wpc.navigator.render()}},setRestorableData:function(t,i){if(this.doUpdateRestorableData=!1,t)return this.restorableData={},!1;wpc.ui.settings.id&&(this.restorableData=e.extend(!0,{},this.get(i||wpc.ui.settings.id,!1,!1,wpc.ui.post.id)))}},getItemNewContent:function(t,i,a,o){var n;return n=e(".item-editor-form-"+t).find("[name="+wpc.tools.escapeSelector(i)+"]").val(),o?wpc.tools.base64[o](n):n},previewer:{getData:function(){return{status:wpc.ui.frontendEditor.onCustomizer,base:wpc.ui.frontendEditor.onCustomizer?e.extend(!0,{},wpc.data.base.maindata):null,postID:wpc.ui.post.id,removeID:!!wpc.ui.frontendEditor.removeID&&wpc.ui.frontendEditor.removeID,isToolTip:"no"!=wpc.ui.builder.getConfig("global_tooltips"),isInstallPreset:!!wpc.ui.template.install,taskAfterReloadData:[],keyBase:wpc.ui.settings.keyBase,subID:wpc.ui.settings.subID,theme:wpc.ui.builder.theme.get(),stateHistories:wpc.data.base.histories.getFrontendState}}},info:{frontend:!1},orderData:!1,cloneToCopyData:null})}(jQuery),function(e){"use strict";"undefined"==typeof markup&&(window.markup={}),window.markup=e.extend({ver:"0",auth:"ghozylab.com",model:1,type:{tabs:function(t){var i,a=wpc.ui.settings.id,o={},n=e('<div class="main-tb wpc-items-sett-main-tab on-editing-'+wpc.ui.settings.type+'"><ul class="tabs-cont"></ul></div>');n.append(template.elements.form(a)),e(".item-cp-container").append(n),o=e.extend(!0,{},wpc.ui.wpc_maps.maps[wpc.ui.settings.type]),i=function(){"globalEDITOR"!=wpc.ui.settings.type&&"tabsEDITOR"!=wpc.ui.settings.type&&e(template.elements.addElementHtml(a)).insertBefore(e(".item-cp-container").find(".wpc-editor-form")),o={},window.tabProperties={}},e.each(o.tabs,(function(t,i){e(".item-cp-container").find(".tabs-cont").append("<li "+(0==t?'class="checked"':'class="tab-type-'+Object.keys(o.template)[t]+'"')+' data-tab_id="'+t+'">'+i+"</li>"),e(".item-cp-container").find(".item-editor-form-"+a).append('<section class="stt-section" id="content'+t+'">'+(0==t?'<span class="tabloader"></span>':"")+'<div class="item-edit-control-cont"><span class="item-edit-control-label"></span><div data-panel-type="'+Object.keys(o.template)[t]+'" class="item-edit-control itm-type-'+wpc.ui.settings.type+'"></div></div></section>');var n=template.tabs({template:Object.keys(o.template)[t],index:t,id:a,type:wpc.ui.settings.type}),s=e(".wpc-items-sett-main-tab .item-editor-form-"+a+" #content"+t).find(".item-edit-control");s.append(n),"style-panel"==Object.keys(o.template)[t]&&s.append(template.elements.responsiveModeHtml(a)),template.elements.fieldsMapper(t,a,Object.keys(o.template)[t],wpc.ui.settings.type)})),i(),t instanceof Function&&t()}},cleanUp:function(){e(".main-tb").find(".field-texteditor-content").each((function(){this.id&&null!==tinymce.get(this.id)&&(tinymce.EditorManager.execCommand("mceRemoveControl",!0,this.id),tinymce.EditorManager.execCommand("mceRemoveEditor",!0,this.id),wp.editor.remove(this.id),e("#wp-"+this.id+"-wrap").remove(),e("#"+this.id).removeClass("wp_editor_initialized"))})),e(".main-tb").find(".field-codeeditor").each((function(){e(this).data("CodeMirrorInstance").codemirror.toTextArea()})),e(".wpc_rangeslider_opt").length&&e(".wpc_rangeslider_opt").rangeslider("destroy"),e(".pickr_input").length&&e(".pickr_input").data("pickr-instance").destroy(),e(".wpc_responsive_mode_cont").remove(),e(".token_gen_cont").remove(),e(".main-tb").remove(),e(".item-cp-container").empty(),e(".ui-helper-hidden-accessible, .wplink-autocomplete").remove()}},window.markup)}(jQuery),function(e){"use strict";"undefined"==typeof wpc&&(window.wpc={}),e().extend(wpc.navigator,{state:!1,isCollapsed:!0,data:[],toggleHistory:{set:function(){wpc.navigator.data=[],e.each(e(".wpc_tree_view_active"),(function(){-1===wpc.navigator.data.indexOf(e(this).data("navigator-id"))&&wpc.navigator.data.push(e(this).data("navigator-id"))}))},get:function(){return wpc.navigator.data}},open:function(){if(wpc.ui.frontendEditor.backendEditorActive)return!1;wp.customize.previewer.send("wpc-frontend-event",{job:"closeItemPicker"}),e(".wpc-navigator, .wpc-popup-navigator").addClass("nav_on_show"),wpc.navigator.state||wpc.navigator.render()},close:function(){e(".wpc-navigator, .wpc-popup-navigator").removeClass("nav_on_show")},render:function(){if(wpc.data.orderData)return wpc.data.orderData=!1,!1;if("object"==typeof wpc.navigator.state&&"global"===wpc.navigator.state.type)return wpc.navigator.state=wpc.navigator.state.currentType,!1;if(this.toggleHistory.set(),!e(".nav_on_show").length)return this.state=!1,!1;var t=wpc.data.base.maindata,i="",a=[];i+='<ul class="wpc_workspace_node_outline">',e.each(t.builder,(function(t,o){var n=!1,s="li",c="</li>";""!==o.inner_of&&(n=!0,s="div",c="</div>",a.push({rowID:o.id,itemID:o.inner_of})),i+="<"+s+' data-navigator-id="'+o.id+'" class="wpc_workspace_node wpc_node_row '+(n?"wpc_tree_view_toggle is_row_inner":"node_row node_root")+'"'+(n?' data-inner_of="'+o.inner_of+'"':"")+">",n||(i+='<div class="workspace_node_content">',i+='<i data-click_handle="'+o.id+'" class="node_toggle_handle wpc-i-arrow_'+(wpc_localize.is_rtl?"left":"right")+'"></i>',i+='<i class="wpc-i-row row_col_icon"></i>',i+='<span data-node_type="row" data-node_id="'+o.id+'" class="workspace_node_label node_row_title">Row</span>'+(""!==o.label?'<span class="node_row_label">- '+o.label+"</span>":""),i+="</div>"),e.each(o.row_cols,(function(t,a){i+='<div data-navigator-id="'+a.id+'" class="wpc_workspace_node wpc_tree_view_toggle node_col node_root wpc_node_column">',i+='<div class="workspace_node_content">',i+='<i class="wpc-i-column row_col_icon"></i>',i+='<span data-node_type="column" data-node_id="'+a.id+'" class="workspace_node_label">Column</span>',i+='<i data-click_handle="'+a.id+'" class="node_toggle_handle wpc-i-arrow_'+(wpc_localize.is_rtl?"left":"right")+'"></i>',i+="</div>",i+='<ul class="wpc_tree_view_toggle">',void 0!==a.items&&0!==a.items.length||(i+='<li class="node_empty_item">no item</li>'),e.each(a.items,(function(t,a){var o,n=!1,s=!1,c="",r="",l="",p=a.type.toLowerCase(),d=a.label;"rowInner"===a.type&&(n=!0,c=" node_inner_row node_item node_root",d="Inner Row"),"typeTAB"!==a.type&&"typeAccordion"!==a.type||("typeTAB"===a.type&&(r='data-key-base="tabs" '),"typeAccordion"===a.type&&(r='data-key-base="accordions" '),s=!0),a.hasOwnProperty("is_addon")&&(p+=" node_addon_icon",l=' style="background-image: url('+wpc_localize.addon_icons[a.type]+')"'),i+='<li data-node-type="'+a.type+'" '+(s?r:"")+'data-navigator-id="'+a.id+'" class="wpc_workspace_node '+(n?"":"node_item")+c+(a.hasOwnProperty("disable")&&a.disable?" wpc_node_disabled":"")+'" '+(a.hasOwnProperty("childOf")?' data-child_of="'+a.childOf+'"':"")+">",i+='<div class="workspace_node_content">',i+='<span class="node_item_icon cp-icon item-type-'+p+'"'+l+"></span>",i+="<span "+(s?'data-has_child="yes" ':"")+'data-node_type="'+(n?"row":"item")+'" data-node_id="'+a.id+'" class="workspace_node_label">'+d+"</span>",n&&(i+='<i data-click_handle="'+a.id+'" class="node_toggle_handle wpc-i-arrow_'+(wpc_localize.is_rtl?"left":"right")+'"></i>'),i+="</div>",s&&("typeTAB"===a.type&&(o=a.tabs),"typeAccordion"===a.type&&(o=a.accordions),0===o.length&&(i+='<ul class="node_empty_item">no tab</ul>'),e.each(o,(function(e,t){i+='<div data-navigator-id="'+t.id+'" class="wpc_workspace_node node_tab node_root wpc_node_tabs">',i+='<div class="workspace_node_content">',i+='<i class="wpc-i-column row_col_icon"></i>',i+='<span data-node_type="tab" data-node_id="'+t.id+'" class="workspace_node_label">'+t.title+"</span>",i+='<i data-click_handle="'+t.id+'" class="node_toggle_handle wpc-i-arrow_'+(wpc_localize.is_rtl?"left":"right")+'"></i>',i+="</div>",i+='<div class="wpc_workspace_node wpc_tree_view_toggle">',i+='<ul class="wpc_workspace_node node_item item_has_child" data-parent_child="'+t.id+'"></ul>',i+="</div>",i+="</div>"}))),i+="</li>"})),i+="</ul>",i+="</div>"})),i+=c})),i+="</ul>",e(".wpc_workspace_parent").html(i),e.each(e("[data-inner_of]"),(function(){var t=e(this);e('[data-navigator-id="'+t.data("inner_of")+'"]').append(t)})),e.each(e("[data-child_of]"),(function(){var t=e(this);e('[data-parent_child="'+t.data("child_of")+'"]').append(t)})),0!==a.length&&e.each(a,(function(t,i){e('[data-node_id="'+i.itemID+'"]').data("node_id",i.rowID)})),0!==this.data.length&&e.each(this.data,(function(t,i){e('.node_root[data-navigator-id="'+i+'"]').addClass("wpc_tree_view_active").find("> .wpc_tree_view_toggle").show(),e('.node_root[data-navigator-id="'+i+'"]').hasClass("node_inner_row")&&e('.node_inner_row[data-navigator-id="'+i+'"]').find(".wpc_node_column").show()})),e(".wpc_workspace_node_outline").find(".node_row").length||e(".node_empty_item").remove(),e(".wpc_workspace_node_outline:not(:has(*)), .item_has_child:not(:has(*)), .node_col > ul.wpc_tree_view_toggle:not(:has(*))").append('<li class="node_empty_item">no item</li>'),wpc.helpers.simpleBar_reInit("navigator-simplebar"),this.state=!0,this.sortableAll(),this.contextMenu()},action:{focus:function(e){wp.customize.previewer.send("wpc-frontend-navigator-event",{job:"elementFocus",id:e})},open:function(e){wpc.ui.settings.load(e)},event:function(t){switch(t.cmd){case"mouseEvent":if(!e(".nav_on_show").length)break;e(".workspace_node_content").removeClass("on_mouseenter"),"mouseenter"==t.event&&e('[data-navigator-id="'+t.id+'"] .workspace_node_content').eq(0).addClass("on_mouseenter"),"mouseleave"==t.event&&e('[data-navigator-id="'+t.id+'"] .workspace_node_content').eq(0).removeClass("on_mouseenter")}},focusOnList:function(t){wpc.navigator.open();var i=e('[data-navigator-id="'+t+'"]'),a=i.parentsUntil('[data-node_type="row"]').filter((function(){return e(this).hasClass("node_root")||e(this).hasClass("wpc_tree_view_toggle")}));e(".node_root").removeClass("wpc_tree_view_active"),e(".wpc_tree_view_toggle").slideUp(10),setTimeout((function(){e.each(a,(function(){var i=e(this);i.find("> .node_root").show(),i.find('[data-navigator-id="'+t+'"]').length&&i.addClass("no_collapse")})),i.find(".workspace_node_label").eq(0).addClass("item_node_highlighted"),e(".wpc_tree_view_toggle.no_collapse").slideDown(10),e(".node_root.no_collapse").addClass("wpc_tree_view_active"),e(".node_root, .wpc_tree_view_toggle").removeClass("no_collapse"),this.isCollapsed=!1}),100)}},expand:function(){e(".wpc_tree_view_toggle").slideDown(10),e(".node_root").addClass("wpc_tree_view_active"),this.isCollapsed=!1},collapse:function(){e(".node_root").removeClass("wpc_tree_view_active"),e(".wpc_tree_view_toggle").slideUp(10),this.isCollapsed=!0},contextMenu:function(){e.contextMenu({selector:".workspace_node_content",zIndex:999,build:function(t,i){var a=e(t).find(".workspace_node_label"),o={name:wpc_localize.js_strings.item_add,icon:"add_item",visible:!1},n={name:wpc_localize.js_strings.cmenu_add_tab,icon:"add_item",visible:!1},s={name:wpc_localize.js_strings.cmenu_clone,icon:"clone",visible:!1},c={name:wpc_localize.js_strings.cmenu_disable,icon:"invisible",visible:!1};return"column"!==a.data("node_type")&&"tab"!==a.data("node_type")&&(s.visible=!0),"column"===a.data("node_type")&&(o.visible=!0),a.data("has_child")&&(n.visible=!0),a.closest(".wpc_node_disabled").length&&(c.name=wpc_localize.js_strings.cmenu_enable,c.icon="visible"),c.visible="item"===a.data("node_type"),{callback:function(e,t,i){var o=a.data("node_id"),n=a.data("node_type");if("disen"==e){var s=!a.closest(".wpc_node_disabled").length,c=wpc.data.base.maindata;return wpc.data.base.update(o,"disable",s),wpc.ui.frontendEditor.info={id:o,status:s},void wpc.data.update(wpc.data.readyToSave(c),"itemDisableUpdate")}if("edit"!=e){if("tab"==n&&wpc.ui.tabManager[e](o),"item"==n){if("addTab"===e)return e="add",void wpc.ui.tabManager[e](o);wpc.ui.itemManager[e](o)}"column"==n&&("add"==e?wp.customize.previewer.send("wpc-frontend-event",{job:"openItemPicker"}):wpc.ui.colManager[e](o)),"row"==n&&wpc.ui.rowManager[e](o)}else wpc.ui.settings.load(o)},items:{edit:{name:wpc_localize.js_strings.cmenu_edit,icon:"edit"},addTab:n,clone:s,disen:c,add:o,remove:{name:wpc_localize.js_strings.cmenu_remove,icon:"remove"}}}}}),e.contextMenu({selector:".wpc_workspace_menu_icon",zIndex:999,trigger:"hover",delay:50,build:function(e,t){return{callback:function(e,t,i){wpc.navigator[e]()},items:{expand:{name:"Expand All",icon:"arrow_down",className:"wpc_nav_opt"},collapse:{name:"Collapse All",icon:"arrow_right",className:"wpc_nav_opt"}}}}})},makeSortable:function(t,i,a,o,n,s,c,r,l){var p=!1;t=e(t),r?t.sortable("refresh"):(t.sortable({opacity:.7,items:i,tolerance:"pointer",placeholder:"wpc_navigator_placeholder",cursorAt:{left:50,top:5},cursor:"move",start:function(t,i){p=!1,"item"==a&&(wpc.ui.sortable.IndexesProp=wpc.data.base.getIndexes(e(i.item).data("navigator-id")))},receive:function(t,i){e(this).closest(".is_row_inner").length&&e(i.item).hasClass("node_inner_row")&&(p=!0,e(i.sender).sortable("cancel")),e(this).hasClass("item_has_child")&&(e(i.item).data("key-base")||e(i.item).hasClass("node_inner_row"))&&(p=!0,e(i.sender).sortable("cancel"))},update:function(t,i){var o,n={},s=!1;if(p?wp.customize.previewer.send("wpc-frontend-event","set_preloader_off"):wp.customize.previewer.send("wpc-frontend-event","set_preloader_on"),o="item"==a?wpc.navigator.getItemIndexes(e(i.item).closest(".wpc_node_column")):e(this).sortable("toArray",{attribute:"data-navigator-id"}),this===i.item.parent()[0]){if(null!==i.sender){if("item"==a){var c=wpc.data.base.getIndexes(e(i.item).closest(".wpc_node_column").data("navigator-id"));i.item.parent().hasClass("item_has_child")&&(s={parentID:e(i.item).parent().data("parent_child")}),n={indexes:{old:{rowIndex:wpc.ui.sortable.IndexesProp.rowIndex,colIndex:wpc.ui.sortable.IndexesProp.columnIndex,itemIndex:wpc.ui.sortable.IndexesProp.itemIndex},new:{rowIndex:c.rowIndex,colIndex:c.columnIndex,itemIndex:wpc.navigator.getDomItemIndex(e(i.item).closest(".wpc_node_column"),e(i.item).data("navigator-id"))},order:wpc.navigator.getItemIndexes(e(i.item).closest(".wpc_node_column"))},row_ID:e(i.item).closest(".wpc_node_row").data("navigator-id"),col_ID:e(i.item).closest(".wpc_node_column").data("navigator-id"),isSameRow:e(i.sender).closest(".wpc_node_row").data("navigator-id")==e(i.item).closest(".wpc_node_row").data("navigator-id"),isSameCol:e(i.sender).closest(".wpc_node_column").data("navigator-id")==e(i.item).closest(".wpc_node_column").data("navigator-id"),fromInnerRow:!!e(i.sender).closest(".is_row_inner").length,fromTabs:!!e(i.sender).hasClass("item_has_child"),moveIntoTab:s,id:e(i.item).data("navigator-id").toString(),itemType:e(i.item).data("node-type")}}wpc.data.reOrderData(o,i.item,a,i.sender,n,!0)}else wpc.data.reOrderData(o,i.item,a,!1,!1,!0);e(".node_empty_item").remove(),e(".item_has_child:not(:has(*)), .wpc_node_column ul.wpc_tree_view_toggle:not(:has(*))").append('<li class="node_empty_item">no item</li>')}}}),o&&t.sortable("option","handle",o),n&&t.sortable("option","axis",n),s&&t.sortable("option","containment",s),c&&t.sortable("option","connectWith",c),l&&t.sortable("option","cancel",l))},sortableAll:function(e){e=!!e,this.makeSortable(".wpc_workspace_node_outline",".wpc_node_row:not(.is_row_inner)","row",".workspace_node_content","y",!1,!1,e),this.makeSortable(".wpc_node_row",".wpc_node_column","column",".workspace_node_content","y",!1,!1,e),this.makeSortable(".wpc_node_column > .wpc_tree_view_toggle, .item_has_child","> [data-node-type]","item",".workspace_node_content","y",!1,".wpc_node_column > .wpc_tree_view_toggle, .item_has_child",e),this.makeSortable('[data-key-base="tabs"], [data-key-base="accordions"]',".node_tab","tab",".workspace_node_content","y",!1,!1,e)},getItemIndexes:function(t){var i=[];return e.each(t.find("[data-node-type]"),(function(t,a){i.push(e(a).data("navigator-id").toString())})),i},getDomItemIndex:function(t,i){var a=!1;return e.each(t.find("[data-node-type]"),(function(t,o){if(e(o).data("navigator-id")==i)return a=t,!1})),a}})}(jQuery),function(e){"use strict";"undefined"==typeof template&&(window.template={}),window.template=e.extend({ver:"0",auth:"ghozylab.com",model:1,elements:{form:function(t){return e("<form></form>").attr({name:"item-editor-form-"+t,class:"item-editor-form-"+t+" wpc-editor-form","data-item-id":t,method:"post",enctype:"multipart/form-data",action:"#"})},responsiveModeHtml:function(e){return'<div class="wpc_responsive_mode_cont"><div class="wpc_responsive_mode_pr"><span title="Desktop Mode" class="wpc_css_responsive_item in_use wpc_css_desktop_mode wpc-i-layout-default" data-mode="desktop"></span><span title="Tablet Mode" class="wpc_css_responsive_item wpc_css_tablet_mode wpc-i-portrait-tablets" data-mode="tablet"></span><span title="Smartphone Mode" class="wpc_css_responsive_item wpc_css_smartphone_mode wpc-i-portrait-smartphones" data-mode="smartphone"></span></div></div>'},addElementHtml:function(e){return'<div class="wpc_row_set_label_cont"><i class="mtips wpc-i-tags"><span class="mt-mes">Click to set Label for this Row</span></i><span class="hidden_label_text"></span><div class="wpc_row_label_cont"><input type="text" class="row_label_editor" /><div class="row_label_editor_btn_cont"><span class="wpc-button-flat wpc-button-color-blue wpc-button-size-small wpc_update_row_label edit_from_fronteditor">'+wpc_localize.js_strings.row_set_label_btn+'</span><span class="wpc-button-flat wpc-button-color-red wpc-button-size-small wpc_row_label_cancel">'+wpc_localize.js_strings.cancel+'</span></div></div></div><div class="wpc_item_id addElementHtml">ID: <span class="the_el_id is-disabled_ready_copy">'+e+'</span><i class="copy_el_id wpc-i-clone"></i></div>'},fields:function(t){var i=e("<div></div>");return e.each(Object.keys(t),(function(a,o){var n=e().add("<"+o+">");e.each(t[o],(function(e,t){if(!t)return!0;n.attr(e,t)})),n.appendTo(i)})),i},fieldsMapper:function(t,i,a,o,n,s){var c,r=!1,l=e.extend(!0,{},wpc.ui.wpc_maps.maps[o]),p=e.extend(!0,[],l.template[a].fields),d=e(".wpc-items-sett-main-tab .item-editor-form-"+i+" #content"+t);if(n&&(p=[]),"group-panel"==a){var w,u=d.find(".item-edit-control"),m=e.extend(!0,[],l.template[a].defaultvalue),f=e.extend(!0,[],l.template[a].itemfields),_=wpc.ui.presetManager.DataToInstall?wpc.ui.presetManager.DataToInstall:e.extend(!0,{},wpc.data.base.getDataByKey(i,"config"));_.hasOwnProperty("group")||n?n?(r=!0,w=[m[0]]):w=_.group:(w=m,r=!0),f.unshift({type:"field-text",label:null,name:"id",group_id:!0,custom_css:[["this","hidden-field"]],custom_data:null,desc:null}),c=w,e.each(c,(function(t,i){var a,o,n=null,s=null;o=e("<div class=wpc-group-row></div>").append('<div class=wpc-group-controls><ul><li class=collapse title="expand / collapse"><i class="wpc-i-arrow-down"></i><li class=group-label></li><li class=delete title="Delete this item" data-action="delete"><i class="wpc-i-close"></i></ul></div><div class=wpc-group-body></div>'),u.find(".wpc-group-rows").append(o);for(var c=0;c<f.length;c++){var l;if((a=e.extend(!0,{},f[c])).group_id&&(r?(n=wpc.tools.makeHash(),i[a.name]=n):n=i[a.name]),a.default=i[a.name],("field-textarea"==a.type||"field-texteditor"==a.type)&&(r||(a.default=wpc.tools.base64.decode(a.default)),a.hasOwnProperty("custom_data")&&Array.isArray(a.custom_data))){var d=a.custom_data.filter((function(e,t){return e.indexOf("data-clean_newline")>-1}));e.isEmptyObject(d)||(a.default=wpc.tools.clean_newline_str(a.default))}Array.isArray(a.custom_data)||(a.custom_data=[]),a.custom_data=wpc.tools.arrayUnique(a.custom_data.concat([["data-field-pos",c],["data-type","group"],["data-group",n]])),(l=wpc.tools.getFilledProps([a],["custom_data","custom_css"]))&&(l[0].hasOwnProperty("custom_data")&&(a.custom_data=wpc.tools.arrayUnique(a.custom_data.concat(l[0].custom_data))),l[0].hasOwnProperty("custom_css")&&(Array.isArray(a.custom_css)||(a.custom_css=[]),a.custom_css=wpc.tools.arrayUnique(a.custom_css.concat(l[0].custom_css)))),1==c&&(s=a.default,"field-texteditor"==a.type&&(s=s.replace(/<(.|\n)*?>/g,"")),(s=wpc.tools.truncate(s,100,"..."))&&o.find(".group-label").html(wpc.tools.sanitizeHtml(s,!0))),p.push(a)}o.attr({id:n,"data-group-id":n}),a=null,o=null})),_.hasOwnProperty("group")||u.find(".wpc-group-rows").addClass("empty_group"),u.find(".wpc-add-group").appendTo(u.find(".wpc-group-rows")),_=null,w=null,u=null,m=null,f=null}void 0!==p&&(e.each(p,(function(t,i){var n,s,c=a.split("-")[0].toLowerCase();if(Array.isArray(i)||"object"==typeof i){if(n=e(".item-editor-cp-fields ."+i.type).clone(),(s=n.find(".primary-value")).attr("data-field",i.type),null!=i.label&&n.find(".wpc-field-label label").html(wpc.tools.sanitizeHtml(i.label,!0)),null!=i.name&&s.attr("name",i.name),null!=i.default&&void 0===i.choices&&("field-number"==s.data("field")&&s.closest(".wpc-field-content").find("[type=number]").eq(0).val(parseInt(i.default)),s.val(i.default).trigger("change")),null!=i.custom_css&&e.each(i.custom_css,(function(e,t){"this"==t[0]?n.addClass(t[1]):"self"==t[0]?s.addClass(t[1]):n.find(t[0]).addClass(t[1])})),"placeholder"==i.custom_tags&&(n.find(".wpc-corners-top input").eq(0).attr({placeholder:"Top Left",onblur:"this.placeholder='Top Left'"}),n.find(".wpc-corners-left input").eq(0).attr({placeholder:"Bottom Left",onblur:"this.placeholder='Bottom Left'"}),n.find(".wpc-corners-right input").eq(0).attr({placeholder:"Top Right",onblur:"this.placeholder='Top Right'"}),n.find(".wpc-corners-bottom input").eq(0).attr({placeholder:"Bottom Right",onblur:"this.placeholder='Bottom Right'"})),null!=i.custom_data&&e.each(i.custom_data,(function(e,t){"readonly"==t[0]?s.prop("readonly",!0):("object"==typeof t[1]&&(t[1]=encodeURIComponent(JSON.stringify(t[1]))),s.attr(t[0],t[1])),"data-selector"===t[0]&&s.addClass("direct_send"),"data-force-empty"===t[0]&&null!=i.default&&s.data("default-value",i.default)})),void 0!==wpc.helpers.liveEditor.keyConnector[o.toLowerCase()]){var r=wpc.helpers.liveEditor.keyConnector[o.toLowerCase()].find((e=>e.name===i.name));"object"==typeof r&&r.name==i.name&&s.addClass("direct_send").attr("data-selector",r.selector)}null!=i.custom_html&&s.after(i.custom_html[0][1]),null!=i.frontend_selector&&s.attr("data-selector",i.frontend_selector),"field-texteditor"==i.type&&n.find(".field-texteditor-content").attr("id",wpc.tools.makeHash()),null!=i.desc&&n.find(".wpc-field-des:not(.link-details)").html(wpc.tools.sanitizeHtml(i.desc)),void 0!==i.choices&&("field-radio-images"==i.type?(e.each(i.choices,(function(e,t){var i=t[2];n.find(".field-radio-images-cnt").append('<div class="wpc_r_img_outer"><input type="radio" id="'+t[1]+'" class="input-hidden wpc_r_img" value="'+t[0]+'" /><label for="'+t[1]+'"><img class="layout_preview_img" src="'+wpc_localize.distribution_dir+"images"+i+'"/></label></div>')})),null!=i.default&&void 0!==i.choices&&n.find(".wpc_r_img[value="+i.default+"]").prop("checked",!0)):(e.each(i.choices,(function(e,t){n.find("select.field-select-param").append('<option value="'+t[0]+'">'+t[1]+"</option>")})),null!=i.default&&void 0!==i.choices&&s.val(i.default).prop("selected",!0))),"style-panel"==a?s.attr("data-type","css"):a.indexOf("-panel")>=0&&("group"!==c||s.data("group")||(c="general"),s.attr("data-type",c))}else(n=e("."+i).clone()).find(".wpc-extra-class-param").length&&n.find(".wpc-extra-class-param").attr("data-type","group"==c?"general":c);if("group-panel"==a&&n.find("[data-group]").length){var l=n.find("[data-group]").data("group");d.find(".wpc-group-row[data-group-id="+l+"]").find(".wpc-group-body").append(n)}else d.find(".item-edit-control").append(n);n=null})),l=null,d=null,p=null,s instanceof Function&&s())}},tabs:function(t){var i=e("#"+t.template).clone();if("style-panel"==t.template){var a=e.extend(!0,{},wpc.ui.wpc_maps.maps[t.type]).template[t.template].group;if(void 0===a)return;e.each(a,(function(e,t){i.find("ul.wpc-style-group-nav").append('<li data-tab="'+t[0]+'">'+wpc.tools.sanitizeHtml(t[1],!0)+"</li>")}))}return i}},window.template)}(jQuery),function(e){"use strict";"undefined"==typeof wpc&&(window.wpc={}),e().extend(wpc.ui,{wpc_maps:null,instances:{iconPicker:[]},AnimationTimeOut:null,template:{install:!1},sortable:{IndexesProp:null},media:{type:null,isMultiple:!1,urls:[],reset:function(){this.urls=[],this.isMultiple=!1,this.type=null}},post:{id:null,status:!1,url:null,data:null,title:null,returnURL:null},myUser:{init:function(){e(".wpc-my-user").removeClass("my-account-connected"),wpc_localize.my_info&&(e(".wpc-my-user").addClass("my-account-connected"),e(".wpc-my-user-avatar").attr("src",wpc_localize.my_info.user_info.avatar))},getProducts:function(){e(".wpc_my_user_info_cont").html("").addClass("on_Load_info").append('<i class="wpc-i-spinner wpc-i-spin"></i>'),wpc.tools.connect({route:"my",data:{command:"getProducts",data:!1}},(function(t){e(".wpc_my_user_info_cont").removeClass("on_Load_info").html(t.hasOwnProperty("msg")?t.msg:""),t.length&&e.each(t,(function(t,i){var a=i.hasOwnProperty("credits")?'<span class="__my_prop_credits">Credits: '+i.credits.left+"/"+i.credits.total+"</span>":"";e(".wpc_my_user_info_cont").append('<div class="wpc_my_user_product"><span class="__my_prop_name">'+i.name+'</span><span class="__my_prop_type">'+i.type+'</span><div class="__my_prop_status_cont"><span class="__my_prop_status">Status: '+i.status+"</span>"+a+"</div></div>")}))}))}},items:{el:null,id:"",row:"",col:"",type:"",onEdit:!1,iconLib:null,selIcon:null,pick:null,silent_reset:!1},editor:{active:!1,setResponsive:function(e){wpc.ui.settings.box().width()<=(e||768)?wpc.ui.settings.box().addClass("builder_on_lower_width"):wpc.ui.settings.box().removeClass("builder_on_lower_width")},isDockMode:function(){return!!wpc.ui.settings.box().is(".dock_left_mode",".dock_right_mode")},resize:function(t){if(!this.isDockMode)return!1;t||(t=this.getSize());var i="",a=t+"px",o=t/2+"px",n=wpc_localize.is_rtl?"left":"right",s=wpc_localize.is_rtl?"right":"left";i+="#wpc-editor.dock_left_mode, #wpc-editor.dock_right_mode {max-width: "+a+";min-width: "+a+";}",i+=".wpc_editor_dock_right .preview-desktop .wp-full-overlay-main, .wpc_editor_dock_left .preview-desktop .wp-full-overlay-main{max-width: calc(100% - "+a+");}",i+=".wpc_editor_dock_right .preview-desktop .wp-full-overlay-main {"+n+": "+a+";}",i+=".wpc_editor_dock_right .preview-tablet .wp-full-overlay-main, .wpc_editor_dock_right .preview-mobile .wp-full-overlay-main {"+s+": calc(50% - "+o+");}",i+=".wpc_editor_dock_left .preview-tablet .wp-full-overlay-main, .wpc_editor_dock_left .preview-mobile .wp-full-overlay-main {"+s+": calc(50% + "+o+");}",i+=".wpc_on_edit_rowEDITOR .wpc_row_set_label_cont {display: "+(t<="320"?"none":"inline-block")+";}";var c=document.createElement("style");c.type="text/css",c.id="wpc_editor_inline_css",c.innerHTML=i,e("#wpc_editor_inline_css").length&&e("#wpc_editor_inline_css").remove(),document.body.appendChild(c)},getSize:function(){var e=wpc.ui.builder.getConfig("global_panel_width");return""!=e&&null!=e||!0!==wpc.tools.isLocalStorage()?e:null===localStorage.getItem("editorSize")?wpc_localize.builder_default_width:localStorage.getItem("editorSize")},setSize:function(e){!0===wpc.tools.isLocalStorage()&&localStorage.setItem("editorSize",e)}},wpeditor:{setHeight:function(t){if(!e(document).find(".tmce-active .mce-container-body iframe").length)return!1;t=t||wpc_localize.wp_editor_height,e(document).find(".tmce-active .mce-container-body iframe").css("height",t+"px")}},gradx:{all_sliders:{},pickerWidth:!1,reset:function(){this.all_sliders={},this.pickerWidth=!1}},shapeDivider:{state:"bottom",shapes:null,config:null,isActive:!1,reset:function(){this.config=null,this.state="bottom",this.isActive=!1}},scrollEffects:{app:null,instances:null,config:null,copyPasteData:{},reset:function(){this.app=null,this.config=null,null!==this.instances&&(this.instances.destroy(),this.instances=null)}},transformMakerApp:{app:{resizable:null,draggable:null,rotate:null},instances:null,config:null,copyPasteData:{},reset:function(t){var i=this.app;this.config=null,t||(this.instances=null),e.each(this.app,(function(e,t){"resizable"===e&&null!==i.resizable&&void 0!==i.resizable.resizable("instance")?(i.resizable.resizable("destroy"),i.resizable=null):"draggable"===e&&null!==i.draggable&&void 0!==i.draggable.draggable("instance")?(i.draggable.draggable("destroy"),i.draggable=null):wpc.ui.transformMakerApp.app[e]=null}))}},positionApp:{config:null,sliders:[],instances:null,copyPasteData:null,reset:function(){this.config=null,this.instances=null}},filtersApp:{config:null,instances:null,copyPasteData:null,reset:function(){this.config=null,this.instances=null}},boxShadowApp:{config:null,instances:null,copyPasteData:null,reset:function(){this.config=null,this.instances=null}},frontendEditor:{onCustomizer:!1,directLink:!1,removeID:!1,reActivate:!1,info:null,taskAfterReloadData:[],clean:function(){Object.keys(wpc.ui.frontendEditor).forEach((function(e){if("clean"==e||"load"==e||"updateData"==e||"afterEdit"==e||"taskAfterReloadData"==e)return!0;wpc.ui.frontendEditor[e]=!1}))},load:function(e){if("picker"==e.job){if(e.hasOwnProperty("afterRefresh")&&e.afterRefresh)return wpc.ui.frontendEditor.taskAfterReloadData.push({job:"openItemPicker"}),!1;wp.customize.previewer.send("wpc-frontend-event",{job:"openItemPicker"})}},updateData:function(){var t={status:wpc.ui.frontendEditor.onCustomizer,base:e.extend(!0,{},wpc.data.base.maindata),postID:wpc.ui.post.id,loader:"off",taskAfterReloadData:wpc.ui.frontendEditor.taskAfterReloadData,removeID:!!wpc.ui.frontendEditor.removeID&&wpc.ui.frontendEditor.removeID,isToolTip:"no"!=wpc.ui.builder.getConfig("global_tooltips"),theme:wpc.ui.builder.theme.get(),stateHistories:wpc.data.base.histories.getFrontendState};wp.customize.previewer.send("wpc-frontend-event-data",t),wpc.ui.frontendEditor.removeID=!1,wpc.ui.frontendEditor.taskAfterReloadData=[]}},notify:{show:function(t){e(".wpc_fancy_notify").remove();var i=wpc.ui.builder.position.state.get(),a="in_bottom_right",o=(t=t||wpc_localize.js_strings.update_settings,"bounceInRight");wpc_localize.is_rtl&&"right"==i?i="left":wpc_localize.is_rtl&&"right"!=i&&(i="right"),"right"==i&&(o="bounceInLeft",a="in_bottom_left"),e("body").append('<div class="wpc_fancy_notify animated '+o+" "+a+'"><div class="wpc_fancy_notify_cont"><span class="tabloader fancy_loader"></span><div class="wpc_fancy_notify_msg">'+t+"</div></div></div>")},hide:function(t){if(clearTimeout(wpc.ui.AnimationTimeOut),!e(".wpc_fancy_notify").length)return!1;e(".wpc_fancy_notify").addClass("settings_saved").prepend('<span class="wpc_settings_saved_icon animated rubberBand"></span>');var i,a=wpc.ui.builder.position.state.get();wpc_localize.is_rtl&&"right"==a?a="left":wpc_localize.is_rtl&&"right"!=a&&(a="right"),i="right"==a?"bounceOutLeft":"bounceOutRight",wpc.ui.AnimationTimeOut=setTimeout((function(){e(".wpc_fancy_notify").removeClass("bounceInLeft bounceInRight").addClass(i)}),t||2e3),e(".wpc_fancy_notify").on("animationend",(function(t){e(this).hasClass("bounceOutRight")&&e(".wpc_fancy_notify").remove()}))}},loadmedia:function(t,i,a,o,n,s){if(t)return t.open(),void window.PexelsWpUtils.mediaFrameReinit();wpc.ui.media.type=i,wpc.ui.media.isMultiple=s,(t=wp.media.frames.wpc_media_frame=wp.media({title:"Choose "+i,library:{type:i},button:{text:"Insert "+i},multiple:!!s&&"add"})).on("open",(function(){var e=t.state().get("selection"),o=a.closest(".wpc-field-content").find("[data-media-type="+i+"]").val();o.length>0&&o.split(",").forEach((function(t){var i=wp.media.attachment(t);i.fetch(),e.add(i?[i]:[])})),window.PexelsWpUtils.mediaFrameReinit()})),t.on("select",(function(){o&&(o=a.closest(".wpc-field-content").find("span.media-holder")),a=a.closest(".wpc-field-content").find("[data-media-type="+i+"]");var c,r,l=[],p=t.state().get("selection"),d=p.first().toJSON(),w=wpc.tools.smartSplit(a.val(),",",!0),u=e('<div class="multiple-image-preview"><ul class="all-img-list"></ul></div>');if("image"==i)if(s)e(".multiple-image-preview").remove(),u.insertAfter(a),p.map((function(t){l.push(t.id),t=t.toJSON();try{c=t.sizes.thumbnail.url}catch(e){c=t.url}null==c||""==c||e(".all-img-list").find("#"+t.id).hasClass("broken")?l.splice(l.indexOf(t.id),1):e(".all-img-list").append('<li class="mltple-img-itm" id="'+t.id+'"><img src='+c+'><span data-img-id="'+t.id+'" class="img-del" title="Delete this image"></span></li>')})),r=l.join(","),wpc.ui.makeSortable("ul.all-img-list",".mltple-img-itm","gallery"),0===l.length?e(".wpc_media_editor_note").hide():e(".wpc_media_editor_note").show();else if(r=d.id,n){try{c=d.sizes.medium.url}catch(e){c=d.url}null!=c&&""!=c||(c=wpc_localize.front_asset_dir+"img/image-not-found.png"),void 0!==d.width&&o.data("image-size",{width:d.width,height:d.height}),o.html('<img src="'+c+'">'),setTimeout((function(){o.closest(".field-media-picker").nextAll().slice(0,4).hasClass("field-image-filters")&&wpc.helpers.generateImageFilters(o.closest(".field-media-picker").nextAll().slice(0,3)[2])}),100)}"video"!=i&&"audio"!=i||(r=d.id,o.html('<div class="wpc-wpmedia-info"><div class="media-thumb"><span class="wpc-i-'+i+'"></span></div><div class="all-info"><ul><li>Media ID: '+d.id+"</li><li>Media Name: "+d.name+"</li><li>Duration: "+d.fileLength+"</li><li>File Size: "+d.filesizeHumanReadable+"</li><li>Media URL: "+d.url+"</li></ul></div></div>")),wpc.tools.isArrayEqual(r,w,!0)||a.val(r).trigger("change"),s?a.closest(".wpc-field-content").find(".all-img-list").addClass("has_item_inside"):o.addClass("has_item_inside")})),t.on("close",(function(){window.PexelsWpUtils.clearActivity()})),t.open()},loadWpLink:function(t){wpLink.open("wp-link-url");var i,a=wpc.ui.settings.id,o=t;try{i=(i=o.closest(".wpc-field-content").find(".link-field").val()).split("|")}catch(e){i=["",""]}return e(".wp-link-text-field").hide(),e("#wp-link-url").val(i[0]),"_blank"==i[1]?e("#wp-link-target").prop("checked",!0):e("#wp-link-target").prop("checked",!1),e("#wp-link-cancel, #wp-link-close").on("click",(function(e){return wpLink.close(),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1})),e("#wp-link-submit").off("click").on("click",(function(t){var i=e(".item-editor-form-"+a+" .field-link"),o=e("#wp-link-url").val(),n=e("#wp-link-target").get(0).checked?"_blank":"";e(".item-editor-form-"+a+" .field-link").find(".wpc-param").val(o+"|"+n).change(),""!=o||""!=n?(i.find(".link-details").show(),i.find(".wpc-field-des:not(.link-details)").hide()):(i.find(".link-details").hide(),i.find(".wpc-field-des:not(.link-details)").show());var s="";return""!=o&&(s+="<strong>Link:</strong> "+o+"<br />"),""!=n&&(s+="<strong>Target:</strong> "+n+"<br />"),i.find(".link-preview").html(s),e("#wp-link-close").trigger("click"),wpLink.close(),t.preventDefault,!1})),!1},addMoreControl:function(){e(".moreitems").each((function(){var t,i=e(this),a=i.closest(".col-inner"),o=!0;i.removeClass("no_items has_items").addClass("no_items"),i.find(".item-type-title").text(wpc_localize.js_strings.item_add),(a.find(".wpc-item[id]").length||a.find(".wpc-inner-row").length)&&(function(e,t){t.removeClass("no_items has_items").addClass("has_items"),t.find(".item-type-title").text(wpc_localize.js_strings.item_add_more),e.append(t)}(a,i),o=!1),t=o?wpc_localize.js_strings.col_add_item:wpc_localize.js_strings.item_add_more,e('<span class="mt-mes">'+t+"</span>").appendTo(i.find(".add-new-item.mtips"))})),e(".item-type-tab .wpc-column-wrap").each((function(){e(this).closest(".wpc-views-section").find(".wpc-item[id]").length?e(this).removeClass("no-item-in"):e(this).addClass("no-item-in")}))},makeSortable:function(t,i,a,o,n,s,c,r,l){t=e(t),r?t.sortable("refresh"):(t.sortable({opacity:.7,items:i,tolerance:"pointer",placeholder:"ui-wpc-sortable-placeholder",cursorAt:{left:50,top:5},cursor:"move",cancel:".wpc-group-body",forceHelperSize:!0,forcePlaceholderSize:!0,start:function(t,i){i.placeholder.width(i.helper.width()-1),i.placeholder.height(i.helper.height()),"tab"!=a&&"column"!=a||(i.placeholder.addClass(a+"_on_sort"),i.placeholder.css("max-width",i.item.outerWidth(!0)-3+"px"),i.placeholder.css("min-height",i.item.outerHeight()-3+"px")),e(".less-margin-bottom").css("overflow","hidden"),"item"==a&&(wpc.ui.sortable.IndexesProp=wpc.data.base.getIndexes(e(i.item).attr("id")))},over:function(t,i){"item"==a&&(i.placeholder.width(e(t.target).width()),i.item.width(e(t.target).width()))},stop:function(t,i){e(".less-margin-bottom").css("overflow","visible"),"tab"==a&&wpc.helpers.itemTabRepositioning()},receive:function(t,i){e(this).hasClass("wpc-views-section-wrap")&&(e(i.item).hasClass("item-type-typeAccordion")||e(i.item).hasClass("item-type-typeTAB")||e(i.item).hasClass("item-type-rowInner"))&&e(i.sender).sortable("cancel")},update:function(t,i){var o,n={},s=!1;if(o="item"==a?wpc.tools.getItemIndexes(e(i.item).closest(".wpc_node_column")):e(this).sortable("toArray"),this===i.item.parent()[0])if(null!==i.sender){if("item"==a){var c=wpc.data.base.getIndexes(e(i.item).closest(".wpc_node_column").attr("id"));i.item.parent().hasClass("wpc-views-section-wrap")&&(s={parentID:e(i.item).closest(".wpc_node_tabs").data("tab_cont_id")}),n={indexes:{old:{rowIndex:wpc.ui.sortable.IndexesProp.rowIndex,colIndex:wpc.ui.sortable.IndexesProp.columnIndex,itemIndex:wpc.ui.sortable.IndexesProp.itemIndex},new:{rowIndex:c.rowIndex,colIndex:c.columnIndex,itemIndex:wpc.tools.getDomItemIndex(e(i.item).closest(".wpc_node_column"),e(i.item).attr("id"))},order:wpc.tools.getItemIndexes(e(i.item).closest(".wpc_node_column"))},isSameRow:e(i.sender).closest(".wpc_node_row").attr("id")==e(i.item).closest(".wpc_node_row").attr("id"),isSameCol:e(i.sender).closest(".wpc_node_column").attr("id")==e(i.item).closest(".wpc_node_column").attr("id"),fromTabs:!!e(i.sender).hasClass("wpc-views-section-wrap"),moveIntoTab:s,id:e(i.item).attr("id"),itemType:e(i.item).data("item-type")}}wpc.data.reOrderData(o,i.item,a,i.sender,n)}else wpc.data.reOrderData(o,i.item,a,!1,!1)}}),o&&t.sortable("option","handle",o),n&&t.sortable("option","axis",n),s&&t.sortable("option","containment",s),c&&t.sortable("option","connectWith",c),l&&t.sortable("option","cancel",l))},sortableAll:function(e){e=!!e,wpc.ui.makeSortable(".wpc-section",".wpc-row","row",".move-row","y",!1,!1,e),wpc.ui.makeSortable(".wpc-row","> .wpc-column","column",".moreitems","x",!1,!1,e),wpc.ui.makeSortable(".wpc-column .col-inner, .wpc-views-section-wrap","> .wpc-item[data-item-type]","item",".wpc-element-control, .wpc-views-tabs-wrap, .row-item",!1,!1,".wpc-column .col-inner, .wpc-views-section-wrap",e,".wpc-controls, .columns-picker"),wpc.ui.makeSortable(".wpc-views-label",".tabs-label[data-tab_id]","tab",!1,!1,!1,!1,e)},builder:{info:!1,modeTour:!1,pageOnLoading:!1,onTour:!1,init:function(){this.modeTour=!(!0!==wpc.tools.isLocalStorage()||!wpc_localize.tour_mode_on),wpc.helpers.tourGetSteps(!1,"all")&&this.modeTour?(this.onTour=!0,this.preview.topMenu.disable()):this.preview.topMenu.enable()},load:function(){e("#wpc-editor-holder").html('<span class="tabloader"></span>'),e(".popup-button.popup-save").addClass("nochanges"),e("body.wp-customizer").addClass("wp-wpc-on-preview"),this.render(),wpc.ui.settings.box().draggable({containment:"document",handle:".wpc-popup-header",cancel:".wpc-popup-content-cont > *, .wpc-builder-right-menus"}),null==wpc.ui.settings.box().resizable("instance")&&wpc.ui.settings.box().resizable({minWidth:wpc.ui.editor.getSize(),containment:"document",handles:{e:".ui-resizable-ew",w:".ui-resizable-we"},resize:function(e,t){wpc.ui.settings.box().addClass("on_resize_dialog dirty_dialog_size"),wpc.ui.editor.setResponsive(),wpc.ui.gradx.pickerWidth=!1},stop:function(e,t){wpc.ui.settings.box().removeClass("on_resize_dialog")}}),wp.customize.state("paneVisible").set(!1)},unload:function(){if(wpc.ui.frontendEditor.backendEditorActive=!1,wpc.ui.frontendEditor.onCustomizer)return wpc.ui.settings.done(),!1;wp.customize.previewer.send("wpc-frontend-event","set_editor_off"),e("body.wp-customizer").removeClass("wpc-on-edit-mode"),e(".black-overlay").fadeOut(50,(function(){wpc.ui.settings.box().hide()})),wpc.data.base.maindata={},wpc.ui.picker.close(),wp.customize.state("paneVisible").set(!0),wpc.ui.settings.done()},render:function(){var t={route:"builder",data:{postID:wpc.ui.post.id,command:"render"}};wpc.tools.connect(t,(function(t){if(t){wpc.data.base.maindata=wpc.data.base.load(t.base);var i=wpc.ui.frontendEditor.backendEditorActive?t.markup:'<div class="wpc-section"><div class="item-cp-container"></div></div>';e("#wpc-editor-holder").html(wpc.tools.sanitizeHtml(i)),wpc.ui.builder.preConfig()}}))},preConfig:function(){wpc.ui.frontendEditor.backendEditorActive&&wpc.tools.callFunctions(["rowInnerRepositioning","itemTabRepositioning","sortableAll"]),wpc.ui.picker.close(),wpc.ui.settings.box().addClass("normal_position"),"no"==this.getConfig("global_tooltips")?e("#wpc-editor, #wpc-fixed-menu-header").addClass("no-tooltips"):e("#wpc-editor, #wpc-fixed-menu-header").removeClass("no-tooltips"),"yes"==this.getConfig("global_save_expcoll")?e(".wpc-row").data("save_coll_exp","save"):(e(".wpc-row").data("save_coll_exp","no"),e(".wpc-row, .expcoll-row").removeClass("collapsed"),e(".col-inner").css("display","inline-block")),0==e(".wpc-row").length?e("#wpc-editor").addClass("builder_is_blank"):e("#wpc-editor").removeClass("builder_is_blank"),wpc.ui.frontendEditor.reActivate&&!wpc.ui.builder.onTour&&(e(".wpc-popup-global-stt").css("pointer-events","auto"),e(".wpc-menu-header").removeClass("frontOnEdit")),wpc.ui.frontendEditor.reActivate=!1,wpc.ui.frontendEditor.backendEditorActive||wpc.ui.builder.preview.start(e(".wpc_dropdown-list")),wpc.data.base.histories.load(),wpc.navigator.render(),this.info&&(this.info=!1)},getConfig:function(e){var t=wpc.data.base.getDataByKey(wpc.ui.post.id,"config","globalEDITOR");return e?t.hasOwnProperty(e)?t[e]:void 0:t},preview:{start:function(e){this.set(e)},stop:function(){this.set()},set:function(t){if(!t)return wp.customize.previewedDevice.set("desktop"),e("body.wp-customizer, ul.wpc_dropdown-list li").removeClass("wp-wpc-on-preview preview-screen").addClass("wpc-on-edit-mode"),e("#screen-size-current").removeClass().addClass("wpc-i-layout-default"),e("body.wp-customizer").hasClass("front_on_hold")&&wpc.ui.builder.position.set.normal(!0),!1;var i=t.find("span.wpc_screen-width").attr("class").split(" ")[1];t.addClass("preview-screen").siblings().removeClass("preview-screen"),e("#screen-size-current").removeClass().addClass(i),wp.customize.previewedDevice.set(t.find("span.wpc_screen-width").data("device")),e("body.wp-customizer").addClass("wp-wpc-on-preview").removeClass("wpc-on-edit-mode"),wpc.ui.frontendEditor.clean(),wpc.ui.frontendEditor.onCustomizer=!0},switch:function(t){var i=t.find("span.wpc_screen-width").attr("class").split(" ")[1],a=t.find("span.wpc_screen-width").data("device");t.addClass("preview-screen").siblings().removeClass("preview-screen"),e("#screen-size-current").removeClass().addClass(i),wp.customize.previewedDevice.set(a),"desktop"!==a&&wp.customize.previewer.send("wpc-frontend-event",{job:"closeItemPicker"})},destroy:function(){wp.customize.previewer.send("wpc-frontend-event","set_editor_off"),wpc.ui.frontendEditor.clean(),wpc_localize.supported_themes&&wp.customize.previewer.send(wpc_localize.supported_themes+"-previewer-event","isReady")},forceStop:function(){wpc.ui.builder.preview.stop(),wpc.ui.frontendEditor.onCustomizer||(wpc.ui.frontendEditor.clean(),wp.customize.previewer.send("wpc-frontend-event","set_editor_off"))},show:function(){e("body.wp-customizer").removeClass("wp-wpc-preview-on-hide"),e(".black-overlay").show()},hide:function(){e("body.wp-customizer").addClass("wp-wpc-preview-on-hide"),e(".black-overlay").hide()},disable:function(){e(".wpc_enable_wpc_btn_cnt").remove(),e(".wpc-menu-header .wpc-builder-right-menus").addClass("frontDisabled").parent().append('<div class="wpc_enable_wpc_btn_cnt"><span class="wpc_enable_wpc_btn wpc-button-flat wpc-button-color-blue wpc-button-size-sm">'+wpc_localize.js_strings.enable_wpc+"</span></div>")},enable:function(){e(".wpc_enable_wpc_btn_cnt").remove(),e(".wpc-menu-header .wpc-builder-right-menus").removeClass("frontDisabled")},topMenu:{disable:function(){e("#wpc-fixed-menu-header").addClass("disable_all_now")},enable:function(){e("#wpc-fixed-menu-header").removeClass("disable_all_now")}}},enable:function(){wpc.data.base.action(e(".wpc_enable_wpc_btn"),"update_opt",{key:"global_disable_wpc",value:"no"})},editorSwitchPage:function(t,i){var a="string"==typeof t?JSON.parse(t):t;i&&window.history.pushState({path:a.wpc_session},"Customize: "+a.postTTL,a.wpc_session),wpc.ui.post.url=a.permalink,wpc.ui.post.id=a.postID,wpc.ui.post.title=a.postTTL,wpc.ui.post.returnURL=a.returnURL,e("body").append('<div class="wpc_preloader" id="wpc_preloader"><div id="wpc_loader"></div></div>'),wp.customize.control(a.section).focus(),wp.customize.previewer.previewUrl(wpc.ui.post.url),wpc.ui.builder.load(),wpc.ui.builder.preview.show(),wp.customize.previewer.refresh()},position:{set:{left:function(e){this.adaptableThings(!1,"left"),wpc.ui.settings.box().removeClass("dock_right_mode editor-fullscreen normal_position dirty_dialog_size").addClass("builder_on_lower_width dock_left_mode"),wpc.ui.settings.box().draggable("disable").resizable("disable")},right:function(e){this.adaptableThings(!1,"right"),wpc.ui.settings.box().removeClass("dock_left_mode editor-fullscreen normal_position dirty_dialog_size").addClass("builder_on_lower_width dock_right_mode"),wpc.ui.settings.box().draggable("disable").resizable("disable")},normal:function(t){this.adaptableThings(t,"normal"),wpc.ui.settings.box().removeAttr("style"),wpc.ui.settings.box().removeClass("editor-fullscreen builder_on_lower_width dock_left_mode dock_right_mode dirty_dialog_size"),wpc.ui.settings.overlayBox().css("width",e("body").innerWidth()-wpc.tools.getScrollbarWidth()+"px"),setTimeout((function(){wpc.ui.settings.box().addClass("normal_position").css("height",e(window).height()-50+"px")}),10),t&&(wpc.ui.settings.box().removeClass("normal_position"),wpc.ui.settings.box().draggable("enable").resizable("enable"))},fullscreen:function(t){wpc.ui.builder.position.set.normal(!0);var i=e(".wpc-popup-header .wpc-popup-fullscreen"),a=e(".wpc-popup-expand").find("span.mt-mes");"normal"==t?(wpc.ui.settings.box().draggable("enable").resizable("enable"),wpc.ui.settings.box().addClass("normal_position").removeClass("editor-fullscreen").css("height",e(window).height()-50+"px"),a.text(wpc_localize.js_strings.fullscreen),i.data("opposite-mode","fullscreen").removeClass("wpc-i-fullscreen wpc-i-fullscreen-exit").addClass("wpc-i-fullscreen"),wpc.ui.settings.overlayBox().css({width:e("body").innerWidth()-wpc.tools.getScrollbarWidth()+"px",height:"auto"})):(wpc.ui.settings.overlayBox().css({width:"100%",height:"100%"}),wpc.ui.settings.box().draggable("disable").resizable("disable"),wpc.ui.settings.box().removeClass("normal_position").addClass("editor-fullscreen"),a.text(wpc_localize.js_strings.exit_fullscreen),i.data("opposite-mode","normal").removeClass("wpc-i-fullscreen wpc-i-fullscreen-exit").addClass("wpc-i-fullscreen-exit"),wpc.ui.wpeditor.setHeight(parseInt(wpc.ui.settings.contentBox().height()))),wpc.ui.builder.position.state.set(null!=t&&t?t:"fullscreen"),e("body.wp-customizer").removeClass("wpc_editor_dock_normal wpc_editor_dock_right wpc_editor_dock_left"),wpc.ui.gradx.pickerWidth=!1},adaptableThings:function(t,i){e(".wpc-popup-expand").find("span.mt-mes").text(wpc_localize.js_strings.fullscreen),e(".wpc-popup-fullscreen").removeClass("wpc-i-fullscreen-exit").addClass("wpc-i-fullscreen"),wpc.ui.wpeditor.setHeight(wpc_localize.wp_editor_height),e("body.wp-customizer").removeClass("wpc_editor_dock_left wpc_editor_dock_right wpc_editor_dock_normal").addClass("wpc_editor_dock_"+i),"left"==i||"right"==i?wpc.ui.editor.resize():e("#wpc_editor_inline_css").remove(),t||wpc.helpers.editorOverlayWidthCorrection(i),setTimeout((function(){if(e(".wpc_rangeslider_opt").length){var t=wpc.ui.settings.isDirty;e(".wpc_rangeslider_opt").each((function(t,i){e(i).data("rs-instance")&&e(i).data("rs-instance").rangeslider("update",!1)})),e(".vue-slider-dot-tooltip").css("visibility","hidden"),t||wpc.ui.isDirtyStatus(!1)}}),300)}},state:{get:function(){var t;return!0===wpc.tools.isLocalStorage()&&null!==localStorage.getItem("wpc_editor_display_mode")?(t=localStorage.getItem("wpc_editor_display_mode"),-1!==e.inArray(t,["normal","fullscreen","left","right"])?t:wpc_localize.builder_default_position):wpc_localize.builder_default_position},set:function(e){!0===wpc.tools.isLocalStorage()&&localStorage.setItem("wpc_editor_display_mode",e)}}},open:function(){e("body.wp-customizer").addClass("front_on_hold"),e("#wpc-editor").addClass("builder_is_blank"),wp.customize.previewer.send("wpc-frontend-event","set_front_on_hold"),wpc.ui.builder.preview.stop(),wpc.ui.frontendEditor.backendEditorActive=!0,wpc.navigator.close(),e(".item-cp-container").show().html('<span class="tabloader"></span>'),wpc.ui.frontendEditor.onCustomizer&&setTimeout((function(){wpc.ui.builder.render()}),100)},close:function(){wpc.ui.frontendEditor.backendEditorActive=!1,wpc.ui.settings.done(),e("#wpc-editor").addClass("builder_is_blank"),e("#wpc-editor-holder").html('<div class="wpc-section"><div class="item-cp-container"></div></div>'),wpc.ui.frontendEditor.onCustomizer=!0,wpc.ui.builder.preview.start(e(".wpc_dropdown-list")),wpc.ui.frontendEditor.updateData(),wpc.ui.picker.close()},theme:{init:function(){this.apply()},apply:function(){var t=this.get();t&&(e("body").removeClass("wpc_ui_skin_dark wpc_ui_skin_light").addClass("wpc_ui_skin_"+t),e("i[data-switch]").removeClass().addClass("wpc-i-"+("light"==t?"dark":"light")).data("switch","light"==t?"dark":"light"),"dark"==t&&localStorage.setItem("wpc-editor-theme","dracula"),wp.customize.previewer.send("wpc-frontend-event",{job:"themeSwitch",theme:t}),wpc.helpers.tinymceSetTheme())},get:function(){if(!0===wpc.tools.isLocalStorage()){var e=localStorage.getItem("wpc_editor_theme");if(null!==e)return e}return wpc_localize.builder_default_theme},set:function(e){var t,i=!1;"object"==typeof e?t=e.find("i").attr("class").split("-")[2]:(i=!0,t=e),!0===wpc.tools.isLocalStorage()&&localStorage.setItem("wpc_editor_theme",t),i||this.apply()}},props:{trash:null}},picker:{itemLists:null,init:function(){this.itemLists=e(".wpc-components-list").html(),this.configure()},configure:function(){e(".wpc-components-list").sortable({revert:!1,cursor:"move",distance:10,tolerance:"pointer",cancel:".wpc-item-fav, .wpc_pro_badge",placeholder:"ui-wpc-sortable-placeholder",containment:"#editor-simplebar",forceHelperSize:!0,helper:function(t,i){return'<div id="dragDropitem" class="wpc_type_helper item_on_drop wpc_item"><div class="helper_info_cont"><i class="helper_icon cp-icon item-type-'+e(t.target).data("item-type").toLowerCase()+'"></i><span class="helper_title">'+e(t.target).find(".cpdes strong").text()+'</span></div><span class="helper_loader"></span></div>'},appendTo:"#editor-simplebar",item:".wpc-element-item",connectWith:".wpc-column .col-inner, .wpc-views-section-wrap",start:function(e,t){t.item.show()},out:function(e,t){wpc.ui.picker.close()},update:function(t,i){var a=e(i.item),o=a.parent(),n=a.data("item-type");return a.data("pro-version")?(wpc.ui.picker.setUpgradePopup(a),!1):!a.parent().hasClass("wpc-components-list")&&("typeTAB"!==n&&"typeAccordion"!==n||!o.hasClass("wpc-views-section-wrap"))&&("rowInner"!==n||!o.hasClass("wpc-views-section-wrap")&&!o.closest(".wpc-inner-row").length)&&(wpc.ui.picker.reloadList(!0),void wpc.ui.itemManager.create(a))},cursorAt:{top:18,left:0}}).disableSelection(),null!=this.favorites.items&&null!=this.favorites.items||(this.favorites.items=wpc_localize.favorites_items)},reloadList:function(t){e(".wpc-components-list").html(this.itemLists),this.setItemFavorites(),e(".wpc-components-list").sortable("destroy"),this.configure(),t&&e(".items-categories li.active").trigger("click")},setItemFavorites:function(){if(e(".wpc-item-fav, .el_loader_cont").remove(),e(".wpc-element-item").append('<span class="wpc-item-fav"></span>'),this.setCatFavorites(),null==this.favorites.items.length||0===this.favorites.items.length)return!1;e.each(this.favorites.items,(function(t,i){e('.wpc-element-item[data-item-type="'+i+'"]').find(".wpc-item-fav").addClass("in_fav")}))},setCatFavorites:function(){var t=!1;return e(".items-selector-box").is(":visible")&&e(".wpc_fav_cat").hasClass("active")&&(t=!0),e(".wpc_fav_cat").remove(),!!(null!=this.favorites.items.length&&0!==this.favorites.items.length||t)&&(null!=this.favorites.items.length&&0!==this.favorites.items.length||!t?(e('<li class="wpc_fav_cat" data-cat="cat-fav">'+wpc_localize.js_strings.my_favorites+"</li>").insertAfter('[data-cat="cat-all"]'),void(t&&e(".wpc_fav_cat").trigger("click"))):(e('[data-cat="cat-all"]').trigger("click"),!1))},load:function(){wp.customize.previewer.send("wpc-frontend-event",{job:"closeItemPicker"}),this.setItemFavorites(),e(".items-categories li").first().addClass("active").trigger("click"),e(".items-picker").show()},close:function(){e(".items-selector-box").animate({top:"-"+parseInt(e(".items-selector-box").height()+100)+"px"},300,(function(){e(".items-selector-box").hide().css("top","13px")}))},setUpgradePopup:function(t,i){var a=!!t&&e(t),o=!!a&&a.find(".cpdes strong").text(),n=wpc_localize.js_strings.pro_popup_content;n=i?n.replace("PBWP","<strong>"+i+"</strong>"):n.replace("PBWP","<strong>"+o+"</strong>"),e("body").append('<div class="wpc_pro_popup_layer"><div class="wpc_pro_popup"><img class="wpc_pro_info_logo" src="'+wpc_localize.distribution_dir+'images/wpc_300_trans.png" alt="Pro"><div class="wpc_pro_popup_content"><div class="wpc_pro_info_title">'+wpc_localize.js_strings.pro_popup_title+'</div><div class="wpc_pro_info_content">'+n+'</div><div class="wpc_pro_upgrade_button wpc-button-flat wpc-button-size-sm">'+wpc_localize.js_strings.pro_popup_button+'</div></div><span class="wpc_pro_popup_close wpc-popup-close"></span></div>')},fontManager:{open:function(){e(".wpc-ggf-added").removeClass("animated bounce"),e(".wpc-ggf-added span").eq(0).removeClass("wpc-i-folder-open").addClass("wpc-i-folder_close"),e(".wpc-font-manager-lightbox").fadeIn(500,(function(){e("#wpc-ggf-my-fonts").hide(),e("body").removeClass("wpc-show-my-fonts wpc-my-fonts-ready-cloud"),e("#wpc-ggf-search").val(""),e("#wpc-ggf-language, #wpc-ggf-category").prop("selectedIndex",0),e("#wpc-ggf-filter").prop("selectedIndex",1).trigger("change")}))},close:function(){e(".wpc-fm-header-close").trigger("click")}},favorites:{add:function(e){this.action("add",e)},remove:function(e){this.action("remove",e)},action:function(e,t){var i=this,a={route:"actions",data:{command:"favorites_item",action:e,item:t}};"add"===e&&wpc.ui.notify.show(wpc_localize.js_strings.my_favorites_add),wpc.tools.connect(a,(function(t){i.items=t,wpc.ui.picker.setItemFavorites(),wp.customize.previewer.send("wpc-frontend-event",{job:"updateItemFavorites",favorites:t}),"add"===e&&wpc.ui.notify.hide()}))},items:null}},rowManager:{add:function(t){var i=e("#wpc-editor-holder"),a={route:"element",data:{postID:wpc.ui.post.id,command:"add_row"}};t&&(a.data.props=t),wpc.ui.builder.onTour&&(a.data.is_tour=!0),wpc.tools.connect(a,(function(t){if(t){var a=t,o=e(".add-new-row-cont",i);wpc.data.base.histories.store(wpc.data.base.maindata),wpc.data.base.maindata=wpc.data.base.load(a.base),wpc.ui.frontendEditor.backendEditorActive&&(a.frontend_markup.is_first_row?(i.find(".wpc-section").eq(0).remove(),i.append(e(a.markup))):(e(a.markup).insertBefore(o),o.show()),e("#wpc-editor").removeClass("builder_is_blank"),e(".add-new-row").removeClass("loadrow wpc-i-spin"),e(".simplebar-content-wrapper").scrollTo(".wpc-row:last",500,{offset:{top:-50},onAfter:function(){i.find(".wpc-row").last().removeClass("animated bounceIn").find(".cols-row").trigger("click"),wpc.ui.sortableAll()}})),wpc.navigator.render();try{t.hasOwnProperty("frontend_markup")&&(wpc.ui.builder.onTour&&wpc.helpers.tourSetSteps("columnGuide","frontend"),wp.customize.previewer.send("wpc-frontend-event",{job:"apply",data:t.frontend_markup,base:wpc.data.base.maindata}))}catch(e){}}}))},edit:function(e){wpc.ui.settings.load(e)},clone:function(t){var i;wp.customize.previewer.send("wpc-frontend-event",{job:"setClone",data:{id:t,isCopy:!1}}),wpc.data.info.frontend||(i=e("#"+t).clone().addClass("clone_root"),e('<div class="cloner_container"><div class="clone_loader"></div></div>').insertAfter("#"+t).append(i),e(".simplebar-content-wrapper").scrollTo(".clone_root",500,{offset:{top:-50}})),wpc.data.clone(t,(function(e){wpc.data.info.frontend||wpc.tools.idReplacer(e.replacer,".cloner_container"),wp.customize.previewer.send("wpc-frontend-event",{job:"applyClone",data:e}),wpc.ui.frontendEditor.updateData(),wpc.navigator.render(),wpc.data.info.frontend=!1}))},remove:function(t){var i=wpc.data.base.maindata;if(wpc.data.base.histories.store(wpc.data.base.maindata),Array.isArray(t))s(t,!0);else{var a=e(".wpc-row[id="+t+"]"),o=e(".wpc-row[id="+t+"]").closest(".wpc-section"),n=wpc.data.base.getInnerRowItems(t);!function(e,t){a.fadeOut(300),wpc.data.base.isInnerRow(e)?(a.closest(".has_row_inner").remove(),wpc.data.base.remove(wpc.data.base.getInnerRowParentID(e))):a.remove(),wpc.data.base.remove(e),wpc.ui.frontendEditor.removeID=e,Array.isArray(t)&&t?s(t,!0):wpc.data.update(wpc.data.readyToSave(i),"removeItem"),0==o.find(".wpc-row").length&&o.prepend(wpc.ui.rowManager.createBlank()),wpc.ui.addMoreControl()}(t,!Array.isArray(n)||!n.length||n)}function s(t,a){e.each(t,(function(e,t){wpc.data.base.remove(t)})),a&&wpc.data.update(wpc.data.readyToSave(i),"removeItem")}},createBlank:function(){return e("#wpc-editor").addClass("builder_is_blank"),e("#wpc-editor-holder .add-new-row-cont").hide(),'<div class="wpc-blank-row"><div class="wpc-blank-logo"><img src="'+wpc_localize.distribution_dir+'images/wpc_120.png"></div><div class="wpc-blank-content">'+wpc_localize.js_strings.blankpage_msg+'</div><div class="wpc-blank-options"><span class="wpc-blank-create-new-row wpc-button-flat wpc-button-color-blue wpc-button-size-normal">'+wpc_localize.js_strings.row_new+"</span></div></div>"},set:{label:function(e){var t={job:"set_label",label:e.val(),postID:wpc.ui.post.id,rowIndex:wpc.data.base.getIndex(e.closest(".wpc_node_row").attr("id"))};wpc.ui.rowManager.set.action(e,t,"set_label")},collexp:function(e,t){var i={job:"collexp",expcoll:t,postID:wpc.ui.post.id,rowIndex:wpc.data.base.getIndex(e.attr("id"))};wpc.ui.rowManager.set.action(null,i,"collexp")},action:function(t,i,a){var o={route:"actions",data:{command:"wpc_row_set_config",rowData:i}};wpc.tools.connect(o,(function(o){if(o.status&&(wpc.data.base.maindata=wpc.data.base.load(o.base),"set_label"==a)){var n="none"==o.txt?"":o.txt;(i.hasOwnProperty("rowID")?e("#"+i.rowID):t.closest(".row-control-cont")).find(".wpc_row_label").text(n),i.hasOwnProperty("rowID")&&wpc.tools.notify(wpc_localize.js_strings.row_label_updated,"success"),wpc.navigator.render()}}))}},get:function(e,t){return wpc.data.base.getDataByKey(e,t)},refreshAfterEdit:!1},colManager:{add:function(t,i,a){var o=wpc.data.base.maindata;e.each(i,(function(e,i){var a={id:i,items:[],config:{css:{desktop:[],tablet:[],smartphone:[]}}};wpc.data.base.add(t,a,"colBase")})),wpc.data.base.update(t,"col_mode",a),wpc.data.update(wpc.data.readyToSave(o),"addNewColumn"),wpc.ui.addMoreControl()},edit:function(e){wpc.ui.settings.load(e)},remove:function(t,i,a){var o=wpc.data.base.maindata,n=Array.isArray(t)?"":wpc.data.base.getParentIds(t),s=[],c="removeItem";if(wpc.data.base.histories.store(wpc.data.base.maindata),Array.isArray(t))n=wpc.data.base.getParentIds(t[0]),e.each(t,(function(t,i){var a=wpc.data.base.getInnerRowItems(i);a.length&&(s=a.concat(s)),wpc.data.base.remove(i),e("#"+i).empty().remove()})),wpc.data.base.update(n.row_ID,"col_mode",i),a&&(c="removeColumn"),wpc.data.update(wpc.data.readyToSave(o),c),wpc.ui.addMoreControl();else{var r=e(".wpc-column[id="+t+"]"),l=wpc.data.base.getColumnInRow(n.row_ID),p=wpc.data.base.getColumnCell(t,!0),d=[],w=wpc.data.base.getInnerRowItems(t);if(w.length&&(s=w.concat(s)),1==l.length)return wpc.ui.frontendEditor.onCustomizer&&(wpc.ui.frontendEditor.removeID=n.row_ID),wpc.ui.rowManager.remove(n.row_ID),!1;if(r.empty().remove(),wpc.ui.frontendEditor.onCustomizer){var u={colID:t,job:"deleteColumn"};wp.customize.previewer.send("wpc-frontend-event",u)}l.cols=l.cols.filter((e=>e!==t));var m=1==l.cols.length?l.cols[0]:l.cols.slice(-1)[0];e.each(l.cols,(function(e,t){var i;i=wpc.data.base.getColumnCell(t,!0),t==m&&(i=p+i),d.push(wpc.tools.fraction.toFraction(i,"-"))})),wpc.data.base.remove(t);var f={cells:i=d.join("_"),colNum:d.length,rowID:n.row_ID};this.switcher(f)}s.length&&(wpc.data.base.histories.globalState=!0,wpc.ui.rowManager.remove(s))},updateCells:function(e,t){var i=wpc.data.base.maindata;wpc.data.base.update(e,"col_mode",t),wpc.data.update(wpc.data.readyToSave(i),"columnSetTemplateOnly"),wpc.ui.addMoreControl()},renderPicker:function(t){var i='<div class="columns-picker"><span class="close-col-picker">x</span><div class="col-layout-type"><span class="col-opt-title">'+wpc_localize.js_strings.col_template+'</span><div class="col-options"><i data-col-number="1" data-cells="1-1" class="wpc-i-1-1" title="1/1"></i><i data-col-number="2" data-cells="1-2_1-2" class="wpc-i-1-2_1-2" title="1/2 + 1/2"></i><i data-col-number="3" data-cells="1-3_1-3_1-3" class="wpc-i-1-3_1-3_1-3" title="1/3 + 1/3 + 1/3"></i><i data-col-number="3" data-cells="1-4_1-2_1-4" class="wpc-i-1-4_1-2_1-4" title="1/4 + 1/2 + 1/4"></i><i data-col-number="4" data-cells="1-4_1-4_1-4_1-4" class="wpc-i-1-4_1-4_1-4_1-4" title="1/4 + 1/4 + 1/4 + 1/4"></i><i data-col-number="2" data-cells="1-4_3-4" class="wpc-i-1-4_3-4" title="1/4 + 3/4"></i><i data-col-number="4" data-cells="1-6_1-6_1-6_1-2" class="wpc-i-1-6_1-6_1-6_1-2"  title="1/6 + 1/6 + 1/6 + 1/2"></i><i data-col-number="6" data-cells="1-6_1-6_1-6_1-6_1-6_1-6" class="wpc-i-1-6_1-6_1-6_1-6_1-6_1-6" title="1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6"></i><i data-col-number="3" data-cells="1-6_2-3_1-6" class="wpc-i-1-6_2-3_1-6" title="1/6 + 2/3 + 1/6"></i><i data-col-number="2" data-cells="2-3_1-3" class="wpc-i-2-3_1-3" title="2/3 + 1/3"></i><i data-col-number="2" data-cells="5-6_1-6" class="wpc-i-5-6_1-6" title="5/6 + 1/6"></i></div></div><div class="col-layout-type"><span class="col-opt-title">'+wpc_localize.js_strings.col_custom_col+'</span><input type="text" placeholder="'+wpc_localize.js_strings.col_template_ex+'"><span class="apply-custom-col wpc-button-flat wpc-button-color-blue wpc-button-size-sm">'+wpc_localize.js_strings.apply+"</span></div></div>";t.append(e(i).show(0));var a=t.find(".cols-row.row-handle").eq(0).data("col-type");t.find(".wpc-i-"+a).addClass("selected-col")},calculate:function(t){t=t.replace(/\s/g,"");var i=[0],a=[];if(""==t)return!1;if(t.match(/[^0-9%+/. ]/g))return n(wpc_localize.js_strings.invalid_value),!1;t.split("+").forEach((function(e){if(-1==e.indexOf("%")&&-1==e.indexOf("/"))return n(wpc_localize.js_strings.invalid_value),!1;if(e.indexOf("%")>=0){var t=Number(e.replace("%",""));t=Math.floor(100*(t+Number.EPSILON))/100,i.push(t),e=wpc.tools.fraction.toFraction(t,"-")}e.indexOf("/")>=0&&(i.push(wpc.tools.fraction.toDecimal(e)),e=e.replace("/","-")),a.push(e)}));var o=i.reduce((function(e,t){return parseFloat(e)+parseFloat(t)}));return o>100||o<99?(n(wpc_localize.js_strings.col_total_width.replace("$",parseInt(o)+"%")),!1):{cells:a.join("_"),colNum:a.length};function n(t){wpc.ui.frontendEditor.onCustomizer&&wp.customize.previewer.send("wpc-frontend-event","failed"),e.confirm({title:t,acceptTitle:"OK",rejectTitle:"",acceptBtnCol:"confirm-red",acceptAction:function(){return e.confirm.hide(),!1}})}},switcher:function(t){var i,a,o=!1,n=t.cells,s=t.colNum,c=t.rowID,r=null,l=wpc.ui.rowManager.get(c,"col_mode"),p=wpc.data.base.getColumnInRow(c),d=p.length,w=e(".wpc-row[id="+c+"]"),u=parseInt(s)-d;if(u>0){for(var m=[],f=0;f<u;f++){var _=wpc.tools.makeHash();m.push(_),w.append((i=_,a=void 0,(a=e('<div class="wpc-column wpc_node_column"><div class="col-prop"><span data-action="add" class="add-item mtips"><span class="mt-mes">'+wpc_localize.js_strings.col_prepend_item+'</span></span><span data-action="edit" class="edit-col mtips"><span class="mt-mes">'+wpc_localize.js_strings.col_settings+'</span></span><span data-action="remove" class="delete-col mtips"><span class="mt-mes">'+wpc_localize.js_strings.col_settings+'</span></span><span class="col-width-info"></span></div><div class="col-inner ui-sortable"><div class="wpc-item moreitems no_items"><div class="row-item"><span class="item-type-title add-new-item mtips">'+wpc_localize.js_strings.item_add+'<span class="mt-mes">'+wpc_localize.js_strings.col_add_item+"</span></span></div></div></div></div>")).attr("id",i).trigger("change"),a))}wpc.data.base.histories.store(wpc.data.base.maindata),this.add(c,m,n)}else if(u<0){var h=d-Math.abs(u)-1,g=[],v=p.cols.slice(h+1);if(r=v,e.each(v,(function(e,t){if(wpc.data.base.getItemInColumn(t).items.length)return g.push(h+1+e+1),!0})),0!==g.length){var b=g.join(", ");return e.confirm({title:wpc_localize.js_strings.item_on_col_before+" "+b+".\n"+wpc_localize.js_strings.item_on_col_after,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"confirm-red",acceptAction:function(){!function(){wpc.data.base.histories.store(wpc.data.base.maindata);var t=p.cols[h];o={destinationColumn:t,items:[]},e.each(v,(function(i,a){var n=wpc.data.base.getItemInColumn(a);n.items.length&&e.each(n.items,(function(i,a){!wpc.data.base.isInnerRow(c)&&wpc.data.base.isItemOfInnerRow(a)||(wpc.ui.itemManager.move(a,t,!1),e("#"+a).insertBefore(e("#"+t).find(".col-inner").children().last()),o.items.push("#"+a))})),wpc.data.base.remove(a),e("#"+a).remove()})),wpc.data.base.update(c,"col_mode",n);var i=wpc.data.base.maindata;wpc.data.update(wpc.data.readyToSave(i),"moveItem"),y(),wpc.tools.callFunctions(["itemTabRepositioning","rowInnerRepositioning","sortableAll"])}(),e(".wpc-row[id="+c+"]").find(".columns-picker").remove()},rejectAction:function(){wpc.ui.frontendEditor.onCustomizer&&wp.customize.previewer.send("wpc-frontend-event","failed")}}),!1}this.remove(v,n,!0)}else l!=n&&this.updateCells(c,n),l==n&&wpc.ui.frontendEditor.onCustomizer&&wp.customize.previewer.send("wpc-frontend-event","failed");function y(){var t=[],i=[],a=[];n.split(/\s*_\s*/).forEach((function(e){a.push(e),e=e.split("-"),i.push(e[0]/e[1]*100)}));var s=wpc.data.base.getColumnInRow(c);if(e.each(s.cols,(function(o,n){e("#"+n).css("max-width",i[o]+"%").data({"col-num":i[o],"col-cell":a[o]}),e("#"+n).find(".col-width-info").eq(0).text(Math.round(i[o])+"%"),t.push({id:n,size:Number.parseFloat(i[o]).toFixed(3),cell:a[o]})})),wpc.ui.frontendEditor.onCustomizer){var l={job:"updateColumns",rowID:c,colData:t,movedItems:o,base:wpc.data.base.maindata};Array.isArray(r)&&(l.col_to_remove=r.map((function(e){return"#"+e}))),wp.customize.previewer.send("wpc-frontend-event",l)}e(".wpc-row[id="+c+"]").children(".row-control-cont").find(".cols-row.row-handle").data("col-type",n)}y(),wpc.ui.sortableAll(),e(".wpc-row[id="+c+"]").find(".columns-picker").remove()},set:function(t,i){var a=e('.wpc-column[id="'+t+'"]');"block"==i&&a.css({"max-width":"100%",display:"block"}),"default"==i&&a.css({"max-width":a.data("col-num")+"%",display:"inline-block"})},get:function(e,t){return wpc.data.base.getDataByKey(e,t)}},itemManager:{add:function(t){var i={route:"element",data:t};wpc.tools.connect(i,(function(t){if(t){var i=t;wpc.data.base.histories.store(wpc.data.base.maindata),wpc.data.base.maindata=wpc.data.base.load(i.base),wpc.data.base.histories.globalState=!0;try{if(-1!==e.inArray(t.itemObject.type,wpc_localize.item_refresh_after_insert))return wp.customize.previewer.refresh(),!1;if(t.hasOwnProperty("items")){t.itemObject.hasOwnProperty("childOf")&&(t.main_markup.is_child=!0,t.main_markup.child_id=t.itemObject.childOf),t.main_markup.new_item=!0,wp.customize.previewer.send("wpc-frontend-event",{job:"apply",data:t.main_markup,base:wpc.data.base.maindata}),wpc.ui.picker.close(),wp.customize.previewer.send("wpc-frontend-event",{job:"closeItemPicker"});var a=wpc.helpers.tourGetSteps(!1,"all").task;(wpc_localize.auto_open_editor||wpc.ui.builder.onTour&&"panelTour_Step_One"==a)&&wpc.ui.settings.load("rowInner"==t.itemObject.type?wpc.data.base.getInnerRow(t.itemObject.id):t.itemObject.id),wpc.ui.builder.onTour&&"itemsAwesome"==a&&(wpc.helpers.productTour.instance.stop(),wp.customize.previewer.send("wpc-frontend-tour-event",{job:"runTourTasks",task:a})),wpc.ui.frontendEditor.backendEditorActive&&(e("#dragDropitem").replaceWith(e(t.items)),wpc.tools.callFunctions(["addMoreControl","itemTabRepositioning","sortableAll"])),wpc.navigator.render()}}catch(e){}}}))},edit:function(e){wpc.ui.settings.load(e)},create:function(t){var i=t,a=i.data("item-type"),o=i.parent(),n=o.closest(".wpc_node_row").attr("id"),s=o.closest(".wpc_node_column").attr("id"),c={command:"add_item",type:a,label:t.find(".cpdes strong").text(),tabID:"notab",isImport:!1,orderType:"dragDrop",clientData:{postID:parseInt(wpc.ui.post.id),rowIndex:null,columnIndex:null,rowID:n,columnID:s,itemIndex:null}};t.replaceWith(e('<div id="dragDropitem" class="wpc_type_helper wpc-item"><span class="helper_loader"></span></div>')),o.hasClass("wpc-views-section-wrap")&&(c.tabID=o.closest(".wpc_node_tabs").data("tab_cont_id"),i.attr("data-parent_id",c.tabID));var r=wpc.data.base.getIndexes(s);c.clientData.rowIndex=r.rowIndex,c.clientData.columnIndex=r.columnIndex,c.clientData.itemIndex=wpc.tools.getDomItemIndex(o.closest(".wpc_node_column"),"dragDropitem"),wp.customize.previewer.send("wpc-frontend-event",{job:"addDragDropitem",col_id:s,is_child:c.tabID,itemIndex:"notab"===c.tabID?c.clientData.itemIndex:e("#dragDropitem").index()-1}),this.add(c)},clone:function(t){var i;wp.customize.previewer.send("wpc-frontend-event",{job:"setClone",data:{id:t,isCopy:null!==wpc.data.cloneToCopyData&&wpc.data.cloneToCopyData}}),wpc.data.info.frontend||(i=e("#"+t).clone().addClass("clone_root"),e('<div class="cloner_container"><div class="clone_loader"></div></div>').insertAfter("#"+t).append(i),e(".simplebar-content-wrapper").scrollTo(".clone_root",500,{offset:{top:-50}})),wpc.data.clone(t,(function(e){wpc.data.info.frontend||wpc.tools.idReplacer(e.replacer,".cloner_container"),wp.customize.previewer.send("wpc-frontend-event",{job:"applyClone",data:e}),wpc.ui.frontendEditor.updateData(),wpc.navigator.render(),wpc.data.info.frontend=!1,wpc.data.cloneToCopyData=null}))},remove:function(t){if(t){var i=wpc.data.base.maindata,a=e(".wpc-item[id="+t+"]"),o=this.get(t,"type");if(wpc.data.base.histories.store(wpc.data.base.maindata),"typeTAB"==o||"typeAccordion"==o){var n=wpc.data.base.getChildItems(t);Array.isArray(n)&&n.length&&e.each(n,(function(e,t){wpc.data.base.remove(t)}))}"rowInner"==o&&wpc.data.base.remove(wpc.data.base.getInnerRow(t)),wpc.data.base.remove(t),wpc.ui.frontendEditor.removeID=t,wpc.data.update(wpc.data.readyToSave(i),"removeItem"),a.fadeOut(500,(function(){a.remove(),wpc.ui.addMoreControl()}))}},move:function(e,t,i){if(wpc.data.base.move(e,t,"items"),i){var a=wpc.data.base.maindata;wpc.data.update(wpc.data.readyToSave(a),"moveItem")}wpc.ui.addMoreControl()},reOrder:function(t){var i=e('.wpc-item[id="'+t+'"]').closest(".col-inner").sortable("toArray",{attribute:"id"});wpc.data.reOrderData(i,e('.wpc-item[id="'+t+'"]'),"item")},get:function(e,t){return wpc.data.base.getDataByKey(e,t)},info:!1},tabManager:{add:function(t,i){var a=wpc.data.base.maindata,o=e("#"+t+".item-type-tab"),n=(i=wpc.data.base.getItemKeyBase(t),wpc.tools.makeHash()),s='<div id="'+n+'" data-tab_id="'+n+'" class="tabs-label">'+("tabs"==i?"New Tab":"New Accordion Tab")+"</div>",c=("accordions"==i?'<div class="accordion-body-cont">':"")+'<div data-tab_cont_id="'+n+'" class="wpc-views-section wpc_node_tabs"><div class="wpc-views-section-wrap no-item-in wpc-column-wrap"><div class="wpc-element tab-item-prop"><span class="add-new-item mtips"><span class="mt-mes">Add new item to this tab</span></span><span class="edit-tab mtips"><span class="mt-mes">Edit this tab</span></span><span class="delete-tab mtips"><span class="mt-mes">Remove this tab</span></span></div></div></div>'+("accordions"==i?"</div>":"");wpc.data.base.add(t,{id:n,title:"tabs"==i?"New Tab":"New Accordion Tab",use_icon:"no",icon:""},!1,!1,i),wpc.ui.frontendEditor.taskAfterReloadData.push({job:"createNewTab",type:i,id:n,parentID:t}),wpc.data.update(wpc.data.readyToSave(a),"addTab"),o.find(".wpc-views-tabs-wrap").append(c),e(s).insertBefore(o.find(".wpc-views-label .add-tabs")),wpc.ui.settings.keyBase=null,wpc.tools.callFunctions(["itemTabRepositioning","sortableAll","renderNavigator"]),o.find(".tabs-label").last().trigger("click")},remove:function(t){var i=wpc.data.base.maindata,a=wpc.data.base.getParentIds(t,!1,!0)[2],o=wpc.data.base.getItemKeyBase(a),n=e(".tabs-label[data-tab_id="+t+"]").closest(".wpc-views-tabs-wrap").find(".wpc-views-label");wpc.data.base.histories.store(i);var s=wpc.data.base.getChildOfTab(t);Array.isArray(s)&&s.length&&e.each(s,(function(e,t){wpc.data.base.remove(t)})),wpc.data.base.remove(t),wpc.ui.frontendEditor.taskAfterReloadData.push({job:"removeTab",type:o,id:t,parentID:a}),wpc.data.update(wpc.data.readyToSave(i),"removeTab"),wpc.ui.settings.keyBase=null,e(".wpc-views-section[data-tab_cont_id="+t+"]").remove(),e(".tabs-label[data-tab_id="+t+"]").next(".accordion-body-cont").remove(),e(".tabs-label[data-tab_id="+t+"]").remove(),n.find(".tabs-label").length&&n.find(".tabs-label").last().trigger("click")},apply:function(t,i){var a=e(".wpc-item[id="+t+"]").find(".wpc-views-label .tabs-label[data-tab_id="+i.id+"]"),o=i.title;if("yes"==i.use_icon&&""!=i.icon){var n="";i.icon.indexOf("material-icons")>=0&&(n=i.icon.split(" ")[1]),o=("after"==i.icon_pos?i.title:"")+'<span class="'+i.icon+" position-"+i.icon_pos+'">'+n+"</span>"+("before"==i.icon_pos?i.title:"")}a.html(o)}},templateManager:{get:function(t){var i;return i=e.extend(!0,{},wpc_templates),t||null==wpc_templates?t&&null!=i[t]?i[t]:[]:i},load:function(){setTimeout((function(){e(".preset-list").empty(),e(".preset-list").append('<span class="empty-preset">'+wpc_localize.js_strings.template_empty+"</span>")}),100)},add:function(e,t){this.action()},apply:function(e,t){this.action()},applyCloud:function(e,t){this.action()},upload:function(e,t){this.action()},remove:function(e,t){this.action()},action:function(e,t,i){wpc.ui.picker.setUpgradePopup(!1,wpc_localize.js_strings.pro_install_tpl)}},presetManager:{get:function(t){var i;return i=e.extend(!0,{},wpc_presets),t||null==wpc_presets?t&&null!=i[t]?i[t]:[]:i},load:function(){e(".preset-list").empty(),e(".preset-list").append('<span class="empty-preset">'+wpc_localize.js_strings.preset_empty+"</span>")},loadCloud:function(){void 0!==wpc_presets[wpc.ui.settings.type]&&(wpc_presets[wpc.ui.settings.type]=wpc_presets[wpc.ui.settings.type].filter((e=>!e.cloud))),this.action("load",!1,{type:wpc.ui.settings.type})},DataToInstall:!1,before:null,add:function(e,t){this.action()},apply:function(e,t,i){this.action()},upload:function(e,t){this.action()},remove:function(e,t){this.action()},action:function(e,t,i){wpc.ui.picker.setUpgradePopup(!1,wpc_localize.js_strings.pro_save_preset)}},cloudManager:{props:null,install:function(t,i,a){var o="no",n=wpc.data.base.load(t);function s(){var e={route:"cloud",data:{command:"install",data:{json:t,type:i,itemType:a?a.itemType:wpc.ui.settings.type,postID:a?a.postID:wpc.ui.post.id,withAttachment:o}}};wpc.tools.connect(e,(function(e){wpc_hub.setLoader(!0),e.fonts&&(wpcFontsData.wpc_fonts={...wpcFontsData.wpc_fonts,...e.fonts},wpcFontsData.wpc_my_fonts=wpcFontsData.wpc_fonts),"preset"===i?a?(a.inlineEditorData.content=e.data,wpc.data.itemElementUpdate(a)):wpc.ui.presetManager.apply(wpc.ui.cloudManager.props.el,wpc.ui.cloudManager.props.id,e.data):(wpc.data.base.maindata=e.data,wpc.ui.frontendEditor.updateData(),wpc.navigator.render(),wpc.ui.settings.done(),wpc_hub.template.close(),wp.customize.previewer.refresh())}))}n.hasOwnProperty("attachments")&&n.attachments.hasOwnProperty("meta")&&n.attachments.meta.length?e.confirm({title:wpc_localize.js_strings.cloud_pre_install_info+":",acceptTitle:wpc_localize.js_strings.cloud_install_with_img,rejectTitle:wpc_localize.js_strings.cloud_install_no_img,acceptBtnCol:"confirm-blue",acceptAction:function(){o="yes",s()},rejectAction:function(){s()}}):s()},parseJsonData:function(e){return wpc.data.base.load(e)}},settings:{id:null,subID:null,base:null,keyBase:null,isCustomEdit:!1,type:null,isDirty:!1,groupMode:!1,anchor:[],global:!1,isChanged:!1,isSwitch:!1,customTab:!1,label:"",overlayBox:function(){return e("#popup-contents-box")},box:function(){return e("#wpc-editor:not(.items-picker)")},contentBox:function(){return e(".wpc-popup-content-cont:not(.items-selector-box)")},setItemProp:function(e,t,i){this.id=e,this.type=t,this.label=i},switch:function(e){setTimeout((function(){wpc.ui.settings.load(e)}),100)},load:function(t){if(wpc.ui.frontendEditor.backendEditorActive&&wpc.ui.builder.close(),wpc.ui.items.onEdit)return this.isSwitch=t,wpc.ui.changeEvent(),!1;this.isCustomEdit=!1,wpc.ui.editor.active=this.global=this.isChanged=!1,wpc.helpers.responsiveHandler.reset(),wpc.ui.items.el=e("#"+t),wpc.ui.isDirtyStatus(!1),wpc.ui.items.onEdit=!0;var i,a=wpc.data.base.getParentIds(t),o=wpc.data.base.getItemType(t);if(wpc.ui.items.row=a.hasOwnProperty("row_ID")?a.row_ID:null,"item"==o?this.setItemProp(t,wpc.ui.itemManager.get(t,"type"),wpc.ui.itemManager.get(t,"label")):this.setItemProp(t,o+"EDITOR",o),!1===o&&(this.label="Global",this.type="globalEDITOR",this.isCustomEdit=!0,wpc.ui.frontendEditor.onCustomizer&&(this.global=!0)),"tab"==o){var n=wpc.data.base.getItemKeyBase(a.item_ID);this.keyBase=n,this.isCustomEdit=!0,this.subID=t,this.setItemProp(a.item_ID,n+"EDITOR",o)}e(".wpc-popup-global-stt").css("pointer-events","none"),e(".wpc-popup-options:not(.less-margin-bottom), .add-new-row-cont").hide(),e(".item-cp-container").show(),e(".wpc-blank-row").length&&(e(".wpc-blank-row").hide(),e(".item-cp-container").show()),wpc.ui.renderControlPanel(),e("body").addClass("wpc_on_edit_"+this.type),wp.customize.previewer.send("wpc-frontend-event",{job:"setBodyClass",el:this.id,classToRemove:["resp_desktop","resp_tablet","resp_smartphone"],classToAdd:"resp_desktop wpc_editor_active"}),wpc.ui.settings.box().find(".wpc_name").text(this.label+" Settings"),e(".preset-for").text(this.label+" "),e("#wpc-editor").removeClass("builder_is_blank"),e(".wpc_media_editor_note").hide(),e("#wpc_success_msg").remove(),i="tab"==o?t:e('[data-navigator-id="'+this.id+'"]').hasClass("is_row_inner")?e('[data-navigator-id="'+this.id+'"]').closest(".node_inner_row").data("navigator-id"):this.id,e('.workspace_node_label[data-node_id="'+i+'"]').addClass("node_on_edit"),wpc.ui.builder.preview.stop(),wpc.ui.frontendEditor.onCustomizer&&(wpc.ui.frontendEditor.afterEdit=wpc.data.base.get(this.id,!1,!0,wpc.ui.post.id),this.overlayBox().on("mousewheel DOMMouseScroll",(function(t){if(t.target==this){var i=e("#customize-preview iframe").contents();t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?i.scrollTop(i.scrollTop()-35):i.scrollTop(i.scrollTop()+35)}})),e(".wpc-menu-header").addClass("frontOnEdit")),wpc.helpers.liveEditor.set(wpc.ui.post.id,this.id,o),wpc.data.base.setRestorableData();var s=wpc.ui.builder.position.state.get(),c=!1;e("body").hasClass("front_on_hold")&&(s="normal",c=!0),this.box().hasClass("dirty_dialog_size")||wpc.ui.builder.position.set[s](c),wpc.ui.editor.setResponsive()},done:function(){e(".wpc-popup-options").find(".tabloader").remove(),e(".item-cp-container").hide(),this.isSwitch||(e(".wpc-row").show(),e(".wpc-popup-options").show(),0==e(".wpc-blank-row").length?e(".add-new-row-cont").show():e(".wpc-blank-row").show()),wpc.ui.builder.onTour||e(".wpc-popup-global-stt").css("pointer-events","auto"),"globalEDITOR"==this.type&&(wpc.navigator.state={type:"global",currentType:wpc.navigator.state},wpc.data.base.histories.globalState=!0,wpc.ui.builder.preConfig()),e("body").removeClass("wpc_ai_dialog_active wpc_on_edit_"+this.type),wp.customize.previewer.send("wpc-frontend-event",{job:"frontAdjustments",el:wpc.ui.settings.id,classToRemove:["resp_desktop","resp_tablet","resp_smartphone","wpc_editor_active"]}),wpc.ui.frontendEditor.onCustomizer&&null==this.type&&wp.customize.previewer.send("wpc-frontend-event","edit_done"),Object.keys(wpc.ui.items).forEach((function(e){delete wpc.ui.items[e]}));var t=["get","isSwitch","switch","load","set","save","done","base","prepare","anchor","global","changed","overlayBox","box","contentBox","setItemProp","customTab"];Object.keys(this).forEach((function(i){if(-1!==e.inArray(i,t))return!0;delete wpc.ui.settings[i]})),wpc.ui.rowManager.refreshAfterEdit=!1,wpc.ui.instances.iconPicker=[],e(".cd-popup, .sec_color_picker, .meta_editor_ov, #wpc_success_msg, .wpc_row_set_label_cont, .wpc_cloud_preset_cont").remove(),wpc.ui.isDirtyStatus(!1),wpc.ui.settings.box().find(".wpc_name").text(wpc.ui.settings.box().find(".wpc_name").data("wpc-title")),e(".preset-for").text(""),0==e(".wpc-row").length?e("#wpc-editor").addClass("builder_is_blank"):e("#wpc-editor").removeClass("builder_is_blank"),e(".workspace_node_label").removeClass("node_on_edit"),e(".field-date-picker").length&&e(document).find(".cmp-date-time-picker").hide().appendTo("body"),wpc.ui.frontendEditor.onCustomizer&&!this.isSwitch&&(e("body.wp-customizer").hasClass("front_on_hold")&&wp.customize.previewer.send("wpc-frontend-event","remove_front_on_hold"),wpc.ui.builder.preview.start(e(".wpc_dropdown-list")),e("body.wp-customizer").removeClass("front_on_hold"),e(".wpc-menu-header").removeClass("frontOnEdit")),wpc.ui.editor.active=!1;try{e.contextMenu("destroy",".pcr-swatches button"),e.contextMenu("destroy",".scrolleffects-context-menu"),e.contextMenu("destroy",".transform-context-menu"),e.contextMenu("destroy",".position-context-menu"),e.contextMenu("destroy",".filters-context-menu"),e.contextMenu("destroy",".boxshadow-context-menu"),e.contextMenu("destroy",".wpc_ai_ready")}catch(e){}if(wpc.ui.gradx.reset(),wpc.ui.shapeDivider.reset(),wpc.ui.scrollEffects.reset(),wpc.ui.transformMakerApp.reset(),wpc.ui.positionApp.reset(),wpc.ui.filtersApp.reset(),wpc.ui.boxShadowApp.reset(),wpc.ui.media.reset(),wpc.ui.editorManager.reset(),wpc.helpers.responsiveHandler.reset(),wpc.helpers.liveEditor.needRestore&&!1!==wpc.helpers.liveEditor.elementType?(wp.customize.previewer.send("wpc-frontend-event","set_preloader_on"),wpc.helpers.liveEditor.restoreToCurrent()):wpc.data.base.setRestorableData(!0),this.isSwitch||(this.box().removeClass("builder_on_lower_width dock_left_mode dock_right_mode"),e("body.wp-customizer").removeClass("wpc_editor_dock_normal wpc_editor_dock_right wpc_editor_dock_left")),this.groupMode=!1,wpc.helpers.liveEditor.set(),markup.cleanUp(),wpcomposer.editor.hooks.call("editorOnClose",{container:wpcomposer.editor.container}),wpc.ui.builder.onTour){var i=wpc.helpers.tourGetSteps(!1,"all");"frontend"===i.state&&(wpc.helpers.productTour.instance.stop(),wp.customize.previewer.send("wpc-frontend-tour-event",{job:"runTourTasks",task:i.task}))}if(this.isSwitch){var a=this.isSwitch;return this.isSwitch=!1,this.switch(a),!1}e("#wpc_editor_inline_css").length&&e("#wpc_editor_inline_css").remove()}},wpMediaMetaEditor:{load:function(t){e(".meta_editor").remove(),this.action({action:"get",id:t}),e("#content0").append(e('<div class="meta_editor_ov"><span class="dialogloader"></span><div class="meta_editor"><span class="meta_editor_close">x</span><div class="meta_editor_cont"><span class="meta_editor_title">Title:</span><input class="me_meta_title" type="text" /></div><div class="meta_editor_cont"><span class="meta_editor_alt">Alt:</span><input class="me_meta_alt" type="text" /></div><div class="meta_editor_cont"><span class="meta_editor_title">Description:</span><textarea class="me_meta_desc" rows="4" cols="60"></textarea></div><span class="update_media_meta wpc-button-flat wpc-button-color-blue wpc-button-size-sm">Update</span></div></div>')),e(".update_media_meta").data("media_id",t),e(".dialogloader").css({top:e(".wpc-popup-content-cont").scrollTop()+"px"})},update:function(t){this.action({action:"set",id:t,title:e(".me_meta_title").val(),alt:e(".me_meta_alt").val(),description:e(".me_meta_desc").val()})},action:function(t){var i={route:"actions",data:{command:"wpc_media_meta",data:t}};wpc.tools.connect(i,(function(i){e(".update_media_meta").find(".wpc-i-spinner").remove(),e(".dialogloader").remove(),e(".meta_editor").css({top:e(".wpc-popup-content-cont").scrollTop()+"px"}),e(".meta_editor").fadeIn(100),i&&("get"==t.action&&(e(".me_meta_title").prop("value",i.title),e(".me_meta_alt").prop("value",i.alt),e(".me_meta_desc").val(i.desc)),"set"==t.action&&"done"==i.msg&&wpc.tools.notify(wpc_localize.js_strings.media_meta_updated,"success"))}))}},renderControlPanel:function(){markup.type.tabs((function(){setTimeout((function(){wpc.ui.editorManager.init()}),50)}))},changeEvent:function(){if(wpc.ui.settings.id||wpc.ui.settings.type){var t=!1;if(wpc.ui.settings.isDirty&&(t=!0),t)return e.confirm({title:wpc_localize.js_strings.need_save,acceptTitle:"Yes",rejectTitle:"No",acceptBtnCol:"",acceptAction:function(){wpc.data.save()},rejectAction:function(){wpc.helpers.liveEditor.needRestore=!0,wpc.ui.settings.done()}}),!1;wpc.ui.settings.done()}},isDirtyStatus:function(t){t?(wpc.ui.settings.isDirty=!0,(wpc.ui.items.onEdit||wpc.ui.settings.isCustomEdit)&&e(".popup-button.popup-save").removeClass("nochanges")):(wpc.ui.settings.isDirty=!1,e(".popup-button.popup-save").addClass("nochanges"))},editorManager:{id:null,cssMode:"desktop",type:null,reconfigOrder:null,form:null,addNew:null,itemConfig:null,customConfig:null,getSteps:function(e){return!(null===this.reconfigOrder||!this.reconfigOrder.hasOwnProperty(e))&&this.reconfigOrder[e]},init:function(){return this.id=wpc.ui.settings.id,this.type=wpc.ui.settings.type,this.form=e(".item-editor-form-"+this.id),this.itemConfig=null==this.itemConfig?e.extend(!0,{},wpc.data.base.getDataByKey(this.id,"config",this.type)):this.itemConfig,null===this.reconfigOrder?this.formRestore():this[this.getSteps("init")](),!1},formRestore:function(){return this.form.find("span.image-holder")&&this.form.find("span.image-holder img:last-child").remove(),this.form.find(".multiple-image-preview")&&this.form.find(".multiple-image-preview").remove(),"object"==typeof this.itemConfig&&this.form.formRestore(this.itemConfig),null===this.reconfigOrder?this.pluginInit():this[this.getSteps("formRestore")](),!1},pluginInit:function(){return this.form.find(".flat-slider")&&wpc.helpers.slider_reInit(this.form.find(".flat-slider")),this.form.find(".wpc_woo_search_field")&&wpc.helpers.wooCommerceSupport.listProduct(this.form.find(".wpc_woo_search_field")),null===this.reconfigOrder?this.inputFields():this[this.getSteps("pluginInit")](),!1},inputFields:function(){var t=0,i=this.cssMode,a=this.itemConfig;wpcomposer.editor.hooks.call("editorOnInit",{container:wpcomposer.editor.container,data:a}),this.form.find(".buttons li, .the-units li").removeClass("active"),this.form.find(".wpc-editor-control:not(.field-background-prop) .buttons li:first-child, .the-units li:first-child").addClass("active");for(var o=0;o<wpc.tools.delayTriggerInstances.length;o++)clearTimeout(wpc.tools.delayTriggerInstances[o]),window.clearInterval(wpc.tools.delayTriggerInstances[o]);return wpc.tools.delayTriggerInstances=[],"object"==typeof this.itemConfig&&wpc.helpers.responsiveHandler.state&&(this.form.find(".wpc-css-color-param").removeAttr("style"),this.form.find('input[data-type="css"]').val("")),e.each(this.form.find("[data-type]"),(function(o){var n,s=e(this),c=s.attr("name"),r=s.data("type"),l=s.closest(".wpc-field-content");if("meta"!==r||"meta_id"!==c||""!==n&&null!=n||s.val(wpc.tools.makeHash()),"css"==r){if(null==a[r]||null==a[r][i]||null==a[r][i][c])return!0;n=a[r][i][c]}else{if(null==a[r]||null==a[r][c])return!0;n=a[r][c]}if(s.data("encode")){var p=wpc.tools.base64.decode(n);s.data("clean_newline")&&(p=wpc.tools.clean_newline_str(p)),s.data("json-stringify")&&(p=JSON.stringify(p,null,2)),s.text(p).val(p).addClass("field_on_set"),wpc.tools.delayTrigger(s,1*t,"change").then((function(e){e&&e.removeClass("field_on_set")}))}else wpc.ui.editorManager.form.find("[name="+wpc.tools.escapeSelector(c)+"]").val(n);if(l.find(".buttons").length&&(l.find('li[data-value="'+n+'"]').addClass("field_on_set"),wpc.tools.delayTrigger(l.find('li[data-value="'+n+'"]'),1*t,"click").then((function(e){e&&e.removeClass("field_on_set")}))),l.find(".flat-slider").length&&c&&(n.includes("%")&&l.find(".flat-slider").slider("option","max",100),l.find(".flat-slider").slider("option","value",parseInt(n))),l.find(".wpc_post_type").length){var d=l.find(".wpc_post_type").closest(".wpc-field-content").find('input[name="post_type"]').val();d.indexOf(",")>=0?(d=d.split(","),e.each(l.find(".wpc_post_type"),(function(e,t){l.find(".wpc_post_type[value="+d[e]+"]").prop("checked",!0)}))):l.find(".wpc_post_type[value="+d+"]").prop("checked",!0)}if(l.find(".the-units").length){var w=null!=n?n.replace(/[0-9.]/g,""):"",u=null!=n?n:"",m=wpc.ui.editorManager.form.find("[name="+wpc.tools.escapeSelector(c)+"]").closest(".wpc-field-content").find("input[type=number]"),f=s.closest(".wpc-field-content").find(".the-units li").filter((function(){return e(this).text().trim()==w}));m.val(parseFloat(u)).addClass("field_on_set"),wpc.tools.delayTrigger(m,1*t,"change").then((function(e){e&&e.removeClass("field_on_set")})),f.addClass("field_on_set"),wpc.tools.delayTrigger(f,1*t,"click").then((function(e){e&&e.removeClass("field_on_set")}))}if(l.find(".wpc-corners-wrp").length){var _=c.split("|");if(u="","border"==_[1]){var h=null!=n?n.split("|"):"";u=null!=h[0]?h[0].split(" "):"","undefined"!=h[1]&&l.find(".wpc-border-style").val(h[1]?h[1]:""),"undefined"!=h[2]&&l.find(".wpc-css-color-param").val(h[2]?h[2]:"")}else null!=n&&(u=n.split(" "));l.find(".wpc-corners-wrp.wpc-css-field-"+_[1]+" input[data-css-corners]").each((function(e,t){""==u[e]||"inherit"==u[e]||"undefined"==u[e]||void 0===u[e]?this.value:this.value=u[e]})),parseInt(u[0],10)==parseInt(u[1],10)&&parseInt(u[2],10)==parseInt(u[0],10)&&parseInt(u[3],10)==parseInt(u[0],10)&&l.find(".wpc-corners-wrp .m-f-u-li-link .wpc-i-move").parent().removeClass("active").addClass("active")}l.find(".field-radio-images-cnt").length&&(l.find(".wpc_r_img").prop("checked",!1),l.find(".wpc_r_img[value="+n+"]").prop("checked",!0)),t++})),wpc.helpers.responsiveHandler.state&&(wpc.ui.editorManager.fields_setup.background_image_field(a),wpc.ui.editorManager.fields_setup.single_image_field(!0)),null===this.reconfigOrder?this.configure():this[this.getSteps("inputFields")](),!1},configure:function(){var t,i,a=this.itemConfig;if("typeMaps"==this.type){var o=this.form.find("[name=map_custom_marker]").closest(".wpc-param-row").nextAll().slice(0,7);e(o).hide();try{"yes"==(z=a.general).map_custom_marker?o.slice(0,1).show().find(".wpc_r_img[value="+z.map_marker_template+"]").trigger("change"):e(o).hide()}catch(t){e(o).hide()}var n="<br>"+wpc_localize.js_strings.addcustommarker+' <a href="https://ghozy.link/gmapmarker" target="_blank">'+wpc_localize.js_strings.learnmore+"</a>";this.form.find("[name=map_url]").parent().find(".wpc-field-des:not(.link-details)").html('<span class="wpc-i-maps" style="margin-right:3px;"></span>'+wpc_localize.js_strings.addmapsteps+n),this.form.find("[name=map_custom_marker]").parent().find(".wpc-field-des:not(.link-details)").html(wpc_localize.js_strings.showmaps+n),this.form.find('[name=".wpc_maps_styles|map_styles"]').parent().find(".wpc-field-des:not(.link-details)").html('Paste the JSON code here. To styling your maps, you can: <a href="https://ghozy.link/gmapstylings" target="_blank">'+wpc_localize.js_strings.learnmore+"</a>"),wpc_localize.is_gmaps_ready||e('<div style="display: block;" class="wpc-notify">'+wpc_localize.js_strings.gmaps_need_key+"</div>").insertAfter(this.form.find('[name="map_url"]').closest(".wpc-editor-control").find(".wpc-field-label"))}if("typeVideoPlayer"==this.type){var s=this.form.find("[name=vid_url]").parent().find(".wpc-field-des:not(.link-details)"),c=s.text(),r=this.form.find("[name=fullwidth]").closest(".wpc-param-row").nextAll().slice(0,2);r.hide(),"yes"!==this.form.find("[name=fullwidth]").val()&&r.show(),s.html(c+"<br>"+wpc_localize.js_strings.whatsites+' <a href="https://ghozy.link/dlyrx" target="_blank">'+wpc_localize.js_strings.learnmore+"</a>")}if("typePricing"==this.type){var l=this.form.find("[name=items]").parent().find(".wpc-field-des:not(.link-details)"),p=l.text();l.html(p+"<br>"+wpc_localize.js_strings.howaddicon+' <a href="https://ghozy.link/hr2ue" target="_blank">'+wpc_localize.js_strings.learnmore+"</a>")}if("pricingList"==this.type){var d=this.form.find(".field-select-param[name=media_type]").closest(".wpc-param-row").nextAll().slice(0,7);e(d).hide();try{var w=a.general;"icon"==w.media_type&&e(d[6]).fadeIn(300),"image"==w.media_type&&(e(d.slice(0,6)).fadeIn(300),"custom"!=w.size&&e(d[2]).hide(),"yes"!=w.use_img_ig_filter&&e(d[4]).hide())}catch(e){this.form.find('#content0 .field-select-param[name="media_type"]').trigger("change")}this.form.find('#content0 .field-select-param[name="size"]').trigger("change")}if("counterUp"==this.type&&("yes"==this.form.find("[name=cup_icon]").val()?this.form.find("[name=icon]").closest(".wpc-editor-control").show():this.form.find("[name=icon]").closest(".wpc-editor-control").hide()),"postCarousel"==this.type&&("yes"==this.form.find("[name=show_thumbnail]").val()?this.form.find("[name=post_thumbnail_size]").closest(".wpc-editor-control").show():this.form.find("[name=post_thumbnail_size]").closest(".wpc-editor-control").hide(),"yes"==this.form.find("[name=is_readmore]").val()?this.form.find("[name=readmore_label]").closest(".wpc-editor-control").show():this.form.find("[name=readmore_label]").closest(".wpc-editor-control").hide()),"typeList"==this.type&&("list_shape_icon"==this.form.find("[name=list_shape]").val()?this.form.find(".wpc-group-rows").find(".wpc-param-row.field-icon").show():this.form.find(".wpc-group-rows").find(".wpc-param-row.field-icon").hide()),"typeSeparator"==this.type){this.form.find("#content0").find(".wpc-editor-control.field-text, .wpc-editor-control.field-icon").fadeOut(50),this.form.find("#content1").find('li[data-tab="sep-icon"], li[data-tab="sep-text"]').hide();try{void 0!==(y=(y=a.general.type).split("-"))[1]&&(this.form.find("#content0").find(".wpc-editor-control.field-"+y[1]).fadeIn(300),this.form.find("#content1").find('li[data-tab="sep-'+y[1]+'"]').show())}catch(e){}}if("typeImage"==this.type&&(null!=a.general&&null!=a.general.img_overlay&&"yes"==a.general.img_overlay||this.form.find("[name=img_overlay]").closest(".wpc-param-row").next().hide(),null!=a.general&&null!=a.general.use_img_ig_filter&&"yes"==a.general.use_img_ig_filter||this.form.find("[name=use_img_ig_filter]").closest(".wpc-param-row").next().hide()),"imageGallery"==this.type){var u,m=this.form.find("#content0").find("[data-gallery-group]").closest(".wpc-editor-control"),f=this.form.find("#content0").find('.field-select-param[name="prettyphoto_theme"]').closest(".wpc-field-content"),_=this.form.find("[name=hover_effect]").closest(".wpc-editor-control").nextAll().slice(0,2);e(m,_).hide(),f.addClass("is-disabled");try{action=a.general.action,lbStyle=a.general.lightbox_style,u=a.general.hover_effect,this.form.find("#content0").find('[data-gallery-group="'+action+'"]').closest(".wpc-editor-control").show(),"prettyphoto"==lbStyle&&f.removeClass("is-disabled"),"yes"==u?_.show():_.hide()}catch(e){this.form.find('#content0 .field-select-param[name="action"]').trigger("change")}}if((this.form.find("span.image-holder").length||this.form.find(".multiple_image").length)&&(this.form.find(".multiple_image").length?(t=e('<div class="multiple-image-preview"><ul class="all-img-list"></ul></div>'),(i=this.form.find(".multiple_image").closest(".wpc-field-content").find("#mlt-img-url")).val()?(0==this.form.find(".multiple-image-preview").length&&t.insertAfter(i),this.form.find(".multiple-image-preview").prepend('<span class="imglistloader"></span>'),wpc.tools.getWPMediaData(i.val(),this.form.find(".multiple_image").closest(".wpc-field-content"),"image",!0,!0),e(".wpc_media_editor_note").show()):e(".wpc_media_editor_note").hide(),this.form.find(".multiple_image").closest(".wpc-field-content").find(".single-media-preview").addClass("is_multiple_image_mode")):wpc.ui.editorManager.fields_setup.single_image_field(),this.form.find('#content0 .field-select-param[name="size"]').trigger("change")),wpc.ui.editorManager.fields_setup.background_image_field(a),"wpVideo"==this.type||"wpAudio"==this.type){var h="wpVideo"==this.type?"video":"audio",g=this.form.find("span."+h+"-holder"),v=g.closest(".wpc-field-content").find("#"+h+"-url").val();wpc.tools.getWPMediaData(v,g,h)}if(this.form.find("#group-panel").length&&wpc.ui.makeSortable(".wpc-group-rows",".wpc-group-row","group",!1,"y"),"contactForm"==this.type){var b=this.form.find("[name=form_recaptcha]").closest(".wpc-param-row").nextAll().slice(0,2);this.form.find('.field-select-param[name="sent_action"]').trigger("change");try{"yes"==a.general.form_recaptcha?b.show():b.hide()}catch(e){b.hide()}}if("typeTAB"==this.type||"typeAccordion"==this.type){if("typeTAB"==this.type){this.form.find(".field-select-param:not([name=tabstyle]):not([name=default])").closest(".wpc-param-row").hide();try{var y=a.general.tabstyle;this.form.find('#content0 .field-select-param[name*="'+y+'"]').closest(".wpc-param-row").show()}catch(e){this.form.find('#content0 .field-select-param[name="tabstyle"]').trigger("change")}}wpc.helpers.generateDefaultTabs(this.id)}if("productBox"==this.type||"testimonial"==this.type)try{var k=this.form.find("[name=img_ig_filters]").closest(".wpc-param-row"),x=a.general;k.hide(),"yes"==x.use_img_ig_filter&&k.show()}catch(e){k.hide()}if("featureBox"==this.type){d=this.form.find(".field-select-param[name=media_type]").closest(".wpc-param-row").nextAll().slice(0,7);var C=this.form.find("[name=feature_box_btn]").closest(".wpc-param-row").nextAll().slice(0,4),I=this.form.find("[name=feature_box_social_link]").closest(".wpc-param-row").nextAll().slice(0,5);e(d).hide(),e(C).hide(),e(I).hide();try{var z;"icon"==(z=a.general).media_type&&e(d[6]).fadeIn(300),"image"==z.media_type&&(e(d.slice(0,6)).fadeIn(300),"custom"!=z.size&&e(d[2]).hide(),"yes"!=z.use_img_ig_filter&&e(d[4]).hide()),"no"==z.feature_box_btn?C.hide():C.show(),"yes"==z.feature_box_social_link?I.show():I.hide()}catch(e){this.form.find('#content0 .field-select-param[name="media_type"]').trigger("change")}this.form.find('#content0 .field-select-param[name="size"]').trigger("change")}if("typeInstagram"==this.type&&0==e(".token_gen_cont").length){var D=e('<div class="token_gen_cont"><span class="wpc-button-flat wpc-button-color-blue wpc-button-size-normal generate-token">'+wpc_localize.js_strings.generate_token+"</span></div>");this.form.find(".itm-type-typeInstagram").find("[name=token]").closest(".wpc-field-content").append(D)}if("typeFBPost"==this.type||"typeFBPageFeed"==this.type){var T=this.form.find(".itm-type-"+this.type).find("[name=fb_access_token]");if(0==e(".token_gen_cont").length){var A=e('<div class="token_gen_cont"><span data-fb-scope="'+T.data("scope")+'" class="wpc-button-flat wpc-button-color-blue wpc-button-size-normal connect-to-fb">'+wpc_localize.js_strings.connect_with_fb+"</span></div>");T.closest(".wpc-field-content").append(A),e(".token_gen_cont").append('<div class="wpc-oauth-pplc"><a href="https://ghozylab.com/plugins/app-privacy-policy/" target="_blank">&nbsp;Privacy Policy</a>&nbsp;&nbsp;<a href="https://ghozylab.com/plugins/terms-conditions/" target="_blank">&nbsp;Terms &amp; Conditions</a></div>')}if("typeFBPageFeed"==this.type){var O=T.closest(".item-edit-control").find('[name="fb_pages"]').val();if(O)try{O=wpc.tools.base64.decode(O),O=JSON.parse(O);var E=T.closest(".item-edit-control").find('[name="fb_page_id"]');"object"==typeof O&&e.each(O,(function(e,t){E.append('<option value="'+t.id+'">'+t.name+"</option>")})),a.general.fb_page_id&&E.val(a.general.fb_page_id).change()}catch(e){}}}if("newsletterForm"==this.type){null!=a.general&&("getresponse"==a.general.services&&""!=this.form.find("[name=getresponse_api_key]").val()&&this.form.find(".field-getresponse-notes").addClass("hidden-field"),"aweber"==a.general.services&&""!=this.form.find("[name=aweber_data]").val()&&this.form.find(".wpc_aweber_con_dis_button").removeClass("wpc-button-color-blue").addClass("aweber_connected wpc-button-color-red").html("Disconnect")),this.form.find('.field-select-param[name="services"]').trigger("change"),e.each(e(".wpc_grab_list_select"),(function(t,i){if(null==a.general)return e(i).val("none"),!0;var o=e(i).data("service"),n=a.general[o+"_list"];if(null==n||""==n||"none"==n)e(i).val("none");else{e(i).find("option").remove();var s=n.split("|");e("<option/>").val(n).text(s[1]).appendTo(e(i))}}));var j=this.form.find("[name=mailchimp_api_key]").parent().find(".wpc-field-des:not(.link-details)"),S=this.form.find("[name=campaign_monitor_client_id]").parent().find(".wpc-field-des:not(.link-details)"),M=this.form.find("[name=campaign_monitor_api_key]").parent().find(".wpc-field-des:not(.link-details)"),P=this.form.find("[name=mad_mimi_api_key]").parent().find(".wpc-field-des:not(.link-details)"),R=this.form.find("[name=aweber_auth_code]").parent().find(".wpc-field-des:not(.link-details)"),B=j.text(),L=j.text(),F=S.text(),N=M.text(),H=P.text();j.html(B+'<a href="https://ghozy.link/mailchimpapi" target="_blank">'+wpc_localize.js_strings.mailchimpapi+"</a>"),R.html(L+'<a href="https://ghozy.link/aweberauthcode" target="_blank">'+wpc_localize.js_strings.aweberauthcode+"</a>"),S.html(F+'<a href="https://ghozy.link/campaignmonitorcid" target="_blank">'+wpc_localize.js_strings.campaignmonitorcid+"</a>"),M.html(N+'<a href="https://ghozy.link/campaignmonitorapi" target="_blank">'+wpc_localize.js_strings.campaignmonitorapi+"</a>"),P.html(H+'<a href="https://ghozy.link/madmimiapi" target="_blank">'+wpc_localize.js_strings.madmimiapi+"</a>")}if("typeEventCalendar"==this.type&&wpc.helpers.eventCalendar.init(),"tabsEDITOR"==this.type||"accordionsEDITOR"==this.type){var U=a.icon,K=a.use_icon,q=a.id;if(this.form.find("[name=fancy_id]").val(q),e('<i class="wpc-i-clone copy_me"></i>').insertAfter(this.form.find("[name=fancy_id]")),"yes"==K?this.form.find("[name=use_icon]").closest(".wpc-editor-control").removeClass("no-border").nextAll().slice(0,2).show():this.form.find("[name=use_icon]").closest(".wpc-editor-control").addClass("no-border").nextAll().slice(0,2).hide(),U&&(this.form.find(".selected-icon i").removeClass().addClass(U),U.indexOf("material-icons")>=0)){var W=U.split(" ");this.form.find(".selected-icon i").text(W[1])}}if("columnEDITOR"==this.type||"rowEDITOR"==this.type){var V=this.form.find("[name=videobg]").closest(".wpc-editor-control").nextAll().slice(0,2),J=this.form.find("[name=parallax]").closest(".wpc-editor-control").nextAll().slice(0,2);if(J.hide(),V.hide(),setTimeout((function(){"yes"==a.videobg&&V.show(),"yes"==a.parallax&&J.show()}),300),"rowEDITOR"==this.type){var G=a.use_sticky,Y=a.shapedivider,Q=this.form.find("[name=shapedivider]").closest(".wpc-editor-control").nextAll().slice(0,1),X=this.form.find("[name=use_sticky]").closest(".wpc-editor-control").nextAll().slice(0,1);"yes"==Y?Q.show():Q.hide(),"yes"==G?X.show():X.hide(),e(".hidden_label_text").text(wpc.data.base.getDataByKey(wpc.ui.settings.id,"label",wpc.ui.settings.type))}}if("globalEDITOR"==this.type){e(".global-page-name").html('<a target="_blank" href="'+wpc.ui.post.url+'">'+wpc.ui.post.title+'&nbsp;<i class="wpc-i-external-link"></i></a>');var $,Z=this.form.find('.field-textarea-editor[name="global_css"]');Z.val()&&Z.val(wpc.tools.base64.decode(Z.val())).trigger("change"),wpc.ui.frontendEditor.onCustomizer&&this.form.find("[name=global_save_expcoll]").closest(".wpc-editor-control").hide(),$=a.hasOwnProperty("global_layout")?a.global_layout:"none",wpc.tools.getTemplateList($,wpc.ui.post.id,(function(e){wpc.ui.editorManager.form.find(".wpc-layout-selector").append(e)})),wpc_localize.supported_themes&&this.form.find("[name=global_fullwidth]").closest(".wpc-editor-control").hide()}if("wooProducts"==this.type||"wooProductPage"==this.type||"wooProductCategory"==this.type||"wooProductCategories"==this.type){var ee=this.form.find('.woo-product-list[name="woo_ids"]'),te=ee.val().replace(/,\s*$/,""),ie=ee.data("posttype");wpc.helpers.wooCommerceSupport.reloadPanels(ee),""!=te&&wpc.helpers.wooCommerceSupport.appendData(te,ee.closest(".wpc_autocomplete"),ie)}return"item"===wpc.data.base.getItemType(this.id)&&wpcomposer.editor.hooks.call("editorOnLoad",{container:wpcomposer.editor.container,data:wpc.data.base.getItemData(this.id)}),null===this.reconfigOrder?this.reInit():this[this.getSteps("configure")](),!1},reInit:function(){return this.form.find(".wpc-css-color-param").length&&wpc.helpers.pickr_reInit(this.form.find("input.wpc-css-color-param")),this.form.find(".field-switch-cbox").length&&wpc.helpers.switch_reInit(this.form.find(".field-switch-cbox")),this.form.find(".wpc_color_gradient").length&&wpc.helpers.gradX_reInit(this.form.find(".wpc_color_gradient")),null===this.reconfigOrder?(this.form.find(".field-date-picker")&&wpc.helpers.dateTimePicker_reInit(this.form.find(".field-date-picker")),this.form.find(".field-icon-selector")&&wpc.helpers.iconPicker_reInit(this.form.find(".field-icon-selector")),this.form.find(".link-field.primary-value")&&wpc.helpers.theLink_reInit(this.form.find(".link-field.primary-value")),this.form.find(".field-codeeditor").length&&wpc.helpers.codeMirror_reInit(this.form.find(".field-codeeditor")),this.form.find(".wpc_shapedivider").length&&("yes"===this.itemConfig.shapedivider&&(wpc.ui.shapeDivider.isActive=!0),wpc.helpers.shapeDivider_reInit(this.form.find(".wpc_shapedivider"))),this.form.find(".field-texteditor-content")&&wpc.helpers.tinymce_reInit(this.form.find(".field-texteditor-content")),e.each(this.form.find(".wpc_apps"),(function(t,i){wpc.tools.delayTrigger(e(i),1*t,"click").then((function(t){t&&wpc.helpers[e(i).data("app-slug")+"_reInit"](e(i))}))})),this.activate()):this[this.getSteps("reInit")](),!1},activate:function(){return"globalEDITOR"==this.type&&wpc.ui.templateManager.load(),wpc.ui.presetManager.load(),this.form.find(".tabloader").hide(0,(function(){e(".item-edit-control-cont").show(),wpc.ui.builder.onTour&&"backend"===wpc.helpers.tourGetSteps("state")&&(e(".tabs-cont").addClass("disable_me_now"),wpc.helpers.productTour.run(wpc.helpers.tourGetSteps()))})),setTimeout((function(){e(":input",wpc.ui.editorManager.form).on("change keyup paste",(function(){if(e(this).is("input:file")||e(this).hasClass("preset-title")||e(this).hasClass("editor-themes"))return!0;wpc.ui.isDirtyStatus(!0)}))}),1e3),wpc.ui.editor.active=!0,wpc.helpers.responsiveHandler.state&&wpc.ui.presetManager.DataToInstall||(wpc.helpers.responsiveHandler.cssData=void 0!==this.itemConfig.css&&this.itemConfig.css.hasOwnProperty("desktop")?this.itemConfig.css:{desktop:{},tablet:{},smartphone:{}}),this.form.find(".wpc-style-group-nav").length&&this.form.find(".wpc-style-group-nav li").first().trigger("click"),e(".wpc_contextMenu_dock").length||wpc.helpers.contextMenu(".wpc-popup-dock",wpc.helpers.contextMenu(!1,!1,!0)),this.cssMode="desktop",this.finish(),null!==this.reconfigOrder&&this[this.getSteps("activate")](),!1},finish:function(){wpc.ui.editor.active=!0,this.form.find(".wpc-group-rows").length&&(wpc.ui.settings.groupMode=!0,wpc.ui.editorManager.form.find(".wpc-group-rows").hasClass("empty_group")&&(wpc.ui.settings.groupNotChanged=!0)),wpc.helpers.responsiveHandler.state&&wpc.helpers.responsiveHandler.setState(),this.itemConfig=this.customConfig=this.reconfigOrder=null,wpc.ui.presetManager.DataToInstall=!1,delete this.itemConfig,this.addNew&&(wpc.ui.isDirtyStatus(!0),wpc.ui.makeSortable(".wpc-group-rows",".wpc-group-row","group",!1,"y"),wpc.ui.editorManager.addNew.prev().find(".wpc-group-controls").trigger("click"),wpc.helpers.liveEditor.applyChanges(),wpc.ui.editorManager.addNew=null),e.each(e("li[data-tab]"),(function(t,i){e('[data-group="'+e(i).data("tab")+'"]').last().closest(".wpc-param-row").addClass("last_child")})),e(".wpc-notify.unsupported_devices").remove(),e(".wpc-param-row").removeClass("has-unsupported-devices"),e.each(e("[data-unsupported-devices]"),(function(t,i){e(i).data("unsupported-devices").indexOf(wpc.helpers.responsiveHandler.mode)>-1&&e(i).closest(".wpc-param-row").addClass("has-unsupported-devices").append('<div class="wpc-notify unsupported_devices">'+wpc_localize.js_strings.unsupported_field+" "+wpc.helpers.responsiveHandler.mode+" "+wpc_localize.js_strings.unsupported_field_mode+"</div>")})),wpc.ui.settings.customTab&&(e(wpc.ui.settings.customTab).trigger("click"),wpc.ui.settings.customTab=!1),wpc_ai.load(),setTimeout((function(){wp.customize.previewer.send("wpc-frontend-event",{job:"closeItemPicker"})}),100);var t=e(".simplebar-content-wrapper"),i=wpc.ui.editorManager.form.closest(".main-tb"),a=i.find(".wpc-style-group-cont"),o=i.find(".style-panel-tpl"),n=wpc.ui.editorManager.form.find(".wpc_responsive_mode_cont");return t.scroll((function(){if(i.find(".tab-type-style-panel").hasClass("checked")){var e=t.scrollTop();o.offset().top<0&&(a.addClass("wpc_absolute_fixed").css("top",e-67),n.addClass("wpc_responsive_menu_absolute_fixed").css("top",e-53)),o.offset().top>100&&(a.removeClass("wpc_absolute_fixed").css("top","auto"),n.removeClass("wpc_responsive_menu_absolute_fixed").css("top",""))}else a.removeClass("wpc_absolute_fixed").css("top","auto"),n.removeClass("wpc_responsive_menu_absolute_fixed").css("top","")})),!1},reset:function(){this.itemConfig=null,this.customConfig=null,this.reconfigOrder=null,this.cssMode="desktop",this.form=null},fields_setup:{single_image_field:function(t){var i=t?"[data-type=css]":"";wpc.ui.editorManager.form.find("[data-media-type=image]").length&&e.each(wpc.ui.editorManager.form.find("[data-media-type=image]"+i),(function(t,i){var a=e(i).closest(".wpc-field-content").find("span.image-holder"),o=e(i).val();e.isNumeric(o)?(a.append('<span class="imglistloader"></span>'),wpc.tools.getWPMediaData(o,a,"image")):e(".media_loader",a).remove()}))},background_image_field:function(t){wpc.ui.editorManager.form.find(".background-field-switch").length&&(e(".field-background-props").addClass("force_hideme"),e.each(wpc.ui.editorManager.form.find("[name*=bg_control_only]"),(function(i,a){var o=e(a).closest(".wpc-editor-control").nextAll(".field-background-props");null!=t.css&&"yes"==e(a).val()&&o.removeClass("force_hideme");var n=o.slice(1,5);e.each(n,(function(t,i){var a,o=e(i).find(".primary-value");o.data("force-empty")&&""===o.val().trim()&&(o.val(wpc.helpers.setDefaultValue(o)).addClass("field_on_set"),wpc.tools.delayTrigger(o,50*t,"change").then((function(e){e&&e.removeClass("field_on_set")}))),a=o.val(),e(i).find('.buttons li[data-value="'+a+'"]').addClass("active").siblings().removeClass("active")}))})))}}}}),e(window).on("resize",(function(){e("#wpc-editor:not(.items-picker)").hasClass("editor-fullscreen")&&wpc.ui.builder.position.set.fullscreen("full")})),jQuery((function(e){wpc.tools.checkDirectEdit(),wpc.tools.generateConsole(),wpc.tools.generateEditorVars({latestVersion:wpc_localize.wpc_maps_version,storageVersionKey:"wpc_maps_version",storageKey:"wpc_maps",type:"option_fields"},(function(t){wpc.ui.wpc_maps=t,(void 0!==wpc_localize.supported_plugins&&Array.isArray(wpc_localize.supported_plugins)&&wpc_localize.supported_plugins.length||wpc_localize.supported_addons.length)&&e.each(wpcAddonsFields.addons,(function(e,t){wpc.ui.wpc_maps.maps[e]=t}))})),wpc.tools.generateEditorVars({latestVersion:wpc_localize.shape_divider_version,storageVersionKey:"wpc_shapes_version",storageKey:"wpc_shapes",type:"divider_shapes"},(function(e){wpc.ui.shapeDivider.shapes=e.shapes})),wpc.ui.builder.init(),wpc.helpers.liveEditor.elementExceptions=wpc_live_editor.props.elementExceptions,wpc.helpers.liveEditor.keyConnector=wpc_live_editor.props.keyConnector,wpc.ui.builder.theme.init(),wpc.ui.picker.init(),wpc.helpers.contextMenu(".wpc-popup-global-stt"),wpc.ui.myUser.init(),setTimeout((function(){wpc_hub.checkUpdate()}),15e3),wpc.ui.builder.pageOnLoading=!1;let t=new Date;document.addEventListener("visibilitychange",(function(){document.hidden?(wpc.ui.builder.pageOnLoading=!1,e(".wpc_preloader").length&&(wpc.ui.builder.pageOnLoading=!0)):wpc.ui.builder.pageOnLoading&&new Date-t>5e3&&location.reload()}))}))}(jQuery);