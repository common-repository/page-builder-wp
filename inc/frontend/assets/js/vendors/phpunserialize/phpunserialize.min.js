/*!
 * php-unserialize-js JavaScript Library
 * https://github.com/bd808/php-unserialize-js
 *
 * Copyright 2013 Bryan Davis and contributors
 * Released under the MIT license
 * http://www.opensource.org/licenses/MIT
 */

!function(r,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():r.wpcPHPUnserialize=n()}(this,(function(){"use strict";return function(r){var n=0,t=[],e=0,u,a=function(){var t=r.indexOf(":",n),e=r.substring(n,t);return n=t+2,parseInt(e,10)},i=function(){var t=r.indexOf(";",n),e=r.substring(n,t);return n=t+1,parseInt(e,10)},o=function(){var r=i();return t[e++]=r,r},c=function(){var u=r.indexOf(";",n),a=r.substring(n,u);return n=u+1,a=parseFloat(a),t[e++]=a,a},s=function(){var u=r.indexOf(";",n),a=r.substring(n,u);return n=u+1,a="1"===a,t[e++]=a,a},f=function(t='"'){for(var e=a(),u=0,i=0,o,c;i<e;)(o=r.charCodeAt(n+u++))<=127?i++:i+=o>2047?3:2;return r.charAt(n+u)!==t&&(u+=r.indexOf('"',n+u)-n-u),c=r.substring(n,n+u),n+=u+2,c},v=function(){var r=f();return t[e++]=r,r},p=function(){var t=r.charAt(n);return n+=2,t},h=function(){var r=p();switch(r){case"i":return i();case"s":return f();default:var t;throw new Error("Unknown key type '"+r+"' at position "+(n-2))}},d=function(){var r=a(),i=[],o={},c=i,s=e++,f,v,p,d,l;t[s]=c;try{for(p=0;p<r;p++)if(f=h(),v=u(),c===i&&f+""==p+"")i.push(v);else{if(c!==o){for(d=0,l=i.length;d<l;d++)o[d]=i[d];c=o,t[s]=c}o[f]=v}}catch(r){throw r.state=c,r}return n++,c},l=function(r,t){var e,u,a;if("\0"===r.charAt(0)){if((a=r.indexOf("\0",1))>0)return e=r.substring(1,a),u=r.substr(a+1),"*"===e?u:t===e?u:e+"::"+u;var i="Expected two <NUL> characters in non-public property name '"+r+"' at position "+(n-r.length-2);throw new Error(i)}return r},w=function(){var r,i={},o=e++,c=f(),s,v,p;t[o]=i,r=a();try{for(p=0;p<r;p++)s=l(h(),c),v=u(),i[s]=v}catch(r){throw r.state=i,r}return n++,i},b=function(){var r,n;return{__PHP_Incomplete_Class_Name:f(),serialized:f("}")}},x=function(){var r=i(),n=t[r-1];return t[e++]=n,n},g=function(){var r=i();return t[r-1]},y=function(){var r=null;return t[e++]=r,r};return(u=function(){var r=p();switch(r){case"i":return o();case"d":return c();case"b":return s();case"s":return v();case"a":return d();case"O":return w();case"C":return b();case"r":return x();case"R":return g();case"N":return y();default:var t;throw new Error("Unknown type '"+r+"' at position "+(n-2))}})()}}));