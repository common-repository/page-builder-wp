/* ------------------------------------------------------------------------
	Class: prettyPhoto
	Use: Lightbox clone for jQuery
	Author: Stephane Caron (http://www.no-margin-for-errors.com)
	Version: 3.1.6

	'use strict' compatibility by: @Andita

------------------------------------------------------------------------- */

!function(e){"use strict";var t,i,a,o,r,p,n,l,s,c,d,h,f,u,m,v,g,w,y,$,b,k,_,x;function P(){var e=location.href;return(r=-1!==e.indexOf("#prettyPhoto")&&decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)))&&(r=r.replace(/<|>/g,"")),r}function C(e,t){var i=RegExp("[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(t);return null==i?"":i[1]}e.prettyPhoto={version:"3.1.6"},e.fn.prettyPhoto=function(r){r=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!1,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!1,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="https://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="https://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},r);var O,T,z,j,S,I,D,q=this,A=!1,H=e(window).height(),B=e(window).width();function L(){e(".pp_loaderIcon").hide(),(g=a.scrollTop+(H/2-O.containerHeight/2))<0&&(g=0),c.fadeTo(t.animation_speed,1),s.find(".pp_content").animate({height:O.contentHeight,width:O.contentWidth},t.animation_speed),s.animate({top:g,left:B/2-O.containerWidth/2<0?0:B/2-O.containerWidth/2,width:O.containerWidth},t.animation_speed,function(){s.find(".pp_hoverContainer,#fullResImage").height(O.height).width(O.width),s.find(".pp_fade").fadeIn(t.animation_speed),u&&"image"==M(w[y])?s.find(".pp_hoverContainer").show():s.find(".pp_hoverContainer").hide(),t.allow_expand&&(O.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!t.autoplay_slideshow||D||T||e.prettyPhoto.startSlideshow(),t.changepicturecallback(),T=!0}),function i(){if(u&&t.overlay_gallery&&"image"==M(w[y])){k=57;var a="facebook"==t.theme||"pp_default"==t.theme?50:30;_=(_=Math.floor((O.containerWidth-100-a)/k))<w.length?_:w.length,0==(x=Math.ceil(w.length/_)-1)?(a=0,d.find(".pp_arrow_next,.pp_arrow_previous").hide()):d.find(".pp_arrow_next,.pp_arrow_previous").show();var o=_*k,r=w.length*k;d.css("margin-left",-(o/2+a/2)).find("div:first").width(o+5).find("ul").width(r).find("li.selected").removeClass("selected");var p=Math.floor(y/_)<x?Math.floor(y/_):x;e.prettyPhoto.changeGalleryPage(p),h.filter(":eq("+y+")").addClass("selected")}else s.find(".pp_content").off("mouseenter mouseleave")}(),r.ajaxcallback()}function E(i){s.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),s.find(".pp_fade").fadeOut(t.animation_speed,function(){e(".pp_loaderIcon").show(),i()})}function W(e,a){var o=!1,r=!1;G(e,a);var p=e,n=a;if((I>B||S>H)&&i&&t.allow_resize&&!A){for(o=!0,r=!1;!r;)I>B?n=a/e*(p=B-200):S>H?p=e/a*(n=H-200):r=!0,S=n,I=p;(I>B||S>H)&&W(I,S),G(p,n)}return{width:Math.floor(p),height:Math.floor(n),containerHeight:Math.floor(S),containerWidth:Math.floor(I)+2*t.horizontal_padding,contentHeight:Math.floor(z),contentWidth:Math.floor(j),resized:o}}function G(i,a){i=parseFloat(i),a=parseFloat(a);var o=s.find(".pp_details");o.width(i);var r=parseFloat(o.css("marginTop"))+parseFloat(o.css("marginBottom"));r+=(o=o.clone().addClass(t.theme).width(i).appendTo(e("body")).css({position:"absolute",top:-1e4})).height(),r=r<=34?36:r,o.remove();var p=s.find(".ppt");p.width(i);var n=parseFloat(p.css("marginTop"))+parseFloat(p.css("marginBottom"));n+=(p=p.clone().appendTo(e("body")).css({position:"absolute",top:-1e4})).height(),p.remove(),z=a+r,j=i,S=z+n+s.find(".pp_top").height()+s.find(".pp_bottom").height(),I=i}function M(e){if(e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i))return"youtube";if(e.match(/vimeo\.com/i))return"vimeo";if(e.match(/\b.mov\b/i))return"quicktime";if(e.match(/\b.swf\b/i))return"flash";if(e.match(/\biframe=true\b/i))return"iframe";else if(e.match(/\bajax=true\b/i))return"ajax";else if(e.match(/\bcustom=true\b/i))return"custom";else if("#"==e.substr(0,1))return"inline";else return"image"}function N(){i&&void 0!==s&&(a=R(),m=s.height(),v=s.width(),(g=H/2+a.scrollTop-m/2)<0&&(g=0),m>H||s.css({top:g,left:B/2+a.scrollLeft-v/2}))}function R(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function Y(a){if(t.social_tools&&(facebook_like_link=t.social_tools.replace("{location_href}",encodeURIComponent(location.href))),t.markup=t.markup.replace("{pp_social}",""),e("body").append(t.markup),s=e(".pp_pic_holder"),c=e(".ppt"),f=e("div.pp_overlay"),u&&t.overlay_gallery){l=0,n="";for(var o="default",r="",p=0;p<w.length;p++)w[p].match(/\b(jpg|jpeg|png|gif)\b/gi)?(o="",r=w[p]):(o="default",r=""),n+="<li class='"+o+"'><a href='#'><img src='"+r+"' width='50' alt='' /></a></li>";n=t.gallery_markup.replace(/{gallery}/g,n),s.find("#pp_full_res").after(n),h=(d=e(".pp_pic_holder .pp_gallery")).find("li"),d.find(".pp_arrow_next").on("click",function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),d.find(".pp_arrow_previous").on("click",function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),s.find(".pp_content").on({mouseenter:function(){s.find(".pp_gallery:not(.disabled)").fadeIn()},mouseleave:function(){s.find(".pp_gallery:not(.disabled)").fadeOut()}}),k=57,h.each(function(t){e(this).find("a").on("click",function(i){e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),i.preventDefault()})})}t.slideshow&&(s.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),s.find(".pp_nav .pp_play").on("click",function(){return e.prettyPhoto.startSlideshow(),!1})),s.attr("class","pp_pic_holder "+t.theme),f.css({opacity:0,height:e(document).height(),width:e(window).width()}).on("click",function(){t.modal||e.prettyPhoto.close()}),e("a.pp_close").on("click",function(){return e.prettyPhoto.close(),!1}),t.allow_expand&&e("a.pp_expand").on("click",function(t){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),i=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),i=!0),E(function(){e.prettyPhoto.open()}),!1}),s.find(".pp_previous, .pp_nav .pp_arrow_previous").on("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),s.find(".pp_next, .pp_nav .pp_arrow_next").on("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),N()}if(i=!0,a=R(),e(window).off("resize.prettyphoto").on("resize.prettyphoto",function(){N(),H=e(window).height(),B=e(window).width(),void 0!==f&&f.height(e(document).height()).width(B)}),r.keyboard_shortcuts&&e(document).off("keydown.prettyphoto").on("keydown.prettyphoto",function(i){if(void 0!==s&&s.is(":visible"))switch(i.keyCode){case 37:e.prettyPhoto.changePage("previous"),i.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),i.preventDefault();break;case 27:t.modal||e.prettyPhoto.close(),i.preventDefault()}}),e.prettyPhoto.initialize=function(){return"pp_default"==(t=r).theme&&(t.horizontal_padding=16),p=e(this).attr(t.hook),w=(u=!!/\[(?:.*)\]/.exec(p))?jQuery.map(q,function(i,a){if(-1!=e(i).attr(t.hook).indexOf(p))return e(i).attr("href")}):e.makeArray(e(this).attr("href")),$=u?jQuery.map(q,function(i,a){if(-1!=e(i).attr(t.hook).indexOf(p))return e(i).find("img").attr("alt")?e(i).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt")),b=u?jQuery.map(q,function(i,a){if(-1!=e(i).attr(t.hook).indexOf(p))return e(i).attr("title")?e(i).attr("title"):""}):e.makeArray(e(this).attr("title")),w.length>t.overlay_gallery_max&&(t.overlay_gallery=!1),y=jQuery.inArray(e(this).attr("href"),w),o=u?y:e("a["+t.hook+"^='"+p+"']").index(e(this)),Y(this),t.allow_resize&&e(window).on("scroll.prettyphoto",function(){N()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(a){void 0===t&&(t=r,w=e.makeArray(arguments[0]),$=arguments[1]?e.makeArray(arguments[1]):e.makeArray(""),b=arguments[2]?e.makeArray(arguments[2]):e.makeArray(""),u=w.length>1,y=arguments[3]?arguments[3]:0,Y(a.target)),t.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),(l=e(w).size())>1?e(".pp_nav").show():e(".pp_nav").hide(),e(".pp_loaderIcon").show(),t.deeplinking&&void 0!==p&&(location.hash=p+"/"+o+"/"),t.social_tools&&(facebook_like_link=t.social_tools.replace("{location_href}",encodeURIComponent(location.href)),s.find(".pp_social").html(facebook_like_link)),c.is(":hidden")&&c.css("opacity",0).show(),f.show().fadeTo(t.animation_speed,t.opacity),s.find(".currentTextHolder").text(y+1+t.counter_separator_label+e(w).size()),void 0!==b[y]&&""!=b[y]?s.find(".pp_description").show().html(unescape(b[y])):s.find(".pp_description").hide();var l,d=parseFloat(C("width",w[y]))?C("width",w[y]):t.default_width.toString(),h=parseFloat(C("height",w[y]))?C("height",w[y]):t.default_height.toString();return A=!1,-1!=h.indexOf("%")&&(h=parseFloat(e(window).height()*parseFloat(h)/100-150),A=!0),-1!=d.indexOf("%")&&(d=parseFloat(e(window).width()*parseFloat(d)/100-150),A=!0),s.fadeIn(function(){t.show_title&&""!=$[y]&&void 0!==$[y]?c.html(unescape($[y])):c.html("&nbsp;");var a="",o=!1;switch(M(w[y])){case"image":a=new Image;var r=new Image;u&&y<e(w).size()-1&&(r.src=w[y+1]);var p=new Image;u&&w[y-1]&&(p.src=w[y-1]),s.find("#pp_full_res")[0].innerHTML=t.image_markup.replace(/{path}/g,w[y]),a.onload=function(){O=W(a.width,a.height),L()},a.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},a.src=w[y];break;case"youtube":O=W(d,h),""==(movie_id=C("v",w[y]))&&((movie_id=(movie_id=w[y].split("youtu.be/"))[1]).indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="https://www.youtube.com/embed/"+movie_id,C("rel",w[y])?movie+="?rel="+C("rel",w[y]):movie+="?rel=1",t.autoplay&&(movie+="&autoplay=1"),n=t.iframe_markup.replace(/{width}/g,O.width).replace(/{height}/g,O.height).replace(/{wmode}/g,t.wmode).replace(/{path}/g,movie);break;case"vimeo":O=W(d,h),movie="https://player.vimeo.com/video/"+(movie_id=w[y]).match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/)[3]+"?title=0&amp;byline=0&amp;portrait=0",t.autoplay&&(movie+="&autoplay=1;"),vimeo_width=O.width+"/embed/?moog_width="+O.width,n=t.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,O.height).replace(/{path}/g,movie);break;case"quicktime":O=W(d,h),O.height+=15,O.contentHeight+=15,O.containerHeight+=15,n=t.quicktime_markup.replace(/{width}/g,O.width).replace(/{height}/g,O.height).replace(/{wmode}/g,t.wmode).replace(/{path}/g,w[y]).replace(/{autoplay}/g,t.autoplay);break;case"flash":O=W(d,h),flash_vars=(flash_vars=w[y]).substring(w[y].indexOf("flashvars")+10,w[y].length),filename=(filename=w[y]).substring(0,filename.indexOf("?")),n=t.flash_markup.replace(/{width}/g,O.width).replace(/{height}/g,O.height).replace(/{wmode}/g,t.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":O=W(d,h),frame_url=(frame_url=w[y]).substr(0,frame_url.indexOf("iframe")-1),n=t.iframe_markup.replace(/{width}/g,O.width).replace(/{height}/g,O.height).replace(/{path}/g,frame_url);break;case"ajax":i=!1,O=W(d,h),i=!0,o=!0,e.get(w[y],function(e){n=t.inline_markup.replace(/{content}/g,e),s.find("#pp_full_res")[0].innerHTML=n,L()});break;case"custom":O=W(d,h),n=t.custom_markup;break;case"inline":myClone=e(w[y]).clone().append('<br clear="all" />').css({width:t.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),i=!1,O=W(e(myClone).width(),e(myClone).height()),i=!0,e(myClone).remove(),n=t.inline_markup.replace(/{content}/g,e(w[y]).html())}a||o||(s.find("#pp_full_res")[0].innerHTML=n,L())}),!1},e.prettyPhoto.changePage=function(a){l=0,"previous"==a?--y<0&&(y=e(w).size()-1):"next"==a?++y>e(w).size()-1&&(y=0):y=a,o=y,i||(i=!0),t.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),E(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?++l>x&&(l=0):"previous"==e?--l<0&&(l=x):l=e;var i="next"==e||"previous"==e?t.animation_speed:0,a=l*(_*k);d.find("ul").animate({left:-a},i)},e.prettyPhoto.startSlideshow=function(){void 0===D?(s.find(".pp_play").off("click").removeClass("pp_play").addClass("pp_pause").on("click",function(t){e.prettyPhoto.stopSlideshow(),t.preventDefault()}),D=setInterval(e.prettyPhoto.startSlideshow,t.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){s.find(".pp_pause").off("click").removeClass("pp_pause").addClass("pp_play").on("click",function(t){e.prettyPhoto.startSlideshow(),t.preventDefault()}),clearInterval(D),D=void 0},e.prettyPhoto.close=function(){f.is(":animated")||(e.prettyPhoto.stopSlideshow(),s.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(t.animation_speed,function(){e(this).remove()}),f.fadeOut(t.animation_speed,function(){t.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).off("scroll.prettyphoto"),-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto"),t.callback(),i=!0,T=!1,t=void 0}))},!pp_alreadyInitialized&&P()){pp_alreadyInitialized=!0;var F=P(),U=F;F=F.substring(F.indexOf("/")+1,F.length-1),U=U.substring(0,U.indexOf("/")),setTimeout(function(){e("a["+r.hook+"^='"+U+"']:eq("+F+")").trigger("click")},50)}return this.off("click.prettyphoto").on("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;