/* YouTube Gallery Wall- By Dynamic Drive DHTML code library: http://www.dynamicdrive.com
Script Download/ instructions page: http://www.dynamicdrive.com/dynamicindex17/youtube-gallery-wall.htm
Created: April 12, 2016
Last modified: April 15th, 16 v1.1 to fix iOS devices sometimes not loading videos */

"use strict";var youtubeapidfd=jQuery.Deferred();function onYouTubeIframeAPIReady(){youtubeapidfd.resolve()}!function(e){var i,n,a={},t=null!=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),o=null!=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)/i);function d(){e(document.documentElement).removeClass("hidescrollbar"),i.css({display:"none"}),n.stopVideo()}var l=document.createElement("script");l.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(l,r),youtubeapidfd.then(function(){(i=e('<div class="videobox"><div class="centeredchild"><div class="videowrapper"><div id="videoplayer"></div></div></div></div>').appendTo(document.body)).on("click",function(){d()}),i.find(".centeredchild").on("click",function(e){e.stopPropagation()}),e(document).on("keyup",function(e){void 0!==i&&27===e.which&&d()})}),e.fn.youtubegallery=function(d){var l=e.extend({autoplay:"yes",show_rel:0},a,d);return this.each(function(){var a=e(this);a.addClass("youtubewall"),a.find("li").each(function(){var a=e(this),d=a.find("a:not(.custom_link)").get(0);if(null==d)return!0;var r,c=(r=d.getAttribute("href"),/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i.exec(r)[1]),s=a.data("thumb_version"),u=d.getAttribute("data-url");t&&a.css({cursor:"pointer"}),a.html('<div class="thumbwrap"><img src="'+("https://img.youtube.com/vi/"+c+"/")+s+'.jpg" /><div class="panel"><div class="panelinner"><i class="play wpc-i-video_play"></i> <a class="externallink wpc-i-ex_link" href="'+u+'"></a></div></div></div>'),u||a.find(".externallink").css({display:"none"}),a.find(".panel").on("click",function(){var a;void 0!==i&&(e(document.documentElement).addClass("hidescrollbar"),i.css({display:"block","z-index":"9999999"}),void 0===n?(a={id:c,container:"videoplayer",opt:l},n=new YT.Player(a.container,{videoId:a.id,playerVars:{rel:0,autoplay:"yes"==a.opt.autoplay?1:0}})):o?n.cueVideoById(c):n.loadVideoById(c))})})})}}(jQuery);